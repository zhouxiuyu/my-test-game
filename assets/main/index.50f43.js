System.register("chunks:///_virtual/LobbyModePnl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./NetMgr.ts","./PlayerMgr.ts","./UIMgr.ts","./BaseView.ts","./AudioMgr.ts","./FrameWork.ts","./AudioConst.ts","./GameCmd.ts","./UIConfig.ts","./GameConst.ts","./GameCtrl.ts","./UIBase.ts"],(function(e){"use strict";var t,s,i,o,n,a,r,c,h,l,m,d,u,p,f,C,I,g,y,v,P,_,k,S,T;return{setters:[function(e){t=e.inheritsLoose,s=e.defineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,n=e.createClass},function(e){a=e.cclegacy,r=e._decorator,c=e.Node,h=e.Color,l=e.Label,m=e.LabelOutline,d=e.Sprite},function(e){u=e.Const},function(e){p=e.EventDispatcher},function(e){f=e.default},function(e){C=e.default},function(e){I=e.default},function(e){g=e.default},function(e){y=e.AudioMgr},null,function(e){v=e.AudioConst},function(e){P=e.GameCmd},function(e){_=e.default},function(e){k=e.GameEvent},function(e){S=e.GameCtrl},function(e){T=e.UIBase}],execute:function(){var M;a._RF.push({},"0264c+TRMlHr4pi1XkpWZkI","LobbyModePnl",void 0);var R,b=r.ccclass;r.property;!function(e){e[e.None=-1]="None",e[e.RaceModeQuick=0]="RaceModeQuick",e[e.RaceModeClassic=1]="RaceModeClassic",e[e.RaceModeCompetition=2]="RaceModeCompetition",e[e.Chess2=3]="Chess2",e[e.Chess4=4]="Chess4",e[e.Other=5]="Other"}(R||(R={}));var E=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,s(i(t),"selectedColor",new h(255,255,255)),s(i(t),"selectedOutlineColor",new h(157,99,15)),s(i(t),"normalColor",new h(180,255,235)),s(i(t),"normalOutlineColor",new h(0,154,94)),s(i(t),"selectdBg",null),s(i(t),"normalBg",null),s(i(t),"txt",null),s(i(t),"seletedFrame",null),s(i(t),"chessNodeArrs",[]),s(i(t),"_itemType",R.None),t}t(o,e);var a=o.prototype;return a.onLoad=function(){var t;if(e.prototype.onLoad.call(this),this.initViewNode(),this.txt=null===(t=this.view.txt)||void 0===t?void 0:t.getComponent(l),this.seletedFrame=this.view.selected_frame,this.seletedFrame&&(this.seletedFrame.active=!1),this.selectdBg=this.view.selected,this.selectdBg&&(this.selectdBg.active=!1),this.normalBg=this.view.normal,this.normalBg&&(this.normalBg.active=!0),this.node.getChildByName("chess_node")){var s=this.node.getChildByName("chess_node").children;this.chessNodeArrs=s}},a.onDestroy=function(){e.prototype.onDestroy.call(this),this.unscheduleAllCallbacks(),this.chessNodeArrs=[]},a.init=function(e,t){var s=this;this.itemType=e,t&&this.node.on(c.EventType.TOUCH_END,(function(){t(s.itemType)}))},a.isRacePnlItems=function(){return this.itemType==R.RaceModeClassic||this.itemType==R.RaceModeQuick||this.itemType==R.RaceModeCompetition},a.setSelected=function(){this.txt&&this.isRacePnlItems()&&(this.txt.color=this.selectedColor,this.txt.node.getComponent(m).color=this.selectedOutlineColor),this.normalBg&&(this.normalBg.active=!1),this.selectdBg&&(this.selectdBg.active=!0),this.seletedFrame&&(this.seletedFrame.active=!0),this.chessNodeArrs&&this.chessNodeArrs.forEach((function(e){e&&e.getComponent(d)&&(e.getComponent(d).grayscale=!1)}))},a.setNormal=function(){this.txt&&this.isRacePnlItems()&&(this.txt.color=this.normalColor,this.txt.node.getComponent(m).color=this.normalOutlineColor),this.normalBg&&(this.normalBg.active=!0),this.selectdBg&&(this.selectdBg.active=!1),this.seletedFrame&&(this.seletedFrame.active=!1),this.chessNodeArrs&&this.chessNodeArrs.forEach((function(e){e&&e.getComponent(d)&&(e.getComponent(d).grayscale=!0)}))},n(o,[{key:"itemType",get:function(){return this._itemType},set:function(e){this._itemType=e}}]),o}(T);e("LobbyModePnl",b("LobbyModePnl")(M=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,s(i(t),"modeItem0",null),s(i(t),"modeItem1",null),s(i(t),"modeItem2",null),s(i(t),"modeItems",[]),s(i(t),"chessItem0",null),s(i(t),"chessItem1",null),s(i(t),"otherItem",null),s(i(t),"setParams",[]),t}t(n,e);var a=n.prototype;return a.onLoad=function(){},a.addEventListeners=function(){f.getIns().onEventMsg(P.OnChangeCaptain,this.onChangeCaptain,this),p.getIns().on(k.PLAYER_SET_TYPE,this.onPlayerSetType,this)},a.removeEventListeners=function(){f.getIns().offEventMsg(P.OnChangeCaptain,this.onChangeCaptain,this),p.getIns().off(k.PLAYER_SET_TYPE,this.onPlayerSetType,this)},a.afterShow=function(){var t=o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.prototype.afterShow.call(this,{}),this.modeItem0=this.nodes["root/content/pnl/item_pnl_0/item0"].addComponent(E),this.modeItem0.init(R.RaceModeQuick,this.clickItem.bind(this)),this.modeItems.push(this.modeItem0),this.modeItem1=this.nodes["root/content/pnl/item_pnl_0/item1"].addComponent(E),this.modeItem1.init(R.RaceModeClassic,this.clickItem.bind(this)),this.modeItems.push(this.modeItem1),this.modeItem2=this.nodes["root/content/pnl/item_pnl_0/item2"].addComponent(E),this.modeItem2.init(R.RaceModeCompetition,this.clickItem.bind(this)),this.modeItems.push(this.modeItem2),this.chessItem0=this.nodes["root/content/pnl/item_pnl_1/item0"].addComponent(E),this.chessItem0.init(R.Chess2,this.clickItem.bind(this)),this.chessItem1=this.nodes["root/content/pnl/item_pnl_1/item1"].addComponent(E),this.chessItem1.init(R.Chess4,this.clickItem.bind(this)),this.otherItem=this.nodes["root/content/pnl/item_pnl_2/item0"].addComponent(E),this.otherItem.init(R.Other,this.clickItem.bind(this)),this.nodes["root/content/pnl/close"].on(c.EventType.TOUCH_END,this.onClickClose,this),this.refreshItems(S.getIns().model.params),this.setParams=S.getIns().model.params,console.log("setParams == ",this.setParams);case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.refreshItems=function(e){var t=S.getIns().defaultDisplay;if(3==t.length)this.modeItem0.node.active=!0,this.modeItem1.node.active=!0,this.modeItem2.node.active=!0;else{this.modeItems.forEach((function(e){e.node.active=!1}));for(var s=0;s<t.length;s++){var i=t[s];this.modeItems[i].node.active=!0}}var o=e[0],n=e[1],a=e[2];this.modeItems.forEach((function(e){e.setNormal()})),this.modeItems[o].setSelected(),this.chessItem0.setNormal(),this.chessItem1.setNormal(),2==n?this.chessItem0.setSelected():this.chessItem1.setSelected(),this.otherItem.setNormal(),1==a&&this.otherItem.setSelected()},a.clickItem=function(e){switch(console.log("clickItem === ",e),console.log("setParams === ",this.setParams),y.getIns().playSound(v.click),e){case R.RaceModeQuick:this.setParams[0]=0;break;case R.RaceModeClassic:this.setParams[0]=1;break;case R.RaceModeCompetition:this.setParams[0]=2;break;case R.Chess2:this.setParams[1]=2;break;case R.Chess4:this.setParams[1]=4;break;case R.Other:this.setParams[2]=0==this.setParams[2]?1:0}this.reqSetType()},a.onClickClose=function(){I.getIns().closeView(_.LobbyModeSelect)},a.onChangeCaptain=function(e){e.uniqueId==C.getIns().getSelfData().uniqueId||this.onClickClose()},a.onPlayerSetType=function(e){this.refreshItems([e.type,e.planeNum,e.isItem])},a.reqSetType=function(){var e={type:this.setParams[0],planeNum:this.setParams[1],isItem:this.setParams[2]};console.log("reqSetType  params == ",JSON.stringify(e)),f.getIns().request(P.SetType,e,(function(e){console.log("reqSetType callback resultData == ",JSON.stringify(e)),e.resultCode==u.SERVER_RESULT_CODE.SUCCESS||console.error("reqSetType fail retCode === ",e.reusltCode)}))},n}(g))||M);a._RF.pop()}}}));

System.register("chunks:///_virtual/ThrowCidePnl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./PlayerMgr.ts","./sdk.ts","./AudioMgr.ts","./Util.ts","./FrameWork.ts","./AudioConst.ts","./GameConst.ts","./GameUICustomConfig.ts","./GameCtrl.ts","./UIBase.ts","./Cide.ts"],(function(e){"use strict";var t,o,i,n,r,s,l,a,h,c,u,_,d,g,p,f,C,w,m,I,y,v,P,R,T,A,b;return{setters:[function(e){t=e.inheritsLoose,o=e.defineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,s=e.Sprite,l=e.Label,a=e.Node,h=e.Animation,c=e.Vec3,u=e.Button,_=e.resources,d=e.isValid,g=e.Tween,p=e.tween},function(e){f=e.EventDispatcher},function(e){C=e.default},function(e){w=e.sdk},function(e){m=e.AudioMgr},function(e){I=e.default},function(e){y=e.FrameWork},function(e){v=e.AudioConst},function(e){P=e.GameEvent},function(e){R=e.GameUICustomConfig},function(e){T=e.GameCtrl},function(e){A=e.UIBase},function(e){b=e.Cide}],execute:function(){var D;n._RF.push({},"02d6cnQhAlJfqS0P5UZg7Nm","ThrowCidePnl",void 0);var U=r.ccclass,k=(r.property,e("ReRollComponent",function(e){function n(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(i(t),"_priceIcon",null),o(i(t),"_priceLbl",null),o(i(t),"_progress",null),o(i(t),"_progressStartRange",.02),o(i(t),"_progressEndRange",1),o(i(t),"_progressId",null),o(i(t),"_totalTime",T.getIns().rerollTimeout),o(i(t),"_player",null),o(i(t),"_seq",0),o(i(t),"_clickCallback",null),o(i(t),"_timeoutCallback",null),o(i(t),"_rerollCount",0),o(i(t),"_rerollPrices",T.getIns().price),t}t(n,e);var r=n.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),f.getIns().on(P.CLEAR_REROLL_COM,this.onClearRerollCom,this)},r.onClearRerollCom=function(){y.log("通过消息 onClearRerollCom 清理------"),this.hide(),this.clearTimeout(),this._timeoutCallback=null},r.clearReroll=function(){y.log("通过调用来清理 clearReroll -----"),this.onClearRerollCom()},r.onDestroy=function(){e.prototype.onDestroy.call(this),this.unscheduleAllCallbacks(),this.clearTimeout(),this._clickCallback=null,this._timeoutCallback=null,f.getIns().off(P.CLEAR_REROLL_COM,this.onClearRerollCom,this)},r.init=function(){var e=this;this.initViewNode(),this._priceIcon=this.view["root/coin"].getComponent(s),this._priceLbl=this.view["root/price"].getComponent(l),this._progress=this.view["root/progress"].getComponent(s),this.hide(),this.node.on(a.EventType.TOUCH_END,this.onReRollTouch,this),C.getIns().gameModeInfo.moneyIcon&&I.loadRemoteLogo(C.getIns().gameModeInfo.moneyIcon,(function(t){t&&(e._priceIcon.spriteFrame=t)}))},r.setPlayer=function(e){this._player=e},r.setSeq=function(e,t){this._seq=e,this._rerollCount=t,this.updatePrice()},r.setClickCallback=function(e){void 0===e&&(e=null),this._clickCallback=e},r.updatePrice=function(){var e=this._rerollCount>=this._rerollPrices.length?this._rerollPrices[this._rerollPrices.length-1]:this._rerollPrices[this._rerollCount];this._priceLbl.string=0==e?"free":e+""},r.onReRollTouch=function(){y.log("onReRollTouch ..... "),this._player&&this._player._playerInfo.uniqueId==C.getIns().getSelfData().uniqueId&&(this._clickCallback&&this._clickCallback(),this.onClearRerollCom())},r.startProgress=function(e,t){var o=this;if(void 0===t&&(t=null),this.clearTimeout(),this._player&&this._player._playerInfo.uniqueId==C.getIns().getSelfData().uniqueId){this._timeoutCallback=t;var i=e;this._progress.fillStart=this._progressStartRange,this._progress.fillRange=e/this._totalTime*this._progressEndRange,this._progressId=setInterval((function(){o.node?(i-=.1,o._progress.fillRange=i/o._totalTime*o._progressEndRange,i<=0&&(o._timeoutCallback&&o._timeoutCallback(),o.hide(),o.clearTimeout())):o.clearTimeout()}),100)}},r.clearTimeout=function(){y.log("ReRollComponent  clearTimeout ......."),null!=this._progressId&&(clearInterval(this._progressId),this._progressId=null),this.node&&(this._progress.fillRange=0),this._timeoutCallback=null},r.show=function(){T.getIns().reroll&&this._player._playerInfo.uniqueId==C.getIns().getSelfData().uniqueId&&(y.log("当前玩家是自己显示重摇气泡------"),this.node.active=!0,this.view.root.getComponent(h).play("throwPop"),m.getIns().playSound(v.click))},r.hide=function(){y.log("ReRollComponent  hide......."),this.node.active=!1},r.canReroll=function(){return T.getIns().reroll},n}(A)));e("ThrowCidePnl",U("ThrowCidePnl")(D=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(i(t),"_crow",null),o(i(t),"_cide",null),o(i(t),"_diceNode",null),o(i(t),"_arrow",null),o(i(t),"_arrowOrgPos",new c(0,0,0)),o(i(t),"_arrowUpPos",new c(0,0,0)),o(i(t),"_arrowDown",new c(0,0,0)),o(i(t),"_canThrow",!1),o(i(t),"_player",null),o(i(t),"_reroll",null),o(i(t),"_isGold",!1),o(i(t),"_playerInfo",null),o(i(t),"_crowChangePath","ui/battle/changeTex/feixing_game_icon_01_1"),t}t(n,e);var r=n.prototype;return r.onEnable=function(){f.getIns().on(P.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG,this.onUpdateCustomUIConfig,this)},r.onDisable=function(){f.getIns().off(P.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG,this.onUpdateCustomUIConfig,this)},r.onUpdateCustomUIConfig=function(){var t=this;if(e.prototype.initViewNode.call(this),this._playerInfo){var o=w.getViewConfig();if(this._crow=this.view.crow,this._playerInfo&&T.getIns().gameUiCustomConfig&&T.getIns().gameUiCustomConfig.isPlayerDiceCrownValid(this._playerInfo.playerId)){var i=T.getIns().gameUiCustomConfig.getPlayerByUid(this._playerInfo.playerId);R.loadRemoteSpriteFrame(this._crow.getComponent(s),i.diceCrown,(function(e){e||o&&o.game_chess&&o.game_chess.custom&&t.loadSpriteFrame(t._crow,t._crowChangePath)}))}else T.getIns().gameUiCustomConfig&&T.getIns().gameUiCustomConfig.diceCrown?R.loadRemoteSpriteFrame(this._crow.getComponent(s),T.getIns().gameUiCustomConfig.diceCrown,(function(e){e||o&&o.game_chess&&o.game_chess.custom&&t.loadSpriteFrame(t._crow,t._crowChangePath)})):o&&o.game_chess&&o.game_chess.custom&&this.loadSpriteFrame(this._crow,this._crowChangePath)}},r.init=function(e){this._playerInfo=e,this.initViewNode(),this.onUpdateCustomUIConfig()},r.setPlayerInfo=function(e){this._playerInfo=e},r.initViewNode=function(){e.prototype.initViewNode.call(this),this._arrow=this.view.sign,this._arrowOrgPos.set(this._arrow.getPosition()),this._arrowDown.set(this._arrowOrgPos.x,this._arrowOrgPos.y-10,this._arrowOrgPos.z),this._arrowUpPos.set(this._arrowOrgPos.x,this._arrowOrgPos.y+10,this._arrowOrgPos.z),this._crow=this.view.crow,this._diceNode=this.view.cide;var t=this.view.cide.addComponent(u);t.transition=u.Transition.SCALE,t.zoomScale=1.2,t.duration=.1,this.addButtonListener("cide",this.onClickThrow,this),this._cide=this.view.cide.addComponent(b),this._cide.init(this._playerInfo),this._reroll=this.view.reroll.addComponent(k),this._reroll.init()},r.loadSpriteFrame=function(e,t){_.load(t+"/spriteFrame",(function(t,o){t?console.log("load asset err == ",t):d(e)&&e.getComponent(s)&&d(o)&&(e.getComponent(s).spriteFrame=o)}))},r.setPlayer=function(e){this._player=e,this._player&&this._player._playerInfo.uniqueId!=C.getIns().getSelfData().uniqueId&&(this.view.cide.getComponent(u).interactable=!1),this._reroll.setPlayer(e)},r.onClickThrow=function(){if(console.log("onClickThrow canThrow == ",this._canThrow),this._canThrow&&this._player._playerInfo.uniqueId==C.getIns().getSelfData().uniqueId){var e=parseInt(this._player._gameViewSc.pointInput.string);T.getIns().requestThrowDice(e||0),this.stopArrowAni(),T.getIns().reroll&&this._reroll.clearReroll()}},r.playArrowAniByDice=function(e){e>0?this.playArrowAni():this.stopArrowAni()},r.turnToPlayer=function(e){this.node.active=!0,this._canThrow=e>=1,this.setDiceColor(e),this.showCrow(),this.hideNumber(),this.playArrowAniByDice(e),T.getIns().reroll&&this._reroll.clearReroll()},r.setDiceColor=function(e){2==e?this.showGoldDice():this.showNormalDice()},r.clearTurn=function(){T.getIns().reroll&&this._reroll.clearReroll(),this._canThrow=!1,this._isGold||this.showNormalDice(),this.showCrow(),this.hideNumber(),this.stopArrowAni(),this._player&&this._player._playerInfo.uniqueId!=C.getIns().getSelfData().uniqueId&&(this.node.active=!1)},r.setCideNum=function(e){this._cide.setNumber(e)},r.hideCide=function(){this._cide.hide()},r.showCide=function(){this._cide.show()},r.hideNumber=function(){this._cide.hideNumber()},r.showNumber=function(){this._cide.showNumber()},r.hideCrow=function(){this._crow.active=!1},r.showCrow=function(){this._crow.active=!0},r.playCideAnim=function(){this.hideCide(),this.hideCrow()},r.stopDiceAnim=function(){this.showCrow()},r.endPlayDiceAnim=function(e){this.showCide(),this.hideCrow(),this.showNumber(),this._cide.setNumber(e)},r.showGoldDice=function(){this._isGold=!0,this._cide.setGoldColor()},r.showNormalDice=function(){console.log("ThrowCidePnl  showNormalDice----------"),this._isGold=!1,this._cide.setNormalColor()},r.playArrowAni=function(){this._player&&this._player._playerInfo.uniqueId==C.getIns().getSelfData().uniqueId&&(this._arrow.active=!0,g.stopAllByTarget(this._arrow),this._arrow.setPosition(this._arrowOrgPos),p(this._arrow).to(.3,{position:this._arrowUpPos}).to(.3,{position:this._arrowOrgPos}).union().repeatForever().start())},r.stopArrowAni=function(){g.stopAllByTarget(this._arrow),this._arrow.active=!1},n}(A))||D);n._RF.pop()}}}));

System.register("chunks:///_virtual/help.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Lang.ts","./BaseView.ts","./AudioMgr.ts","./FrameWork.ts","./AudioConst.ts","./GameCtrl.ts"],(function(t){"use strict";var e,n,o,i,a,s,r,c,l,h,u,d,p,g,f,y;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,o=t.assertThisInitialized,i=t.asyncToGenerator,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,c=t.Label,l=t.Color,h=t.Node,u=t.Component},function(t){d=t.Lang},function(t){p=t.default},function(t){g=t.AudioMgr},null,function(t){f=t.AudioConst},function(t){y=t.GameCtrl}],execute:function(){var m;s._RF.push({},"07d93yMQbFFKZg7ouzUCRh7","help",void 0);var b,C=r.ccclass;r.property;!function(t){t[t.None=-1]="None",t[t.RaceModeQuick=0]="RaceModeQuick",t[t.RaceModeClassic=1]="RaceModeClassic",t[t.RaceModeCompetition=2]="RaceModeCompetition"}(b||(b={}));var v=function(t){function i(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(o(e),"tabLanguageKey",["text_mode_quick","text_mode_classical","text_mode_competition"]),n(o(e),"selectedBg",null),n(o(e),"normalBg",null),n(o(e),"txt",null),n(o(e),"_tabType",b.None),n(o(e),"selectedColor",new l(255,255,255)),n(o(e),"normalColor",new l(146,143,145)),e}e(i,t);var s=i.prototype;return s.onLoad=function(){this.selectedBg=this.node.getChildByName("bg0"),this.normalBg=this.node.getChildByName("bg1"),this.txt=this.node.getChildByName("txt").getComponent(c)},s.setNormal=function(){this.normalBg.active=!0,this.selectedBg.active=!1,this.txt.color=this.normalColor},s.setSelected=function(){this.normalBg.active=!1,this.selectedBg.active=!0,this.txt.color=this.selectedColor},s.init=function(t,e){var n=this;this.tabType=t,e&&this.node.on(h.EventType.TOUCH_END,(function(){var t=n.node.parent.children.length-1;n.node.setSiblingIndex(t),e(n.tabType)}))},a(i,[{key:"tabType",get:function(){return this._tabType},set:function(t){this._tabType=t,this.txt.string=d.getText(this.tabLanguageKey[t])}}]),i}(u);t("Help",C("Help")(m=function(t){function a(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(o(e),"tabs",[]),n(o(e),"txt",null),n(o(e),"txtLanguageKey",["text_help1","text_help","text_help2"]),e}e(a,t);var s=a.prototype;return s.afterShow=function(){var e=i(regeneratorRuntime.mark((function e(){var n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.prototype.afterShow.call(this,{}),this.txt=this.nodes["root/content/ScrollView/view/content/label"].getComponent(c),n=0;n<3;n++)o=this.nodes["root/content/tabs/tab"+n].addComponent(v),this.tabs.push(o);for(i=y.getIns().defaultDisplay,console.log("Help defaultDisplay == ",i),2==i.length&&(this.tabs[2].node.active=!1),1==i.length&&(this.tabs.forEach((function(t){t.node.active=!1})),this.tabs[0].node.active=!0),i&&0!=i.length||this.tabs.forEach((function(t){t.node.active=!1})),a=0;a<i.length;a++)this.tabs[a].init(i[a],this.onClick.bind(this));this.onClick(i[0]);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClick=function(t){g.getIns().playSound(f.click),this.setSelectByType(t),this.txt.string=d.getText(this.txtLanguageKey[t])},s.setSelectByType=function(t){this.tabs.forEach((function(e){e.tabType!=t?e.setNormal():e.setSelected()}))},a}(p))||m);s._RF.pop()}}}));

System.register("chunks:///_virtual/MVP.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./PlayerMgr.ts","./BaseView.ts","./AudioMgr.ts","./BaseLobbyCtrl.ts","./LobbyPlayerItem.ts","./FrameWork.ts","./CommonEffectConfig.ts"],(function(e){"use strict";var t,n,o,i,r,a,l,s,u,f,c,m,p,d,h,y,v,b,g,I,N,P,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,u=e.Label,f=e.Overflow,c=e.Sprite,m=e.resources,p=e.UITransform,d=e.Widget},function(e){h=e.Const},function(e){y=e.EventDispatcher},function(e){v=e.default},function(e){b=e.default},function(e){g=e.AudioMgr},function(e){I=e.BaseLobbyCtrl},function(e){N=e.LobbyPlayerItem},null,function(e){P=e.CommonDragonEffectMgr,C=e.CommonEffectConfig}],execute:function(){var E,R,w,F,D,_,M,z,B,L,S,V,x,A,T;a._RF.push({},"0c170sDWIBDQ5mPFb2hvDD4","MVP",void 0);var O=l.ccclass,W=l.property;e("MVP",(E=O("MVP"),R=W(s),w=W(s),F=W(s),D=W(s),_=W(s),M=W(s),E((L=t((B=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,o(i(t),"lobbyPlayerItem",L,i(t)),o(i(t),"node1",S,i(t)),o(i(t),"node2",V,i(t)),o(i(t),"node3",x,i(t)),o(i(t),"effectNode",A,i(t)),o(i(t),"uiRoot",T,i(t)),r(i(t),"mvpResult",null),r(i(t),"mvpNodes",[]),t}n(t,e);var a=t.prototype;return a.star=function(){},a.onLoad=function(){y.getIns().on(h.Event.Common.ON_EFFECT_FRAME_EVENT,this.onEffectFrameEvent,this),this.mvpNodes.push(this.node1),this.mvpNodes.push(this.node2),this.mvpNodes.push(this.node3)},a.onDestroy=function(){y.getIns().on(h.Event.Common.ON_EFFECT_FRAME_EVENT,this.onEffectFrameEvent,this)},a.init=function(e){for(var t=this,n=0;n<I.getIns().model.data.players.length;n++)e.winPlayerInfo.uniqueId==I.getIns().model.data.players[n].uniqueId&&(e.winPlayerInfo.nftData=I.getIns().model.data.players[n].nftData);this.lobbyPlayerItem.getComponent(N).setData(e.winPlayerInfo);var o=decodeURIComponent(e.winPlayerInfo.name);if(o=v.getIns().trimNameString(o,8),this.lobbyPlayerItem.getComponent(N).txtName.getComponent(u).overflow=f.NONE,this.lobbyPlayerItem.getComponent(N).txtName.string=o,this.lobbyPlayerItem.active=!1,this.lobbyPlayerItem.getChildByName("txt_name").active=!1,this.node1.active=!1,this.node2.active=!1,this.node3.active=!1,P.getIns().playEffect(C.nft1,this.effectNode,1),g.getIns().playSound("audio/sound/MVP"),e.mvpResult&&e.mvpResult.mvpNodes&&e.mvpResult.mvpNodes.length>0){var i=e.mvpResult.mvpNodes.length,r=null;1==i?r=C.nft21:2==i?r=C.nft22:3==i&&(r=C.nft23),P.getIns().playEffect(r,this.effectNode,1);for(var a=0;a<e.mvpResult.mvpNodes.length;a++){var l=this.mvpNodes[a];l.getChildByName("Label").getComponent(u).string=e.mvpResult.mvpNodes[a].count+"",this.loadSpriteFrame(e.mvpResult.mvpNodes[a].sprString,l.getChildByName("Sprite").getComponent(c))}}this.scheduleOnce((function(){t.closeSelf()}),e.duration)},a.onEffectFrameEvent=function(e){if("touxiang"==e)this.lobbyPlayerItem&&(this.lobbyPlayerItem.active=!0);else if("zi"==e){if(this.lobbyPlayerItem){var t=this.lobbyPlayerItem.getChildByName("txt_name");t&&(t.active=!0)}}else"1"==e?this.node1&&(this.node1.active=!0):"2"==e?this.node2&&(this.node2.active=!0):"3"==e&&this.node3&&(this.node3.active=!0)},a.loadSpriteFrame=function(e,t){m.load(e,(function(e,n){e||t&&(t.spriteFrame=n)}))},a.setuiRootRect=function(e){if(e){this.uiRoot.setPosition(e.x,e.y,0);var t=this.uiRoot.getComponent(p);t.height=e.height,t.width=e.width;for(var n=this.uiRoot.getComponentsInChildren(d),o=0;o<n.length;o++){n[o].updateAlignment()}}},t}(b)).prototype,"lobbyPlayerItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(B.prototype,"node1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(B.prototype,"node2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(B.prototype,"node3",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"effectNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"uiRoot",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=B))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/TurnAnimation.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./FrameWork.ts","./GameCmd.ts"],(function(n){"use strict";var t,e,i,o,a,r,s,l,c,h,u,d,p,m,f,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Node,l=n.isValid,c=n.Tween,h=n.Sprite,u=n.tween,d=n.Vec3,p=n.Color,m=n.Component},function(n){f=n.default},null,function(n){g=n.GameCmd}],execute:function(){var N,y,T,v,C;a._RF.push({},"0d8acsGhtpPjaGx+FKRTatG","TurnAnimation",void 0);var A=r.ccclass,F=r.property;n("TurnAnimation",(N=A("TurnAnimation"),y=F({type:s}),N((C=t((v=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(o(t),"aniNode",C,o(t)),t}e(t,n);var a=t.prototype;return a.onLoad=function(){f.getIns().onEventMsg(g.OnGameFinish,this.onGameFinish,this)},a.onDestroy=function(){f.getIns().offEventMsg(g.OnGameFinish,this.onGameFinish,this)},a.onGameFinish=function(){this.clearTurn()},a.showTurn=function(){this.aniNode=this.node.getChildByName("ani"),this.aniNode.active=!0},a.clearTurn=function(){l(this.node)&&(this.aniNode=this.node.getChildByName("ani"),this.aniNode.active=!1,c.stopAllByTarget(this.aniNode),c.stopAllByTarget(this.aniNode.getComponent(h).color))},a.playAnimation=function(){this.aniNode=this.node.getChildByName("ani"),u(this.aniNode).to(.5,{scale:new d(2.48,2.48,2.48)}).to(.5,{scale:new d(2.44,2.44,2.44)}).union().repeatForever().start(),this.aniNode.getComponent(h).color=new p(43,159,255,255),u(this.aniNode.getComponent(h).color).to(.5,{a:100}).to(.5,{a:255}).union().repeatForever().start()},a.stopAnimation=function(){this.aniNode=this.node.getChildByName("ani"),c.stopAllByTarget(this.aniNode),c.stopAllByTarget(this.aniNode.getComponent(h))},t}(m)).prototype,"aniNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=v))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingGameView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Lang.ts","./PlayerMgr.ts","./sdk.ts","./ResMgr.ts","./BaseView.ts","./AudioMgr.ts","./LobbyPlayerItem.ts","./FrameWork.ts","./CommonEffectConfig.ts"],(function(t){"use strict";var e,n,i,a,o,r,s,c,l,g,u,f,m,h,d,p,y,b,v,w,_,C,P,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.defineProperty,r=t.asyncToGenerator},function(t){s=t.cclegacy,c=t._decorator,l=t.Label,g=t.Prefab,u=t.instantiate,f=t.UITransform,m=t.v3,h=t.tween},function(t){d=t.Lang},function(t){p=t.default},function(t){y=t.sdk},function(t){b=t.default},function(t){v=t.default},function(t){w=t.AudioMgr},function(t){_=t.LobbyPlayerItem},function(t){C=t.FrameWork},function(t){P=t.CommonDragonEffectMgr,x=t.CommonEffectConfig}],execute:function(){var I,L,k,N,B,S,T;s._RF.push({},"0dd30VcO5lAZbRHWbqgUbIX","LoadingGameView",void 0);var D=c.ccclass,V=c.property;t("LoadingGameView",(I=D("LoadingGameView"),L=V(l),k=V(g),I((S=e((B=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(a(e),"text",S,a(e)),i(a(e),"startTweenPrefab",T,a(e)),o(a(e),"s",""),o(a(e),"time",.5),e}n(e,t);var s=e.prototype;return s.afterShow=function(){var e=r(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.prototype.afterShow.call(this,n);case 2:this.refresh(n),p.getIns().loginGameData.maxPlayerNum>4?this.text.node.active=!0:(i=y.getViewConfig())&&i.game_opening&&0==i.game_opening.hide?(this.text.node.active=!1,this.showStartTween(n)):this.text.node.active=!0;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.refresh=function(t){b.getIns().preloadUI(C.gameUIConfig.resPath,C.gameUIConfig.bundleName,(function(){}),(function(){t.callback&&t.callback()}))},s.update=function(t){this.time-=t,this.time<=0&&(this.text.string=""+d.getText("game_start_loading")+this.s,this.s+=".",this.s.length>3&&(this.s=""),this.time=.5)},s.showStartTween=function(t){var e=t.gameData,n=u(this.startTweenPrefab);n.getComponent(f).contentSize=this.node.getComponent(f).contentSize,this.node.addChild(n);var i="layout"+(e.players.length-2).toString(),a=n.getChildByName(i);if(a)for(var o=a.children,r=0;r<e.players.length;r++){var s=o[r],c=s.getPosition(),l=s.getChildByName("LobbyPlayerItem");l.getComponent(_).setData(e.players[r]),l.getChildByName("@ctrl_lobby_player_captain_icon").active=!1,l.getChildByName("@ctrl_lobby_player_kickout_icon").active=!1,l.getChildByName("is_reday").active=!1,l.getChildByName("txt_name").active=!1,s.position=r<2?m(0==r?s.getPosition().x-2500:s.getPosition().x+2500,0,0):m(0,2==r?s.getPosition().y-2500:s.getPosition().y+2500,0),a.active=!0,s.active=!0,h(s).to(.2,{position:c}).call((function(){var t=n.getChildByName("effNode");t&&(w.getIns().playSound("audio/sound/Opening"),P.getIns().playEffect(x.nft_common_start,t,1))})).start()}},e}(v)).prototype,"text",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(B.prototype,"startTweenPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=B))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyPlayerItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./Lang.ts","./RoomMgr.ts","./PlayerMgr.ts","./sdk.ts","./UIMgr.ts","./Util.ts","./BaseLobbyCtrl.ts","./BaseCommon.ts","./FrameWork.ts"],(function(t){"use strict";var e,a,i,n,r,o,s,l,c,u,d,f,m,h,p,b,y,g,v,_,k,I,C,F,P,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.defineProperty},function(t){o=t.cclegacy,s=t._decorator,l=t.Sprite,c=t.Label,u=t.Node,d=t.SpriteFrame,f=t.resources,m=t.js,h=t.Component},function(t){p=t.PlayerStatus,b=t.Const},function(t){y=t.EventDispatcher},function(t){g=t.Lang},function(t){v=t.default},function(t){_=t.default},function(t){k=t.sdk},function(t){I=t.default},function(t){C=t.default},function(t){F=t.BaseLobbyCtrl},function(t){P=t.BaseCommon},function(t){L=t.FrameWork}],execute:function(){var R,S,x,N,w,B,z,D,U,A,H,K,M,E,T,O,j;o._RF.push({},"0f363LHCphOGZkbaOPuX9Jl","LobbyPlayerItem",void 0);var q=s.ccclass,G=s.property;t("LobbyPlayerItem",(R=q("LobbyPlayerItem"),S=G(l),x=G(c),N=G(u),w=G(u),B=G(u),z=G(u),D=G(d),R((H=e((A=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(n(e),"head",H,n(e)),i(n(e),"txtName",K,n(e)),i(n(e),"captainFlag",M,n(e)),i(n(e),"btnKick",E,n(e)),i(n(e),"isReday",T,n(e)),i(n(e),"defaultHead",O,n(e)),i(n(e),"spriteFrame",j,n(e)),r(n(e),"data",void 0),r(n(e),"seatIndex",void 0),e}a(e,t);var o=e.prototype;return o.init=function(t){this.txtName.node.active=!1,this.seatIndex=t,this.reset()},o.setData=function(t){if(this.data=t,t){if(L.isShowLobbyPlayerName){var e=decodeURIComponent(t.name);this.txtName.string=_.getIns().trimNameString(e,8),this.txtName.node.active=!0}if(this.defaultHead.active=!1,this.head.node.active=!0,this.isReday.active=t.state==p.ready,1==_.getIns().isBoolAvatarOrNft(t)){var a=this.node.getChildByName("@ctrl_nft_avatar");C.loadNftRemoteFrame(this.head,t.nftData.nftPayloads[0].RichMediaUrl,null,t.avatar,a,!0)}else C.loadRemoteFrame(this.head,t.avatar)}else this.reset()},o.loadSpriteFrame=function(t,e){f.load(t,(function(t,a){t||e&&(e.spriteFrame=a)}))},o.reset=function(){this.txtName.node.active=!1,this.spriteFrame&&(this.head.getComponent(l).spriteFrame=this.spriteFrame),this.data=null,this.head.node.active=!1,this.btnKick.active=!1,this.captainFlag.active=!1,this.isReday.active=!1,this.defaultHead.active=!0;var t=this.node.getChildByName("@ctrl_nft_avatar");t&&(t.active=!1)},o.setReday=function(t){this.isReday.active=t},o.setCaptain=function(t){this.captainFlag.active=t},o.setShowKick=function(t){this.btnKick.active=t},o.onClick=function(t){if(this.data)k.notifyAppChangePlayerStatus(b.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_self_click_game_player_icon,{uid:_.getIns().encodeUniqueId(this.data.uniqueId)});else{if(k.instance.gameConfig.ui.block_change_seat&&k.instance.gameConfig.ui.block_change_seat.custom){var e=F.getIns().model.getSelfPlayerData();if(e&&e.state!=p.escaped_and_leave)return}y.getIns().emit(P.BaseCommonButtonClickEvent,{name:"@ctrl_lobby_players"},{seatIndex:this.seatIndex})}},o.onKickClick=function(){var t=this;this.data&&I.getIns().alert({content:m.formatStr(g.getText("tips_kickout"),decodeURIComponent(this.data.name)),sureInfo:{callback:function(){v.getIns().kickout(t.seatIndex)}},cancelInfo:{callback:function(){}}})},e}(h)).prototype,"head",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(A.prototype,"txtName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(A.prototype,"captainFlag",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(A.prototype,"btnKick",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(A.prototype,"isReday",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(A.prototype,"defaultHead",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(A.prototype,"spriteFrame",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=A))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/Log.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./Env.ts","./Util.ts","./FrameWork.ts"],(function(t){"use strict";var n,e,o,r,i,s,u,a;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){i=t.default},function(t){s=t.default},function(t){u=t.default},function(t){a=t.FrameWork}],execute:function(){r._RF.push({},"0f840ryS1dGEa/ivKPSsDsq","Log",void 0);t("default",function(t){function r(){for(var n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,e(o(n),"logs",[]),n}n(r,t);var i=r.prototype;return i.save=function(){if(s.getIns().isDebug()){var t="";try{for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];t=JSON.stringify(e)}catch(n){t="[oobjeet]"}this.logs.push(t)}},i.uploadLog=function(){if(s.getIns().isDebug()){var t=this.logs.join("\n");t="[[\n                "+u.formatDate()+" uploadLog>>>>>  "+t+"\n            ]]",a.upLoadStr(t)}},i.getLogStr=function(){s.getIns().isDebug()&&a.getServerLogStr((function(t){}))},r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyConst.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t;return{setters:[function(e){o=e.defineProperty},function(e){t=e.cclegacy}],execute:function(){e({PlayerState:void 0,ReqIsAi:void 0,ReqRoomIsPublic:void 0,RoomButtonState:void 0,RoomButtonType:void 0,RoomPlayerState:void 0}),t._RF.push({},"181a8A1HmxMBLaos/LzdpHc","LobbyConst",void 0);var a,E,R,_,n,O,r=e("default",(function(){}));o(r,"SHOW_HELP","SHOW_HELP"),o(r,"LOADING_GAME","LOADING_GAME"),o(r,"CREATE_ROOM","LOBBY_CREATE_ROOM_EVENT"),o(r,"ENTER_ROOM","LOBBY_ENTER_ROOM_EVENT"),o(r,"ROOM_ENTER_PLAYER","ROOM_ENTER_PLAYER"),o(r,"ROOM_LEAVE_PLAYER","ROOM_LEAVE_PLAYER"),o(r,"ROOM_UPDATE_FZ","ROOM_UPDATE_FZ"),o(r,"ROOM_UPDATE_ZB_STATE","ROOM_UPDATE_ZB_STATE"),o(r,"ROOM_UPDATE_BUTTON_STATE","ROOM_UPDATE_BUTTON_STATE"),o(r,"ENTER_LOBBY","ENTER_LOBBY"),o(r,"UPDATE_ACCOUNT","UPDATE_ACCOUNT"),function(e){e[e.PlayerIdle=0]="PlayerIdle",e[e.PlayerReady=1]="PlayerReady",e[e.PlayerLoaded=2]="PlayerLoaded",e[e.PlayerEscaped=3]="PlayerEscaped",e[e.PlayerEscapedExit=4]="PlayerEscapedExit",e[e.PlayerManaged=5]="PlayerManaged",e[e.empty=6]="empty"}(a||(a=e("PlayerState",{}))),function(e){e[e.normal=0]="normal",e[e.zb=1]="zb"}(E||(E=e("RoomPlayerState",{}))),function(e){e[e.show=0]="show",e[e.hide=1]="hide",e[e.disable=2]="disable"}(R||(R=e("RoomButtonState",{}))),function(e){e[e.zb=0]="zb",e[e.start=1]="start",e[e.enter=2]="enter",e[e.Ready=3]="Ready"}(_||(_=e("RoomButtonType",{}))),function(e){e[e.no=0]="no",e[e.yes=1]="yes"}(n||(n=e("ReqIsAi",{}))),function(e){e[e.no=0]="no",e[e.yes=1]="yes"}(O||(O=e("ReqRoomIsPublic",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameCommonMessage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./Lang.ts","./PlayerMgr.ts","./sdk.ts","./BaseLobbyCtrl.ts","./FrameWork.ts"],(function(e){"use strict";var n,t,s,a,o,m,g,c,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator},function(e){a=e.Const},function(e){o=e.default},function(e){m=e.Lang},function(e){g=e.default},function(e){c=e.sdk},function(e){u=e.BaseLobbyCtrl},null],execute:function(){var i;t._RF.push({},"1832frCJaFElrNKUMuFbVzJ","GameCommonMessage",void 0);var _=s.ccclass;s.property,e("GameCommonMessage",_("GameCommonMessage")(i=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var s=t.prototype;return s.sendGameStartMessage=function(){var e=m.getSendAppMsg("text_chat_game_start");console.log("发送游戏开始消息",JSON.stringify(e));var n={type:0,msg:e};c.notifyAppChangeGameStatus(a.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_public_message,n)},s.sendGameRoundsMessage=function(){var e=m.getSendAppMsg("text_chat_new_round");console.log("发送游戏开始消息",JSON.stringify(e));var n={type:0,msg:e};c.notifyAppChangeGameStatus(a.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_public_message,n)},s.sendGameChatSuccessMessage=function(e,n){var t=u.getIns().model.players[e],s={type:0,msg:m.getSendAppMsg("text_chat_success",{name:t.name,uid:g.getIns().encodeUniqueId(t.uniqueId),color:"#00FF00"},n)};c.notifyAppChangeGameStatus(a.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_public_message,s)},s.sendGameChatFailFlagMessage=function(e,n){var t=u.getIns().model.players[e],s={type:0,msg:m.getSendAppMsg("text_chat_fail_flag",{name:t.name,uid:g.getIns().encodeUniqueId(t.uniqueId),color:"#00FF00"},n)};c.notifyAppChangeGameStatus(a.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_public_message,s)},s.sendEscapedMessage=function(e){var n=u.getIns().model.players[e];if(n){var t={type:0,msg:m.getSendAppMsg("text_chat_ran_away",{name:decodeURIComponent(n.name),uid:g.getIns().encodeUniqueId(n.uniqueId),color:"#00FF00"})};c.notifyAppChangeGameStatus(a.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_public_message,t)}},s.sendGameOverMessage=function(e,n){var t={type:0,msg:m.getSendAppMsg("text_chat_result_champion",{name:e,uid:g.getIns().encodeUniqueId(n),color:"#00FF00"})};c.notifyAppChangeGameStatus(a.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_public_message,t)},t}(o))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/WidgetEx.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./FrameWork.ts"],(function(t){"use strict";var e,i,n,r,o,a,p,u,s,c,h,g,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,p=t._decorator,u=t.Node,s=t.CCInteger,c=t.UITransform,h=t.Size,g=t.Component},function(t){l=t.FrameWork}],execute:function(){var f,y,d,m,b,_,w,v,x,W,L,z,E,C,H,D;a._RF.push({},"1981bpA2cRK2bNUjcTGXi9r","WidgetEx",void 0);var k=p.ccclass,O=p.property;t("WidgetEx",(f=k("WidgetEx"),y=O({type:u}),d=O(u),m=O(s),b=O(s),_=O(s),w=O(s),v=O({type:s}),x=O({type:s}),f((e((L=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(r(e),"_target",z,r(e)),n(r(e),"maxWidth",E,r(e)),n(r(e),"maxHeight",C,r(e)),n(r(e),"_h",H,r(e)),n(r(e),"_w",D,r(e)),e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.updateLayout()},a.start=function(){var t=this;setTimeout((function(){t.updateLayout()}),0)},a.onEnable=function(){this.addEventListeners()},a.onDisable=function(){this.removeEventListeners()},a.addEventListeners=function(){},a.removeEventListeners=function(){},a.onChangeSize=function(){},a.updateLayout=function(){if(this._target){var t=0==this.maxWidth?999999:this.maxWidth,e=0==this.maxHeight?999999:this.maxHeight,i=this._target.getComponent(c).contentSize,n=Math.min(i.width+this._w,t),r=Math.min(i.height+this._h,e);this.node.getComponent(c).contentSize=new h(n,r)}},o(e,[{key:"target",get:function(){return this._target},set:function(t){t.getComponent(c)?(this._target=t,this.updateLayout()):l.log("WidgetEx target not find Component(UITransform)")}},{key:"gapW",get:function(){return this._w},set:function(t){this._w=t,this.updateLayout()}},{key:"gapH",get:function(){return this._h},set:function(t){this._h=t,this.updateLayout()}}]),e}(g)).prototype,"target",[y],Object.getOwnPropertyDescriptor(L.prototype,"target"),L.prototype),z=e(L.prototype,"_target",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(L.prototype,"maxWidth",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(L.prototype,"maxHeight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=e(L.prototype,"_h",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=e(L.prototype,"_w",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(L.prototype,"gapW",[v],Object.getOwnPropertyDescriptor(L.prototype,"gapW"),L.prototype),e(L.prototype,"gapH",[x],Object.getOwnPropertyDescriptor(L.prototype,"gapH"),L.prototype),W=L))||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyOtherButtonCom.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./sdk.ts","./AudioMgr.ts","./BaseCommon.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,o,i,s,l,r,a,h,b,c,g,d,_,C,m,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.SpriteFrame,a=t.Node,h=t.Sprite,b=t.Toggle,c=t.assetManager,g=t.Component},function(t){d=t.Const},function(t){_=t.EventDispatcher},function(t){C=t.sdk},function(t){m=t.AudioMgr},function(t){u=t.BaseCommon},null],execute:function(){var p,y,v,f,N,S,B;s._RF.push({},"19a718hx0JCSKD18Gd+iFjk","LobbyOtherButtonCom",void 0);var E=l.ccclass,T=l.property;t("LobbyOtherButtonCom",(p=E("LobbyOtherButtonCom"),y=T(r),v=T(a),p((S=e((N=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,o(i(e),"nodesettingSF",S,i(e)),o(i(e),"soundNode",B,i(e)),e}n(e,t);var s=e.prototype;return s.start=function(){_.getIns().on(d.Event.Common.CHANGE_MUSIC_STATE,this.onChangeMusic,this),_.getIns().on(d.Event.Common.CHANGE_SOUND_STATE,this.onChangeSound,this),this.node.getComponent(h).enabled=!1;var t=m.getIns().isOpenSound();this.soundNode.getComponent(b).isChecked=!t;var e=C.getViewConfig(),n=!0,o=!0;e&&e.lobby_setting_btn&&e.lobby_setting_btn.hide&&(n=!1),e&&e.lobby_help_btn&&e.lobby_help_btn.hide&&(o=!1),0==n&&0==o?this.node.active=!1:(this.node.getChildByName("@ctrl_lobby_setting_btn-001").getComponent(h).spriteFrame=this.nodesettingSF[0],this.node.active=!0)},s.onClickHelp=function(t){_.getIns().emit(d.Event.Common.CLICK_HELP_BUTTON,t)},s.onClickSetting=function(t){var e,n=null===(e=t.target.getComponent(b).checkMark.getComponent(u))||void 0===e?void 0:e.SpritePath,o=c.resources.getInfoWithPath(n);if(console.log("onClickSetting spritePath ===== ",n),console.log("onClickSetting info ===== ",o),o){var i=t.target.getComponent(b).isChecked;m.getIns().saveSoundState(i)}else _.getIns().emit(d.Event.Common.CLICK_SETTING_BUTTON,t)},s.onChangeMusic=function(t){},s.onChangeSound=function(t){this.soundNode.getComponent(b).isChecked=!t},s.onDestroy=function(){_.getIns().off(d.Event.Common.CHANGE_MUSIC_STATE,this.onChangeMusic,this),_.getIns().off(d.Event.Common.CHANGE_SOUND_STATE,this.onChangeSound,this)},s.onClickSetting001=function(t){var e=!0,n=!0,o=C.getViewConfig();o&&o.lobby_setting_btn&&o.lobby_setting_btn.hide?(e=!1,this.node.getChildByName("@ctrl_lobby_setting_btn").active=!1):(this.node.getChildByName("@ctrl_lobby_setting_btn").active=!this.node.getChildByName("@ctrl_lobby_setting_btn").active,0==this.node.getChildByName("@ctrl_lobby_setting_btn").active&&(e=!1)),o&&o.lobby_help_btn&&o.lobby_help_btn.hide?(n=!1,this.node.getChildByName("@ctrl_lobby_help_btn").active=!1):(this.node.getChildByName("@ctrl_lobby_help_btn").active=!this.node.getChildByName("@ctrl_lobby_help_btn").active,0==this.node.getChildByName("@ctrl_lobby_help_btn").active&&(n=!1)),0==e&&0==n?(this.node.getChildByName("@ctrl_lobby_setting_btn-001").getComponent(h).spriteFrame=this.nodesettingSF[0],this.node.getComponent(h).enabled=!1):(this.node.getChildByName("@ctrl_lobby_setting_btn-001").getComponent(h).spriteFrame=this.nodesettingSF[1],this.node.getComponent(h).enabled=!0)},s.onCloseOtherBtn=function(){1==this.node.getChildByName("@ctrl_lobby_setting_btn").active&&(this.node.getChildByName("@ctrl_lobby_setting_btn").active=!1),1==this.node.getChildByName("@ctrl_lobby_help_btn").active&&(this.node.getChildByName("@ctrl_lobby_help_btn").active=!1),this.node.getChildByName("@ctrl_lobby_setting_btn-001").getComponent(h).spriteFrame=this.nodesettingSF[0],this.node.getComponent(h).enabled=!1},e}(g)).prototype,"nodesettingSF",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(N.prototype,"soundNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=N))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/chess.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./PlayerMgr.ts","./sdk.ts","./FrameWork.ts","./GameConst.ts","./GameUICustomConfig.ts","./GameCtrl.ts","./UIBase.ts","./DragonEffectMgr.ts"],(function(e){"use strict";var t,s,i,n,o,a,h,l,_,r,c,p,d,g,u,f,m,y,I,C,P,v,x,S,b,w;return{setters:[function(e){t=e.inheritsLoose,s=e.defineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,a=e._decorator,h=e.Vec3,l=e.dragonBones,_=e.Sprite,r=e.Button,c=e.resources,p=e.Texture2D,d=e.SpriteFrame,g=e.UITransform,u=e.instantiate,f=e.Label,m=e.EventHandler},function(e){y=e.Const},function(e){I=e.EventDispatcher},function(e){C=e.default},function(e){P=e.sdk},null,function(e){v=e.GameEvent},function(e){x=e.GameUICustomConfig},function(e){S=e.GameCtrl},function(e){b=e.UIBase},function(e){w=e.EffectConfig}],execute:function(){var N;o._RF.push({},"1b9e5zP9TlOW6sqwFlqFwsc","chess",void 0);var F=a.ccclass;a.property,e("Chess",F("Chess")(N=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,s(i(t),"_chess",null),s(i(t),"_tips",null),s(i(t),"_tipsArrow",null),s(i(t),"_aniRoot",null),s(i(t),"_selectAni",null),s(i(t),"_pointModel",null),s(i(t),"_player",null),s(i(t),"_playerIndex",0),s(i(t),"_selectScale",1),s(i(t),"_normalScale",.8),s(i(t),"_smallScale",.5),s(i(t),"_tempVec3",new h(1,1,1)),s(i(t),"_onGridScale",new h(.66,.66,.66)),s(i(t),"_pointNodes",[]),s(i(t),"_head",null),s(i(t),"_headOrgScale",new h(.3,.3,.3)),s(i(t),"isAtHome",!1),s(i(t),"_planeIndex",0),s(i(t),"_points",[]),s(i(t),"_canClick",!1),s(i(t),"_isInDes",!1),s(i(t),"_desIndex",-1),s(i(t),"_paths",[]),s(i(t),"_gridPosition",0),s(i(t),"_selected",!1),s(i(t),"_scaleAndOff",!1),s(i(t),"_orgPosition",new h(0,0,0)),s(i(t),"_offset",0),s(i(t),"_tipsOrgPos",new h(0,170,0)),s(i(t),"_chessFsPaths",["ui/battle/feixing_fm_red_01","ui/battle/feixing_fm_green_01","ui/battle/feixing_fm_yellow_01","ui/battle/feixing_fm_blue_01"]),s(i(t),"_chessTypeNftFsPaths",["ui/battle/type_nft_chess_red","ui/battle/type_nft_chess_green","ui/battle/type_nft_chess_yellow","ui/battle/type_nft_chess_blue"]),s(i(t),"_chessNormalFsPaths",["ui/battle/feixing_fm_red_01_1","ui/battle/feixing_fm_green_01_1","ui/battle/feixing_fm_yellow_01_1","ui/battle/feixing_fm_blue_01_1"]),s(i(t),"_chessNormalType1FsPaths",["ui/battle/type1_chess_red","ui/battle/type1_chess_green","ui/battle/type1_chess_yellow","ui/battle/type1_chess_blue"]),s(i(t),"_chessNormalType2FsPaths",["ui/battle/type2_chess_red","ui/battle/type2_chess_green","ui/battle/type2_chess_yellow","ui/battle/type2_chess_blue"]),s(i(t),"_chessNormalFsChangePaths",["ui/battle/changeTex/feixing_fm_red_01_1","ui/battle/changeTex/feixing_fm_green_01_1","ui/battle/changeTex/feixing_fm_yellow_01_1","ui/battle/changeTex/feixing_fm_blue_01_1"]),s(i(t),"_tipsArrowPath",["ui/game/chessTips/feixing_game_tipstriangle_01","ui/game/chessTips/feixing_game_tipstriangle_02","ui/game/chessTips/feixing_game_tipstriangle_03","ui/game/chessTips/feixing_game_tipstriangle_04"]),s(i(t),"_chessPointPath",["ui/game/chessTips/feixing_game_icon_02_2","ui/game/chessTips/feixing_game_icon_02_3","ui/game/chessTips/feixing_game_icon_02_4","ui/game/chessTips/feixing_game_icon_02_5"]),t}t(o,e);var a=o.prototype;return a.onEnable=function(){I.getIns().on(v.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG,this.onUpdateCustomUIConfig,this)},a.onDisable=function(){I.getIns().off(v.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG,this.onUpdateCustomUIConfig,this)},a.initViewNode=function(){e.prototype.initViewNode.call(this),this._chess=this.view.chessbg,this.addButtonListener("chessbg",this.onClickChess,this),this._tips=this.view.tips,this._tips.active=!1,this._pointModel=this.view["tips/point0"],this._pointModel.active=!1,this._aniRoot=this.view.ani_root,this._selectAni=this.view["ani_root/kexuan/dragon"].getComponent(l.ArmatureDisplay),this._selectAni.playAnimation(w.chessKeXuan.animName,0),this._aniRoot.active=!1,this._tipsArrow=this.view.tipArrow,this._tipsArrow.active=!1,this._head=this.view.head},a.addEvent=function(){},a.removeEvent=function(){},a.start=function(){},a.onDestroy=function(){e.prototype.onDestroy.call(this),this.removeEvent(),this._pointNodes=[]},a.onUpdateCustomUIConfig=function(){var t=this;if(this._player&&this._player._playerInfo){e.prototype.initViewNode.call(this),this._chess=this.view.chessbg;var s=P.getViewConfig();if(1==C.getIns().gameModeInfo.chessType?this._chessNormalFsPaths=this._chessNormalType1FsPaths:2==C.getIns().gameModeInfo.chessType&&(this._chessNormalFsPaths=this._chessNormalType2FsPaths),s&&s.game_chess&&s.game_chess.custom&&(this._chessNormalFsPaths=this._chessNormalFsChangePaths),s&&s.nft_avatar&&0==s.nft_avatar.hide&&this._player.isBoolAvatarOrNft(this._player._playerInfo))1!=C.getIns().gameModeInfo.chessType&&2!=C.getIns().gameModeInfo.chessType||(this._chessFsPaths=this._chessTypeNftFsPaths),this.loadSeatFs(this._chess,this._chessFsPaths[this._playerIndex]);else if(S.getIns().gameUiCustomConfig&&S.getIns().gameUiCustomConfig.isPlayerChessValid(this._player._playerInfo.playerId)){var i=S.getIns().gameUiCustomConfig.getPlayerByUid(this._player._playerInfo.playerId),n=[i.chessRed,i.chessGreen,i.chessYellow,i.chessBlue];x.loadRemoteSpriteFrame(this._chess.getComponent(_),n[this._playerIndex],(function(e){e||t.loadSeatFs(t._chess,t._chessNormalFsPaths[t._playerIndex])}))}else if(S.getIns().gameUiCustomConfig&&S.getIns().gameUiCustomConfig.isAllChessUrlValid()){var o=[S.getIns().gameUiCustomConfig.chessRed,S.getIns().gameUiCustomConfig.chessGreen,S.getIns().gameUiCustomConfig.chessYellow,S.getIns().gameUiCustomConfig.chessBlue];x.loadRemoteSpriteFrame(this._chess.getComponent(_),o[this._playerIndex],(function(e){e||t.loadSeatFs(t._chess,t._chessNormalFsPaths[t._playerIndex])}))}else this.loadSeatFs(this._chess,this._chessNormalFsPaths[this._playerIndex])}},a.init=function(e,t,s,i){this._player=e,this.initViewNode(),this._playerIndex=t,this._planeIndex=s,this._paths=i,this.onUpdateCustomUIConfig(),this.loadSeatFs(this._tipsArrow,this._tipsArrowPath[this._playerIndex]),this.loadSeatFs(this._pointModel,this._chessPointPath[this._playerIndex]),this._player._playerInfo.uniqueId!=C.getIns().getSelfData().uniqueId&&(this._chess.getComponent(r).interactable=!1)},a.updatePath=function(){S.getIns().isCompetitionMode()?this._player._playerInfo.isForbidden?this._paths=this._player._gameViewSc.getFobiddenPathByPlayerIndex(this._playerIndex):this._player._playerInfo.isForbidden||(this.gridIsInForbiddenPathNotInNormalPath()?this._paths=this._player._gameViewSc.getFobiddenPathByPlayerIndex(this._playerIndex):this._paths=this._player._gameViewSc.getNormalPathByPlayerIndex(this._playerIndex)):this._paths=this._player._gameViewSc.getNormalPathByPlayerIndex(this._playerIndex)},a.gridIsInForbiddenPathNotInNormalPath=function(){var e=this._player._gameViewSc.getNormalPathByPlayerIndex(this._playerIndex);return-1!=this._player._gameViewSc.getFobiddenPathByPlayerIndex(this._playerIndex).indexOf(this.gridPosition)&&-1==e.indexOf(this.gridPosition)},a.setPlaneIndex=function(e){this._planeIndex=e},a.getPlaneIndex=function(){return this._planeIndex},a.setIndex=function(e){this._playerIndex=e,this.loadSeatFs(this._chess,this._chessFsPaths[this._playerIndex])},a.loadSeatFs=function(e,t){c.load(t,(function(s,i){if(s)console.log("loadSeatFs path == "+t+" err",s);else{var n=new p;n.image=i;var o=new d;o.texture=n,e.getComponent(_).spriteFrame=o}}))},a.getIndex=function(){return this._playerIndex},a.setSelectMode=function(){this._isInDes||(this._tempVec3.set(1,1,1),h.multiplyScalar(this._tempVec3,this._tempVec3,this._selectScale),this.node.setScale(this._tempVec3))},a.setNormalMode=function(){this._isInDes||this._scaleAndOff||(console.log("plane set normal mode------------"),this._chess.setScale(1,1,1),this.node.setScale(1,1,1))},a.setSmallMode=function(){console.log("plane set small mode------------"),console.log("_isInDes === ",this._isInDes),this.node.setScale(.5,.5,.5),this._chess.getComponent(r).interactable=!1},a.hideChess=function(){this._chess.active=!1},a.showChess=function(){this._chess.active=!0},a.setPosition=function(e){this.node.setPosition(e)},a.getPosition=function(){return this.node.getPosition()},a.showTips=function(){this.adjustTipsPosition(),this._tipsArrow.active=!0,this._tips.active=!0},a.hideTips=function(){this._tips.setPosition(this._tipsOrgPos),this._tipsArrow.active=!1,this._tips.active=!1},a.adjustTipsPosition=function(){this._tips.setPosition(this._tipsOrgPos);var e=this.node.position.x,t=this.node.position.y,s=0,i=this._tips.getComponent(g).width;s=e-i/2<-500?i/2:e+i/2>500?-i/2:0;var n=0;t>=450?n=-170:t>=400?n=-100:t>=320&&(n=-20),this._tips.setPosition(this._tipsOrgPos.x+s,this._tipsOrgPos.y+n,this._tipsOrgPos.z)},a.initTips=function(e){this.clearPointNode();var t=[];if(e.forEach((function(e){-1==t.indexOf(e)&&t.push(e)})),t.length>0)for(var s=0;s<t.length;s++)if(s<6){var i=u(this._pointModel);i.active=!0,i.parent=this._tips,this._pointNodes.push(i),i.getChildByName("num").getComponent(f).string=t[s]+"";var n=i.getComponent(r),o=new m;o.target=this.node,o.component="Chess",o.handler="onClickPointNode",o.customEventData=JSON.stringify({num:t[s]}),n.clickEvents.push(o)}},a.clearPointNode=function(){for(;this._pointNodes.length>0;){this._pointNodes.pop().destroy()}},a.onClickPointNode=function(e,t){var s=JSON.parse(t).num;console.log("onClickPointNode point === ",s),this.requestMove(s)},a.isAllEqual=function(e){return!(e.length>0)||!e.some((function(t,s){return t!==e[0]}))},a.onClickChess=function(){if(console.log("clickChess"),this._player._playerInfo.uniqueId==C.getIns().getSelfData().uniqueId&&(console.log("onClickChess this._canClick === ",this._canClick),console.log("onClickChess inDes  == --------",this._isInDes),this._canClick))if(this._isInDes)console.log("onClickChess is inDes cant click--------");else{var e=this._player._points.slice(0);if(this._points=this.calcCanUsePoints(e),console.log("onClickChess can user points == ",JSON.stringify(this._points)),this.initTips(this._points),1==this._points.length||this.isAllEqual(this._points)){var t=this._points[0];return t>this.calcStepToDes()?void console.log("select point is bigger than the need step to des....."):void this.requestMove(t)}this._tips.active?this.hideTips():(this._points.length>0?this.showTips():this.hideTips(),this._player.onPlaneSelected(this._playerIndex,this._planeIndex))}},a.requestMove=function(e){var t=this;this._player.onPlaneRequestMove(this._planeIndex),S.getIns().requestMove(this._planeIndex,e,(function(s){s.resultCode==y.SERVER_RESULT_CODE.SUCCESS?t._player.onPlaneRequestMoveSuc(e):console.error("request Plane move error === ",s.reusltCode),t.clearTips()}))},a.calcCanUsePoints=function(e){if(this._isInDes)return[];if(0==this.gridPosition)return-1==e.indexOf(6)?[]:[6];for(var t=[],s=this.calcStepToDes(),i=0;i<e.length;i++)e[i]<=s&&t.push(e[i]);return t},a.onCanClick=function(){console.log("onCanClick=============================================================="),this.updatePath();var e=this._player._points.slice(0);(e=this.calcCanUsePoints(e)).length>0?(this.setCanSelect(!0),this._canClick=!0):(this.setCanSelect(!1),this._canClick=!1)},a.setCanSelect=function(e){this._player._playerInfo.uniqueId==C.getIns().getSelfData().uniqueId&&e?this._aniRoot.active=e:this._aniRoot.active=!1},a.onCannotClick=function(){this._canClick=!1,this.setCanSelect(!1),this.clearTips(),this.setNormalMode()},a.calcStepToDes=function(){if(0==this.gridPosition||S.getIns().isCompetitionMode()&&this._player._playerInfo.isForbidden)return 57;if(S.getIns().isCompetitionMode()&&!this._player._playerInfo.isForbidden&&this.gridIsInForbiddenPathNotInNormalPath())return 57;for(var e=0,t=0,s=0;s<this._paths.length;s++)if(this.gridPosition==this._paths[s]){t=s;break}for(var i=t+1;i<this._paths.length;i++)e++;return e},a.clearTips=function(){this._points=[],this.clearPointNode(),this.hideTips()},a.scaleAndOffset=function(e,t){this._chess.setScale(this._onGridScale),this._head.setScale(this._headOrgScale.clone().multiplyScalar(this._onGridScale.x));var s=t.clone();this._orgPosition.set(t),this._scaleAndOff=!0,this._offset=e,this.node.setPosition(s.x+this._offset,s.y,s.z)},a.scaleToNormal=function(){this._scaleAndOff=!1;var e=this.node.position;this.node.setPosition(e.x-this._offset,e.y,e.z),this._offset=0,this._orgPosition.set(0,0,0),this._chess.setScale(1,1,1),this._head.setScale(this._headOrgScale)},n(o,[{key:"gridPosition",get:function(){return this._gridPosition},set:function(e){this._gridPosition=e,this.updatePath(),this.isAtHome=0==e}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e}}]),o}(b))||N);o._RF.pop()}}}));

System.register("chunks:///_virtual/Env.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,i,s,r,u,o;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy},function(t){r=t.EnvType},function(t){u=t.default},function(t){o=t.FrameWork}],execute:function(){s._RF.push({},"1bdafXDrcxI978fhKiR2BhO","Env",void 0);t("default",function(t){function s(){for(var e,s=arguments.length,r=new Array(s),u=0;u<s;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,n(i(e),"type",void 0),n(i(e),"_isDebug",!0),e}e(s,t);var u=s.prototype;return u.setEnv=function(t){switch(t){case r.Sim:case r.Pro:this._isDebug=!1;break;default:this._isDebug=!0}this.type=t,o.log("设置当前环境:",r[t])},u.getType=function(){return this.type},u.isDebug=function(){return this._isDebug},s}(u));s._RF.pop()}}}));

System.register("chunks:///_virtual/SocketMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./EventDispatcher.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,o,s,c,i,r,a,h;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator},function(t){i=t.Const},function(t){r=t.default},function(t){a=t.EventDispatcher},function(t){h=t.FrameWork}],execute:function(){var u;t("NetState",void 0),s._RF.push({},"1f1f1zHuThO8aUJ1gp5RVwO","SocketMgr",void 0);var l,k=c.ccclass;c.property;!function(t){t[t.Disconnected=0]="Disconnected",t[t.Connecting=1]="Connecting",t[t.Connected=2]="Connected"}(l||(l=t("NetState",{})));t("SocketMgr",k("SocketMgr")(u=function(t){function s(){for(var e,s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c))||this,n(o(e),"url",""),n(o(e),"state",l.Disconnected),n(o(e),"socket",null),e}e(s,t);var c=s.prototype;return c.getState=function(){return this.state},c.onOpened=function(t){this.state=l.Connected,a.getIns().emit(i.Event.SOCKET.CONNECT_SUC,this.url)},c.onMessage=function(t){a.getIns().emit(i.Event.SOCKET.MESSAGE,t.data)},c.onSocketClose=function(t){h.log("SocketManager onSocketClose....."),a.getIns().emit(i.Event.SOCKET.DISCONNECT,this.url),this.state=l.Disconnected},c.onSocketError=function(t){h.log("SocketManager onSocketError....."),this.state==l.Connecting&&a.getIns().emit(i.Event.SOCKET.CONNECT_FAIL),null!=this.socket&&(this.socket.close(),this.socket=null),this.state=l.Disconnected},c.closeSocket=function(){h.log("SocketManager closeSocket...."),this.state==l.Connected&&(null!=this.socket&&(this.socket.close(),this.socket=null),this.state=l.Disconnected)},c.connect=function(t){h.log("connect url == "+t),this.state==l.Disconnected&&(a.getIns().emit(i.Event.SOCKET.CONNECTING,this.url),this.state=l.Connecting,this.socket=new WebSocket(t||this.url),this.socket.binaryType="arraybuffer",this.socket.onopen=this.onOpened.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onclose=this.onSocketClose.bind(this),this.socket.onerror=this.onSocketError.bind(this))},c.sendData=function(t){this.state==l.Connected&&this.socket&&this.socket.send(t)},s}(r))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(e){"use strict";var r,n,t,u,a,o,i,s,c,l,f,p,d;return{setters:[function(e){r=e.inheritsLoose,n=e.defineProperty,t=e.assertThisInitialized,u=e.asyncToGenerator},function(e){a=e.cclegacy,o=e.assetManager,i=e.SpriteFrame,s=e.Texture2D,c=e.js,l=e.resources,f=e.Prefab,p=e.instantiate},function(e){d=e.default}],execute:function(){a._RF.push({},"21f60bUemRJYa5vBkADyjq7","ResMgr",void 0);var h=e("default",function(e){function a(){var r;return r=e.call(this)||this,n(t(r),"loadBundles",{}),n(t(r),"uiMaps",c.createMap()),n(t(r),"curBundle",null),r.loadBundles.resources=l,r}r(a,e);var d=a.prototype;return d.preloadUI=function(){var e=u(regeneratorRuntime.mark((function e(r,n,t,u){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBundle(n);case 2:return a=e.sent,e.next=5,this.load(a,r,t,u);case 5:case"end":return e.stop()}}),e,this)})));return function(r,n,t,u){return e.apply(this,arguments)}}(),d.load=function(){var e=u(regeneratorRuntime.mark((function e(r,n,t,u){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){r.load(n,t,(function(r,t){r?o():(a.uiMaps[n]=t,u&&u(),e(null))}))})));case 1:case"end":return e.stop()}}),e)})));return function(r,n,t,u){return e.apply(this,arguments)}}(),d.loadUI=function(){var e=u(regeneratorRuntime.mark((function e(r,n){var t,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||"resources",e.next=3,this.getBundle(n);case 3:return t=e.sent,e.abrupt("return",new Promise((function(e,n){t.load(r,f,(function(n,t){n?e(null):(u.uiMaps[r]=t,e(p(t)))}))})));case 5:case"end":return e.stop()}}),e,this)})));return function(r,n){return e.apply(this,arguments)}}(),d.getBundle=function(){var e=u(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.loadBundles[r])){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.loadBundle(r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),d.loadBundle=function(){var e=u(regeneratorRuntime.mark((function e(r){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){o.loadBundle(r,(function(u,a){u?t(a):(n.loadBundles[r]=a,e(a))}))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d.loadRemote=function(e,r){o.loadRemote(r,(function(r,n){if(r){var t=new i,u=new s;u.image=n,t.texture=u,e.spriteFrame=t}}))},d.loadHead=function(e,r){},d.loadLocalHead=function(e,r){},d.loadRemoteHead=function(e,r){},a}(d));n(h,"modules",{resources:"resources",update:"update",game:"game",hall:"hall"}),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./Lang.ts","./NetMgr.ts","./PlayerMgr.ts","./sdk.ts","./UIMgr.ts","./BaseView.ts","./Env.ts","./AudioMgr.ts","./Util.ts","./FrameWork.ts","./AudioConst.ts","./GameCmd.ts","./GameConst.ts","./GameUICustomConfig.ts","./GameCtrl.ts","./DragonEffectMgr.ts","./Prop.ts","./GamePlayerItem.ts"],(function(e){"use strict";var t,o,n,i,r,s,a,d,l,p,h,u,c,g,_,f,m,I,y,P,v,E,C,S,A,x,G,T,b,M,N,R,D,B,w,q,O,U,F,V,k,L,W,Y,H,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty,s=e.asyncToGenerator},function(e){a=e.cclegacy,d=e._decorator,l=e.EditBox,p=e.resources,h=e.SpriteFrame,u=e.isValid,c=e.Sprite,g=e.assetManager,_=e.Texture2D,f=e.Node,m=e.Label,I=e.instantiate,y=e.UITransform,P=e.view,v=e.UIOpacity,E=e.Graphics},function(e){C=e.Const,S=e.EnvType},function(e){A=e.EventDispatcher},function(e){x=e.Lang},function(e){G=e.default},function(e){T=e.default},function(e){b=e.sdk},function(e){M=e.default},function(e){N=e.default},function(e){R=e.default},function(e){D=e.AudioMgr},function(e){B=e.default},function(e){w=e.FrameWork},function(e){q=e.AudioConst},function(e){O=e.GameCmd},function(e){U=e.GameEvent,F=e.MODE_TYPE,V=e.GamePlayerState},function(e){k=e.GameUICustomConfig},function(e){L=e.GameCtrl},function(e){W=e.DragonEffectMgr,Y=e.EffectConfig},function(e){H=e.Prop},function(e){z=e.GamePlayerItem}],execute:function(){var Z,J,j,X,K;a._RF.push({},"2b8d1j9g0pEC4r7/2BzM62t","GameView",void 0);var Q=d.ccclass,$=d.property;e("GameView",(Z=Q("GameView"),J=$(l),Z((K=t((X=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(i(t),"pointInput",K,i(t)),r(i(t),"isObserver",0),r(i(t),"_gridBg",null),r(i(t),"_chessGridBoard",null),r(i(t),"_chesspnl",null),r(i(t),"_propItemModle",null),r(i(t),"_props",[]),r(i(t),"_playerNodes",[]),r(i(t),"_graphics",null),r(i(t),"_selfManaged",null),r(i(t),"_obSp",null),r(i(t),"redPath",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,53,54,55,56,57,58]),r(i(t),"redPathCompetition",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52]),r(i(t),"greenPath",[0,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,1,2,3,4,5,6,7,8,9,10,11,12,59,60,61,62,63,64]),r(i(t),"greenPathCompetition",[0,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,1,2,3,4,5,6,7,8,9,10,11,12,13]),r(i(t),"yellowPath",[0,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,65,66,67,68,69,70]),r(i(t),"yellowPathCompetition",[0,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]),r(i(t),"bluePath",[0,40,41,42,43,44,45,46,47,48,49,50,51,52,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,71,72,73,74,75,76]),r(i(t),"bluePathCompetition",[0,40,41,42,43,44,45,46,47,48,49,50,51,52,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]),r(i(t),"_allBoardGridNodes",{}),r(i(t),"_allBoardGridToChessPos",{}),r(i(t),"_desPosArray",[]),r(i(t),"currentRoundUniqueId",null),r(i(t),"_forbiddenNodes",[]),r(i(t),"cache",{}),t}o(t,e);var a=t.prototype;return a.hide=function(){this.node.active=!1},a.show=function(){this.node.active=!0},a.onDestroy=function(){this._props=[],this._playerNodes=[],L.getIns().gameUiCustomConfig&&(L.getIns().gameUiCustomConfig=null,k.releaseAll())},a.loadSF=function(e,t){p.load(t,h,(function(o,n){o?w.log("load path == "+t+" err == ",o):u(e)&&u(n)&&(n.addRef(),e.spriteFrame=n)}))},a.releaseSprite=function(e){if(u(e)){var t=e.getComponent(c);t&&t.spriteFrame&&(t.spriteFrame.decRef(),t.spriteFrame=null)}},a.loadRemoteImage=function(e,t){var o=this;g.loadRemote(t,(function(t,n){if(u(e)&&u(e.getComponent(c))&&!t&&n){var i=o.cache[n._uuid];if(!i){var r=new _;r.image=n,(i=new h).texture=r,n.addRef(),o.cache[n._uuid]=i}i.addRef(),e.getComponent(c).spriteFrame=i,e.on(f.EventType.NODE_DESTROYED,(function(e){o.releaseRemoteSprite(e),e.getComponent(c).spriteFrame=null}))}}))},a.releaseRemoteSprite=function(e){if(u(e)){var t=e.getComponent(c);if(t&&t.spriteFrame){var o=t.spriteFrame;if(t.spriteFrame.decRef(!1),t.spriteFrame=null,o.refCount<=0){var n,i,r=o.texture;if(o.packable)r=null===(n=o.original)||void 0===n?void 0:n._texture;if(r)delete this.cache[r.image._uuid],null===(i=r.image)||void 0===i||i.decRef(),r.destroy();o.destroy()}}}},a.init=function(){var e=s(regeneratorRuntime.mark((function e(t){var o,n,i,r,s,a,d,l,p,h,u,c,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("GameView init--------------------------"),M.getIns().closeView(C.CommonUIConfig.LoadingGame),o=b.getViewConfig(),this._gridBg=this.nodes["root/boardroot/gridBg"],this._chessGridBoard=this.nodes["root/boardroot/chessGridBoard"],this.onUpdateCustomUIConfig(),B.loadCutomGameRecordBtn(this.nodes.root),B.loadCutomGameRankBtn(this.nodes.root),this._chesspnl=this.nodes["root/boardroot/chesspnl"],this._propItemModle=this.nodes["root/boardroot/chesspnl/prop"],this._propItemModle.active=!1,this._selfManaged=this.nodes.selfManaged,this._selfManaged.active=!1,this._obSp=this.nodes["root/ob"],this._obSp.active=!1,n=this.nodes["selfManaged/bg"],o.mask&&o.mask.transparent&&(n.getComponent(v).opacity=0),this._allBoardGridNodes={},i=1;i<77;i++)(r=this.nodes["root/boardroot/chessGridBoard/grid"+i]).active=!1,this._allBoardGridNodes[i]=r;for(this._playerNodes=[],s=0;s<4;s++)(a=this.nodes["root/boardroot/chesspnl/player"+s].getComponent(z))?console.log("has gameplayeritem........."):a=this.nodes["root/boardroot/chesspnl/player"+s].addComponent(z),console.log("GameView init gamePlayerItem -----------"),a.init(),this._playerNodes.push(a);for(this._forbiddenNodes=[],d=0;d<4;d++)l=this.nodes["root/boardroot/chesspnl/forbiddens/forbidden_"+d],this._forbiddenNodes.push(l);for(this._desPosArray=[],p=0;p<4;p++){for(h=[],u=0;u<6;u++)c=this.nodes["root/boardroot/chesspnl/desArea/player"+p+"_des_area/des"+u],h.push(c.getPosition());this._desPosArray.push(h)}if(this._graphics=this.nodes["root/boardroot/chesspnl/graphicNode"].getComponent(E),this.initGameView(t.data),this.getPlayerById(T.getIns().getSelfData().uniqueId,t.data.players)){e.next=31;break}this._obSp.active=!0,e.next=40;break;case 31:g=0;case 32:if(!(g<t.data.players.length)){e.next=40;break}if(t.data.players[g].uniqueId!=T.getIns().getSelfData().uniqueId){e.next=37;break}if(t.data.players[g].state!=V.escaped&&t.data.players[g].state!=V.leaveEscaped){e.next=37;break}return this._obSp.active=!0,e.abrupt("break",40);case 37:g++,e.next=32;break;case 40:this.pointInput.node.active=!1,R.getIns().getType()!=S.Pro&&R.getIns().getType()!=S.Sim||(this.pointInput.node.active=!1),L.getIns().isGameStart=!0;case 43:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.getPlayerById=function(e,t){if(!t||0==t.length)return!1;for(var o=0;o<t.length;o++)if(e==t[o].uniqueId)return!0;return!1},a.addEventListeners=function(){A.getIns().on(U.GAME_VIEW_ON_PLAYER_MOVE,this.onPlayerMove,this),A.getIns().on(U.GAME_VIEW_ON_ROUND_START,this.onRoundStart,this),A.getIns().on(U.GAME_VIEW_ON_PLAYER_THROW_DICE,this.onPlayerThrowDice,this),A.getIns().on(U.GAME_VIEW_ON_PLAYER_SET_MANAGED,this.onPlayerSetManaged,this),A.getIns().on(U.GAME_VIEW_PLAYER_ESCAPE,this.onPlayerEscape,this),A.getIns().on(U.GAME_VIEW_ON_GAME_FINISH,this.onGameFinish,this),A.getIns().on(C.Event.UI.APP_CREATE_ORDER_RESULT,this.onAppCreateOrderResult,this),A.getIns().on(U.PLAYER_ADD_ITEM,this.onPlayerAddItem,this),A.getIns().on(U.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG,this.onUpdateCustomUIConfig,this)},a.removeEventListeners=function(){A.getIns().off(U.GAME_VIEW_ON_PLAYER_MOVE,this.onPlayerMove,this),A.getIns().off(U.GAME_VIEW_ON_ROUND_START,this.onRoundStart,this),A.getIns().off(U.GAME_VIEW_ON_PLAYER_THROW_DICE,this.onPlayerThrowDice,this),A.getIns().off(U.GAME_VIEW_ON_PLAYER_SET_MANAGED,this.onPlayerSetManaged,this),A.getIns().off(U.GAME_VIEW_PLAYER_ESCAPE,this.onPlayerEscape,this),A.getIns().off(U.GAME_VIEW_ON_GAME_FINISH,this.onGameFinish,this),A.getIns().off(C.Event.UI.APP_CREATE_ORDER_RESULT,this.onAppCreateOrderResult,this),A.getIns().off(U.PLAYER_ADD_ITEM,this.onPlayerAddItem,this),A.getIns().off(U.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG,this.onUpdateCustomUIConfig,this)},a.onUpdateCustomUIConfig=function(e){var t=this,o=b.getViewConfig();if(this._gridBg=this.nodes["root/boardroot/gridBg"],this._chessGridBoard=this.nodes["root/boardroot/chessGridBoard"],1==T.getIns().gameModeInfo.boardType){this.loadSF(this._gridBg.getComponent(c),"ui/battle/type1_game_board_bg/spriteFrame"),this._gridBg.on(f.EventType.NODE_DESTROYED,this.releaseSprite,this);this.loadSF(this._chessGridBoard.getComponent(c),"ui/battle/type1_game_board/spriteFrame"),this._chessGridBoard.on(f.EventType.NODE_DESTROYED,this.releaseSprite,this)}if(L.getIns().gameUiCustomConfig&&L.getIns().gameUiCustomConfig.isAllBoardsUrlValid()){var n=L.getIns().gameUiCustomConfig.gameBoard01;k.loadRemoteSpriteFrame(this._gridBg.getComponent(c),n,(function(e){if(!e&&o&&o.game_chess&&o.game_chess.custom){t.loadSF(t._gridBg.getComponent(c),"ui/battle/changeTex/feixing_game_board_01/spriteFrame"),t._gridBg.on(f.EventType.NODE_DESTROYED,t.releaseSprite,t)}}));var i=L.getIns().gameUiCustomConfig.gameBoard02;k.loadRemoteSpriteFrame(this._chessGridBoard.getComponent(c),i,(function(e){if(!e&&o&&o.game_chess&&o.game_chess.custom){t.loadSF(t._chessGridBoard.getComponent(c),"ui/battle/changeTex/feixing_game_board_02/spriteFrame"),t._chessGridBoard.on(f.EventType.NODE_DESTROYED,t.releaseSprite,t)}}))}else if(o&&o.game_chess&&o.game_chess.custom){this.loadSF(this._gridBg.getComponent(c),"ui/battle/changeTex/feixing_game_board_01/spriteFrame"),this._gridBg.on(f.EventType.NODE_DESTROYED,this.releaseSprite,this);this.loadSF(this._chessGridBoard.getComponent(c),"ui/battle/changeTex/feixing_game_board_02/spriteFrame"),this._chessGridBoard.on(f.EventType.NODE_DESTROYED,this.releaseSprite,this)}},a.onAppCreateOrderResult=function(e){this._playerNodes.forEach((function(t){t&&t._playerInfo.uniqueId==T.getIns().getSelfData().uniqueId&&t.onAppCreateOrderResult(e)}))},a.onPlayerAddItem=function(e){var t={itemId:e.itemId,position:e.position};this.addProp([t])},a.onGameFinish=function(e){this._selfManaged.active=!1,this._props.forEach((function(e){e&&u(e)&&e.node.destroy()})),this._props=[]},a.initGameView=function(e){var t=b.getViewConfig();t&&t.game_selected_tips&&t.game_selected_tips.hide?this.nodes["root/game_txt_pnl"].active=!1:this.nodes["root/game_txt_pnl"].active=!0,console.log("GameView initGameView === ",e);var o=L.getIns().getMyPlayerIndex();console.log("GameView initGameView myPlayerIndex == ",o),this._chessGridBoard.setRotationFromEuler(0,0,90*o),this.initProp(e.items||[]),this.initGameModeLabel(L.getIns().model.params);for(var n=0;n<this._playerNodes.length;n++)this._playerNodes[n].hide();this._forbiddenNodes.forEach((function(e){e.active=!1})),console.log("GameView initGameView === ",JSON.stringify(e));for(var i={players:[]},r=0;r<e.players.length;r++){var s=e.players[r],a=L.getIns().playerIndexToPlayerNodeIndex(s.playerIndex);console.log("playerNodeIndex == ",a),this._playerNodes[a].initData(s,this.node),this._playerNodes[a].show(),this.uploadPlayerPosition(this._playerNodes[a]._head.node,T.getIns().encodeUniqueIdByAppId(s.uniqueId,s.appId,s.playerId),128,128),L.getIns().isCompetitionMode()&&(s.isForbidden?this.setForbiddenByPlayerIndex(s.playerIndex,!0):this.setForbiddenByPlayerIndex(s.playerIndex,!1)),0==s.playerIndex?i.players.push({uid:T.getIns().encodeUniqueIdByAppId(s.uniqueId,s.appId,s.playerId),color:7}):1==s.playerIndex?i.players.push({uid:T.getIns().encodeUniqueIdByAppId(s.uniqueId,s.appId,s.playerId),color:3}):2==s.playerIndex?i.players.push({uid:T.getIns().encodeUniqueIdByAppId(s.uniqueId,s.appId,s.playerId),color:5}):3==s.playerIndex&&i.players.push({uid:T.getIns().encodeUniqueIdByAppId(s.uniqueId,s.appId,s.playerId),color:4})}if(b.notifyAppChangeGameStatus(C.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_player_color,i),null!=e.playerIndex){var d=e.playerIndex;2==e.players.length&&1==e.playerIndex&&(d=2);var l={playerIndex:d,timeout:e.timeout,points:e.points||[],dice:e.dice,items:e.items||[],bomb:e.bomb||0};console.log("initGameView params == ",JSON.stringify(l)),this.turnPlayer(l)}for(var p=0;p<e.players.length;p++)this.initSetManaged(e.players[p]);this.updateAllPlanesZindex()},a.initGameModeLabel=function(e){var t=e[0],o=e[1],n=e[2];1==t?(this.nodes["root/game_txt_pnl/classic"].active=!0,this.nodes["root/game_txt_pnl/quick"].active=!1):(this.nodes["root/game_txt_pnl/classic"].active=!1,this.nodes["root/game_txt_pnl/quick"].active=!0,t==F.RaceModeCompetition&&(this.nodes["root/game_txt_pnl/quick"].getComponent(m).string=x.getText("text_mode_competition"))),4==o?(this.nodes["root/game_txt_pnl/chess4"].active=!0,this.nodes["root/game_txt_pnl/chess2"].active=!1):(this.nodes["root/game_txt_pnl/chess4"].active=!1,this.nodes["root/game_txt_pnl/chess2"].active=!0),1==n?this.nodes["root/game_txt_pnl/items"].active=!0:(this.nodes["root/game_txt_pnl/items"].active=!1,this.nodes["root/game_txt_pnl/dot1"].active=!1)},a.initProp=function(e){console.log("initProp items == ",e),this._props.forEach((function(e){e.node.destroy()})),this._props=[];for(var t=0;t<e.length;t++){var o=this.creatProp(e[t].itemId,e[t].position);this._props.push(o)}},a.addProp=function(e){console.log("addProp items == ",e);for(var t=0;t<e.length;t++){var o=this.creatProp(e[t].itemId,e[t].position);this._props.push(o)}},a.creatProp=function(e,t){var o=I(this._propItemModle),n=o.getComponent(H);n.init(e,t);var i=this.convetOtherNodeSpaceAR(this._allBoardGridNodes[t],this._chesspnl);return o.setPosition(i),o.parent=this._propItemModle.parent,W.getIns().playEffect(Y.propFlush,this._propItemModle.parent,i),o.active=!0,n},a.deleteProp=function(e,t){for(var o=0;o<this._props.length;o++){var n=this._props[o];if(n.gridPosition==e&&n.propType==t){this._props.splice(o,1);break}}},a.findProp=function(e,t){for(var o=0;o<this._props.length;o++){var n=this._props[o];if(n.gridPosition==e&&n.propType==t)return n}},a.onRoundStart=function(e){if(console.log("GameView onRoundStart..........."),e.items&&e.items.length>0&&this.addProp(e.items),this._props.length>8){console.error("onRoundStart prop items count == "+this._props.length+" errrrrrrrrrrrrrrrr");for(var t=0;t<this._props.length;t++)console.log("prop position == "+this._props[t].gridPosition+" type == "+this._props[t].propType)}this.turnPlayer(e),this.updateAllPlanesZindex()},a.turnPlayer=function(){var e=s(regeneratorRuntime.mark((function e(t){var o,n,i,r,s,a,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.playerIndex,n=t.timeout,i=t.dice,r=t.points,s=t.items,a=t.bomb,this._playerNodes.forEach((function(e){console.log("GameView turnPlayer clearTurn...."),e.clearTurn()})),d=L.getIns().playerIndexToPlayerNodeIndex(o),console.log("turnToPlayer playerIndex == "+o+", nodeIndex == "+d),!(l=this._playerNodes[d])){e.next=19;break}if(!a){e.next=15;break}return e.next=14,this.sleep(.3);case 14:D.getIns().playSound(q.miss);case 15:b.notifyAppChangePlayerStatus(C.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_self_turn_status,{uid:T.getIns().encodeUniqueId(l._playerInfo.uniqueId),isTurn:!0}),this.currentRoundUniqueId&&b.notifyAppChangePlayerStatus(C.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_self_turn_status,{uid:T.getIns().encodeUniqueId(this.currentRoundUniqueId),isTurn:!1}),this.currentRoundUniqueId=l._playerInfo.uniqueId,l.turnToPlayer(n,r,i,s);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.onPlayerThrowDice=function(e){var t=L.getIns()._currPlayerIndex;console.log("GameView onPlayerThrowDice playerIndex == ",t);var o=L.getIns().playerIndexToPlayerNodeIndex(t);console.log("GameView onPlayerThrowDice nodeIndex == ",o);var n=this._playerNodes[o];null==n||n.onPlayerThrowDice(e)},a.onPlayerMove=function(e){var t=e.playerIndex,o=e.data,n=L.getIns().playerIndexToPlayerNodeIndex(t),i=this._playerNodes[n];console.log("onPlayerMove playerIndex == "+t+", nodeIndex == "+n),i||console.error("gamePlayerItem == null"),i.onPlayerMove(o)},a.onClickSetting=function(){},a.updateSoundBtn=function(){},a.onClickHelp=function(){},a.getPathByPlayerIndex=function(e,t){return void 0===t&&(t=!1),0==e?L.getIns().isCompetitionMode()&&t?this.redPathCompetition:this.redPath:1==e?L.getIns().isCompetitionMode()&&t?this.greenPathCompetition:this.greenPath:2==e?L.getIns().isCompetitionMode()&&t?this.yellowPathCompetition:this.yellowPath:3==e?L.getIns().isCompetitionMode()&&t?this.bluePathCompetition:this.bluePath:void 0},a.getNormalPathByPlayerIndex=function(e){return 0==e?this.redPath:1==e?this.greenPath:2==e?this.yellowPath:3==e?this.bluePath:void 0},a.getFobiddenPathByPlayerIndex=function(e){return 0==e?this.redPathCompetition:1==e?this.greenPathCompetition:2==e?this.yellowPathCompetition:3==e?this.bluePathCompetition:void 0},a.initSetManaged=function(e){var t={};t.playerId=e.playerId,t.uniqueId=e.uniqueId,t.isManaged=e.state==V.managed?1:0,this.onPlayerSetManaged(t)},a.onPlayerSetManaged=function(e){e.playerId;var t=e.uniqueId,o=e.isManaged;if(t==T.getIns().getSelfData().uniqueId)this._selfManaged.active=1==o;else for(var n=0;n<this._playerNodes.length;n++)if(this._playerNodes[n]._playerInfo&&t==this._playerNodes[n]._playerInfo.uniqueId){var i;null===(i=this._playerNodes[n])||void 0===i||i.setManaged(t,o);break}},a.onPlayerEscape=function(e){for(var t=e.uniqueId,o=0;o<this._playerNodes.length;o++){var n=this._playerNodes[o];if(n&&n._playerInfo&&n._playerInfo.uniqueId==t){n.playerEscape(),t==T.getIns().getSelfData().uniqueId&&(this._selfManaged.active=!1,this._obSp.active=!0);break}}},a.onClickSetManaged=function(){L.getIns().requestSetManaged(0)},a.updateAllPlanesZindex=function(){for(var e=[],t=0;t<this._playerNodes.length;t++)this._playerNodes[t]._playerInfo&&this._playerNodes[t]._planes&&(e=e.concat(this._playerNodes[t]._planes));console.log("updateAllPlanesZindex plane count == ",e.length),e.sort((function(e,t){if(e.node.position.y==t.node.position.y){if(e._player._playerInfo.uniqueId==t._player._playerInfo.uniqueId)return 0;if(t._player._playerInfo.uniqueId==T.getIns().getSelfData().uniqueId)return-1;if(t._player._playerInfo.uniqueId==T.getIns().getSelfData().uniqueId)return 1}return t.node.position.y-e.node.position.y})),e.forEach((function(e){}));for(var o={},n=0;n<e.length;n++){var i=e[n];0==i.gridPosition||i._isInDes||(o[i.gridPosition]||(o[i.gridPosition]=[]),o[i.gridPosition].push(i))}for(var r in o){var s=o[r],a=s.length;if(a>1)for(var d=0;d<s.length;d++){var l=a/2,p=s[d],h=this.convetOtherNodeSpaceAR(this._allBoardGridNodes[r],this._chesspnl);p.scaleAndOffset(20/a*(d-l),h)}else if(1==a){s[0].scaleToNormal()}}e.forEach((function(e){e.node.setSiblingIndex(1e3)}))},a.localConvertWorldPointAR=function(e){return e?e.getComponent(y).convertToWorldSpaceAR(this.node.position):null},a.worldConvertLocalPointAR=function(e,t){return e?e.getComponent(y).convertToNodeSpaceAR(t):null},a.convetOtherNodeSpaceAR=function(e,t){if(e&&t){var o=this.localConvertWorldPointAR(e);return this.worldConvertLocalPointAR(t,o)}},a.setForbiddenByPlayerIndex=function(e,t){var o=L.getIns().playerIndexToPlayerNodeIndex(e);this._forbiddenNodes[o]&&(this._forbiddenNodes[o].active=!!t)},a.onClickTestButton=function(){var e=parseInt(this.nodes.TestEdit.getComponent(l).string);L.getIns().requestThrowDice(e)},a.onClickSetSeq=function(){var e=parseInt(this.nodes["setSeqTest/EditBox"].getComponent(l).string);this._playerNodes.forEach((function(t){t&&t._playerInfo&&t._playerInfo.uniqueId==T.getIns().getSelfData().uniqueId&&(t._throwCide._reroll._seq=e)}))},a.onClickAddItem=function(){var e=parseInt(this.nodes["testAddItem/EditBox"].getComponent(l).string),t=parseInt(this.nodes["testAddItem/EditBox-001"].getComponent(l).string);G.getIns().request(O.AddItem,{itemId:e,position:t},(function(e){console.log("requet additem res == ",JSON.stringify(e))}))},a.sleep=function(e){return new Promise((function(t,o){setTimeout((function(){t(null)}),1e3*e)}))},a.uploadPlayerPosition=function(e,t,o,n){var i=M.getIns().changeGamePosToAppPos(e),r=o*P.getScaleX(),s=n*P.getScaleY();b.notifyAppChangeGameStatus(C.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_player_icon_position,{uid:t,position:{x:i.x,y:i.y,width:r,height:s}})},t}(N)).prototype,"pointInput",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=X))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyPlayers.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./LobbyPlayerItem.ts"],(function(e){"use strict";var t,i,r,a,n,o,s,p,l,c,u,y,d,m,h,f,b,P,g,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,p=e.Prefab,l=e.CCString,c=e.instantiate,u=e.assetManager,y=e.Node,d=e.Sprite,m=e.resources,h=e.Layout,f=e.UITransform,b=e.Size,P=e.Component},function(e){g=e.PlayerStatus},function(e){S=e.LobbyPlayerItem}],execute:function(){var v,C,L,z,I,N,w;o._RF.push({},"302daDsG1JPPaOyDJmNwnjm","LobbyPlayers",void 0);var D=s.ccclass,G=s.property,M=[[[]],[[1]],[[1,1]],[[1,1,1]],[[1,1,1,1]],[[1,1,1,1,1]],[[1,1,1],[1,1,1]],[[1,1,1],[1,1,1,1]],[[1,1,1,1],[1,1,1,1]],[[1,1,1,1],[1,1,1,1,1]]];e("LobbyPlayers",(v=D("LobbyPlayers"),C=G(p),L=G(l),v((N=t((I=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(a(t),"item",N,a(t)),r(a(t),"itemGapSpritePath",w,a(t)),n(a(t),"items",[]),n(a(t),"playerNum",0),t}i(t,e);var o=t.prototype;return o.init=function(e){this.playerNum=e;for(var t=M[e],i=0,r=0;r<t.length;r++){for(var a=t[r],n=this.createLineNode(),o=0;o<a.length;o++){var s=c(this.item);if(s.getComponent(S).init(i),n.addChild(s),this.items.push(s),u.resources.getInfoWithPath(this.itemGapSpritePath)&&o!=a.length-1){var p=this.createGapSprite(this.itemGapSpritePath);n.addChild(p)}i++}this.node.addChild(n)}},o.createGapSprite=function(e){var t=new y,i=t.addComponent(d);return i.type=d.Type.SIMPLE,i.sizeMode=d.SizeMode.RAW,this.loadSpriteFrame(e,i),t},o.loadSpriteFrame=function(e,t){m.load(e+"/spriteFrame",(function(e,i){e||(t.spriteFrame=i)}))},o.setPlayerData=function(e){for(var t in e){var i=e[t];this.items[i.seatIndex].getComponent(S).setData(i),i.state==g.ready&&this.items[i.seatIndex].getComponent(S).setReday(!0)}},o.createLineNode=function(){var e=new y,t=e.addComponent(h);return e.getComponent(f).contentSize=new b(200,200),t.spacingX=20,t.type=h.Type.HORIZONTAL,t.resizeMode=h.ResizeMode.CONTAINER,e},t}(P)).prototype,"item",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(I.prototype,"itemGapSpritePath",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ui/lobby/player/item_gap_sprite"}}),z=I))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSdk.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"3072150LPZPUbMoIk3A+jzx","BaseSdk",void 0);e("BaseSdk",function(){function e(){t(this,"gameConfig",{ui:{},gameMode:1,gameSoundControl:0,gameSoundVolume:100}),this.addEvents()}return e.prototype.addEvents=function(){},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ProtoMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./common_proto.js","./common_proto.mjs_cjs=&original=.js"],(function(t){"use strict";var o,e,r,i,n,s,c;return{setters:[function(t){o=t.inheritsLoose,e=t.defineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,n=t.js},function(t){s=t.default},function(t){c=t.default},null],execute:function(){i._RF.push({},"30b81dyF6FIWo/2JstigUzV","ProtoMgr",void 0);t("default",function(t){function i(){for(var o,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return o=t.call.apply(t,[this].concat(s))||this,e(r(o),"s_ProtoRootMap",n.createMap()),e(r(o),"protoFiles",[]),e(r(o),"commonProptFile",void 0),o}o(i,t);var s=i.prototype;return s.setProtoFiles=function(t){for(var o=0;o<t.length;o++)this.protoFiles.push(t[o])},s.getEnCodeMsgBuf=function(t,o){for(var e,r=0;r<this.protoFiles.length;r++){var i=this.protoFiles[r];if(i.pb[t]){e=i.pb[t];break}}if(e||(e=c.pb[t]),e){var n=e.create(o);return e.encode(n).finish()}},s.getDecodeMsgBuf=function(t,o){for(var e,r=0;r<this.protoFiles.length;r++){var i=this.protoFiles[r];if(i.pb[t]){e=i.pb[t];break}}if(e||(e=c.pb[t]),e)return e.decode(o)},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/Tip.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,c,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Label,s=t.Component}],execute:function(){var l,p,u,f,y;o._RF.push({},"312a1H7WCxNyY8wsJVdNgtT","Tip",void 0);var h=c.ccclass,g=c.property;t("Tip",(l=h("Tip"),p=g(a),l((y=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"text",y,n(e)),e}return i(e,t),e.prototype.init=function(t){this.text.string=t.text},e}(s)).prototype,"text",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,_,n;return{setters:[function(t){e=t.defineProperty},function(t){_=t.cclegacy,n=t._decorator}],execute:function(){_._RF.push({},"34ad78qBvZCCY/Y32C9AFrD","Constants",void 0);n.ccclass,n.property;var o=t("Constants",(function(){}));e(o,"PLAYTIMEOUT",20),e(o,"GlobalEvent",{GLOBAL_LOGIN_SUC:"GLOBAL_LOGIN_SUC",GLOBAL_RECONNECT:"GLOBAL_RECONNECT",GLOBAL_HIDE_RECONNECT_UI:"GLOBAL_HIDE_RECONNECT_UI",GLOBAL_UPDATE_NET_INFO:"GLOBAL_UPDATE_NET_INFO"}),e(o,"isPringLog",!1),e(o,"logToServerURL",""),e(o,"resultCodeText",{100100:"登陆错误",100200:"加入房间错误",100201:"战斗时房间不能加入",100202:"房间人数已满",100203:"重复加入",100204:"位置上有人",100300:"退出错误",100301:"不在游戏位",100302:"准备或游戏状态不能退出",100400:"准备错误",100401:"取消准备错误",100500:"开始游戏错误",100501:"游戏已开始",100502:"队长才能开始游戏",100503:"有人未准备",100504:"开始游戏的人数不足",100600:"踢人错误",100601:"队长才能踢人",100602:"战斗房间不能踢人",100700:"换队长错误",100800:"逃跑错误",100801:"逃跑时游戏已结束",100802:"逃跑时玩家已不在游戏中",100900:"解散错误",100901:"解散时游戏已结束",100902:"队长才能解散"}),_._RF.pop()}}}));

System.register("chunks:///_virtual/MyAlert.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Lang.ts","./BaseView.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,l,r,i,a,c,o,s,u,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.defineProperty,a=e.asyncToGenerator},function(e){c=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label},function(e){b=e.Lang},function(e){p=e.default},null],execute:function(){var f,h,g,y,C,k,m,d,v,x,_;c._RF.push({},"39570wGyX5DGrlgsGc8yTyV","MyAlert",void 0);var w=o.ccclass,T=o.property;e("MyAlert",(f=w("MyAlert"),h=T(s),g=T(s),y=T(s),C=T(s),f((d=t((m=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,l(r(t),"conent",d,r(t)),l(r(t),"btnCancel",v,r(t)),l(r(t),"btnSure",x,r(t)),l(r(t),"txtTitle",_,r(t)),i(r(t),"cancelCallback",void 0),i(r(t),"sureCallback",void 0),t}n(t,e);var c=t.prototype;return c.init=function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.txtTitle.getComponent(u).string=t.title||b.getText("title_tips"),this.conent.getComponent(u).string=t.content,t.cancelInfo?(this.btnCancel.active=!0,this.cancelCallback=t.cancelInfo.callback,this.btnCancel.getChildByName("btn_text").getComponent(u).string=t.cancelInfo.text||b.getText("btn_cancel")):(this.btnCancel.active=!1,this.cancelCallback=null),t.sureInfo?(this.sureCallback=t.sureInfo.callback,this.btnSure.getChildByName("btn_text").getComponent(u).string=t.sureInfo.text||b.getText("btn_sure")):this.sureCallback=null;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.onCancel=function(){this.cancelCallback&&this.cancelCallback(),this.closeSelf()},c.onSure=function(){this.sureCallback&&this.sureCallback(),this.closeSelf()},c.onClose=function(){this.closeSelf()},t}(p)).prototype,"conent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"btnCancel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(m.prototype,"btnSure",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(m.prototype,"txtTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=m))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/DragonEffectMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./FrameWork.ts"],(function(e){"use strict";var n,t,r,a,o,i,f,c,s,u;return{setters:[function(e){n=e.defineProperty,t=e.inheritsLoose,r=e.asyncToGenerator},function(e){a=e.cclegacy,o=e._decorator,i=e.Vec3,f=e.resources,c=e.instantiate,s=e.dragonBones},function(e){u=e.default},null],execute:function(){var p;a._RF.push({},"3c4dexYdktBiotdrU+v4upl","DragonEffectMgr",void 0);var l=o.ccclass,m=(o.property,e("EffectConfig",(function(){})));n(m,"bomb",{path:"prefab/effect/bomb",animName:"feixing_game_DH_zhadan"}),n(m,"diceThrow",{path:"prefab/effect/diceRun",animName:"feixing_game_DH_shaizi"}),n(m,"propFlush",{path:"prefab/effect/flushSmoth",animName:"feixing_game_DH_shuaxin"}),n(m,"goldDice",{path:"prefab/effect/goldDice",animName:"feixing_game_DH_jinshaizi"}),n(m,"partyPop",{path:"prefab/effect/partyPop",animName:"feixing_game_DH_yanhua"}),n(m,"six",{path:"prefab/effect/six",animName:"feixing_game_DH_6dian"}),n(m,"chessSelect",{path:"prefab/effect/chessSelect",animName:"feixing_game_DH_kexuan"}),n(m,"chessKeXuan",{path:"prefab/effect/kexuan",animName:"newAnimation"});e("DragonEffectMgr",l("DragonEffectMgr")(p=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.playEffect=function(e,n,t){var r=this;void 0===t&&(t=new i(0,0,0)),n&&e?f.load(e.path,(function(a,o){if(a)console.log("DragonEffectMgr load "+e+" err == ",a);else{var i=c(o);i.setPosition(t),i.parent=n;var f=i.getChildByName("dragon").getComponent(s.ArmatureDisplay);f.addEventListener(s.EventObject.COMPLETE,(function(e){e.type==s.EventObject.COMPLETE&&(console.log("complete ................"),i.destroy())}),r),f.playAnimation(e.animName,1)}})):console.error("playEffect parent or effectInfo is null -----")},a.playEffectAndWaitEnd=function(){var e=r(regeneratorRuntime.mark((function e(n,t,r,a){var o,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=new i(0,0,0)),void 0===a&&(a=1),t&&n){e.next=5;break}return console.error("playEffectAndWaitEnd parent or effectInfo is null -----"),e.abrupt("return");case 5:return e.next=7,this.loadPrefab(n.path);case 7:if(o=e.sent){e.next=11;break}return console.log("DragonEffectMgr load "+n+" err == "),e.abrupt("return");case 11:return(f=c(o)).setPosition(r),a&&f.setScale(new i(a,a,a)),f.parent=t,e.next=17,this.effectToEnd(f,n.animName);case 17:return e.abrupt("return");case 18:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),a.loadPrefab=function(){var e=r(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){f.load(n,(function(n,t){e(n?null:t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),a.effectToEnd=function(){var e=r(regeneratorRuntime.mark((function e(n,t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var o=n.getChildByName("dragon").getComponent(s.ArmatureDisplay);o.addEventListener(s.EventObject.COMPLETE,(function(t){t.type==s.EventObject.COMPLETE&&(n.destroy(),e(!0))}),r),o.playAnimation(t,1)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),a.addEffect=function(e,n,t,r){void 0===t&&(t=new i(0,0,0)),n&&e?f.load(e.path,(function(a,o){if(a)console.log("DragonEffectMgr load "+e+" err == ",a);else{var i=c(o);i.setPosition(t),i.parent=n,i.getChildByName("dragon").getComponent(s.ArmatureDisplay).playAnimation(e.animName,r)}})):console.error("playEffect parent or effectInfo is null -----")},n}(u))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/Lang.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,a,t,i;return{setters:[function(n){e=n.createClass,a=n.defineProperty},function(n){t=n.cclegacy,i=n.js}],execute:function(){var r;n("LanguageList",void 0),t._RF.push({},"3f2eewI7vFApIhwO2T3mJCf","Lang",void 0),function(n){n.zh_hk="zh-HK",n.zh_mo="zh-MO",n.zh_cn="zh-CN",n.zh_tw="zh-TW",n.zh_sg="zh-SG",n.en_us="en-US",n.en_gb="en-GB",n.ms_bn="ms-BN",n.ms_my="ms-MY",n.ar_sa="ar-SA",n.vi_vn="vi-VN",n.th_th="th-TH",n.ko_kr="ko-KR",n.ja_jp="ja-JP",n.es_es="es-ES",n.id_id="id-ID",n.ur_pk="ur-PK",n.tr_tr="tr-TR",n.af_za="af-ZA",n.az_az="az-AZ",n.be_by="be-BY",n.bg_bg="bg-BG",n.bs_ba="bs-BA",n.ca_es="ca-ES",n.cs_cz="cs-CZ",n.cy_gb="cy-GB",n.da_dk="da-DK",n.de_de="de-DE",n.dv_mv="dv-MV",n.et_ee="et-EE",n.eu_es="eu-ES",n.fa_ir="fa-IR",n.fi_fi="fi-FI",n.fo_fo="fo-FO",n.fr_fr="fr-FR",n.gl_es="gl-ES",n.gu_in="gu-IN",n.he_il="he-IL",n.hi_in="hi-IN",n.hr_hr="hr-HR",n.hu_hu="hu-HU",n.hy_am="hy-AM",n.is_is="is-IS",n.it_it="it-IT",n.ka_ge="ka-GE",n.kk_kz="kk-KZ",n.kn_in="kn-IN",n.kok_in="kok-IN",n.ky_kg="ky-KG",n.lt_lt="lt-LT",n.lv_lv="lv-LV",n.mi_nz="mi-NZ",n.mk_mk="mk-MK",n.mn_mn="mn-MN",n.mr_in="mr-IN",n.mt_mt="mt-MT",n.nb_no="nb-NO",n.nl_nl="nl-NL",n.nn_no="nn-NO",n.ns_za="ns-ZA",n.pa_in="pa-IN",n.pl_pl="pl-PL",n.pt_pt="pt-PT",n.qu_bo="qu-BO",n.ro_ro="ro-RO",n.ru_ru="ru-RU",n.sa_in="sa-IN",n.se_se="se-SE",n.sk_sk="sk-SK",n.sl_si="sl-SI",n.sq_al="sq-AL",n.sr_ba="sr-BA",n.sv_se="sv-SE",n.sw_ke="sw-KE",n.syr_sy="syr-SY",n.ta_in="ta-IN",n.te_in="te-IN",n.tl_ph="tl-PH",n.tn_za="tn-ZA",n.tt_ru="tt-RU",n.uk_ua="uk-UA",n.uz_uz="uz-UZ",n.xh_za="xh-ZA",n.zu_za="zu-ZA",n.ar_ae="ar-AE",n.ar_bh="ar-BH",n.ar_dz="ar-DZ",n.ar_eg="ar-EG",n.ar_iq="ar-IQ",n.ar_jo="ar-JO",n.ar_kw="ar-KW",n.ar_lb="ar-LB",n.ar_ly="ar-LY",n.ar_ma="ar-MA",n.ar_om="ar-OM",n.ar_qa="ar-QA",n.ar_sy="ar-SY",n.ar_tn="ar-TN",n.ar_ye="ar-YE"}(r||(r=n("LanguageList",{})));var s=[r.ar_sa,r.ur_pk,r.ar_ae,r.ar_bh,r.ar_dz,r.ar_eg,r.ar_iq,r.ar_jo,r.ar_kw,r.ar_lb,r.ar_ly,r.ar_ma,r.ar_om,r.ar_qa,r.ar_sy,r.ar_tn,r.ar_ye,r.fa_ir,r.he_il],_=n("Lang",function(){function n(){}return n.isLanguageContains=function(n){for(var e in this._config){if(null!=this._config[e][n])return!0;break}return!1},n.setCurLanguage=function(n){console.log("curlanguage",n),this.isLanguageContains(n)?this.curLanguageStr=n:this.curLanguageStr=r.en_us,console.log("this.curLanguageStr",this.curLanguageStr)},n.setVoiceIdentifyTextLanguages=function(n){void 0===n&&(n=[]),console.log("this.setVoiceIdentifyTextLanguages",n),this.voiceIdentifyTextLanguages=n},n.getVoiceIdentifyTextLanguage=function(){return this.voiceIdentifyTextLanguages},n.setVoiceIdentifyNumLanguages=function(n){void 0===n&&(n=[]),console.log("this.setVoiceIdentifyNumLanguages",n),this.voiceIdentifyNumLanguages=n},n.getVoiceIdentifyNumLanguages=function(){return this.voiceIdentifyNumLanguages},n.isUseVoiceIdentifyText=function(n){return!(!n||-1==this.voiceIdentifyTextLanguages.indexOf(n))},n.isUseVoiceIdentifyNum=function(n){return!(!n||-1==this.voiceIdentifyNumLanguages.indexOf(n))},n.getText=function(n){return this.config[n]&&this.config[n][this.curLanguageStr]||""},n.getLanguageImageSuffix=function(n,e){if(void 0===e&&(e="lobby_logo_image"),this.config[e])return this.config[e][n]?this.config[e][n]:this.config[e][r.en_us];console.error("缺少多语言图片配置 Key=>"+e)},n.getSendAppMsg=function(n){for(var e,a,t=[],s=(null===(e=this.config[n][r.en_us].match(/%s/g))||void 0===e||e.length,(null===(a=this.config[n][r.en_us].match(/{name}/g))||void 0===a?void 0:a.length)||0),_=this.config[n][r.en_us].split("{name}").length,u=Math.max(_,1),g=arguments.length,o=new Array(g>1?g-1:0),c=1;c<g;c++)o[c-1]=arguments[c];for(var f=0;f<u;f++){var h=i.createMap(),l=o.slice(0,o.length-s);for(var d in this.config[n]){var m=i.formatStr.apply(i,[this.config[n][d]].concat(l)),y=m.split("{name}");h[d]=y[f]}h.default=h[r.en_us],t.push({phrase:1,text:h}),o[l.length+f]&&t.push({phrase:2,user:o[l.length+f]})}return t},n.isRightToLeft=function(n){return-1!=s.findIndex((function(e){return e==n}))},e(n,null,[{key:"config",get:function(){return this._config},set:function(n){this._config=n}}]),n}());a(_,"_config",i.createMap()),a(_,"curLanguageStr",r.en_us),a(_,"voiceIdentifyTextLanguages",[]),a(_,"voiceIdentifyNumLanguages",[]),t._RF.pop()}}}));

System.register("chunks:///_virtual/EmptySdk.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./BaseSdk.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Rect,o=t.view},function(t){r=t.Const},function(t){s=t.EventDispatcher},function(t){a=t.BaseSdk},function(t){u=t.FrameWork}],execute:function(){n._RF.push({},"415b4GJ+AhFcL/Nc/+rmPxh","EmptySdk",void 0);t("default",function(t){function n(){return t.call(this)||this}e(n,t);var a=n.prototype;return a.setDebug=function(t){},a.notifyGameStarted=function(){},a.notifyGameLoadCompleted=function(){},a.getState=function(t,e){},a.getNetStatus=function(){},a.getGameCfg=function(t){t&&t()},a.notifyAppChangeGameStatus=function(t,e,n){},a.notifyAppChangePlayerStatus=function(t,e,n,i){u.log("notifyAppChangePlayerStatus",n)},a.reLogin=function(){s.getIns().emit(r.Event.Net.RECONNECT)},a.addEvents=function(){},a.expireCode=function(){},a.initSdk=function(){s.getIns().emit(r.Event.Sdk.INIT_SUCCESS)},a.login=function(){s.getIns().emit(r.Event.Sdk.LOGIN_SUCCESS,{room_id:"4132",code:"123"})},a.getViewSize=function(t){if(t){var e=new i(0,0,o.getCanvasSize().width,o.getCanvasSize().height);e.orgRect=new i(0,0,o.getCanvasSize().width,o.getCanvasSize().height),t(e)}},a.getSDKInfo=function(t){t&&t({env_type:4,sdk_version:"0.0.0.0",language:"zh-CN",game_login_url:u.testLoginUrl,cust_tcp_login_url:u.testLoginUrl.replace(":5000",":5100"),app_id:"testmg",bundle_id:"",platform:0,app_server_info_url:"https://fat-mg-sdk.divtoss.com/v1/mg_server/app_server_info",mg_id_str:"",mg_api_cfg:{game_login_url:u.testLoginUrl,app_server_info_url:"",report_url:"",app_auth_info_url:""},dynamic_config:{login_url:u.testLoginUrl,resource_domain:"https://dev-sud-static-tcc.sudden.ltd"},app_auth:{authorization_secret:""}})},a.mgLog=function(t){},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameConst.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){var e,a,A,t,M;E({GameEvent:void 0,GamePlayerState:void 0,GameSceneState:void 0,MODE_TYPE:void 0,PlayerGameState:void 0}),_._RF.push({},"4379c5LTYFAFpAeujgZNF/3","GameConst",void 0),function(E){E[E.None=-1]="None",E[E.RaceModeQuick=0]="RaceModeQuick",E[E.RaceModeClassic=1]="RaceModeClassic",E[E.RaceModeCompetition=2]="RaceModeCompetition"}(e||(e=E("MODE_TYPE",{}))),function(E){E.PLAYER_SET_TYPE="PLAYER_SET_TYPE",E.PLANE_REQUEST_MOVE="PLANE_REQUEST_MOVE",E.PLANE_REQUEST_MOVE_SUC="PLANE_REQUEST_MOVE_SUC",E.PLANE_SELECTED="PLANE_SELECTED",E.PLAYER_ADD_ITEM="PLAYER_ADD_ITEM",E.CLEAR_REROLL_COM="CLEAR_REROLL_COM",E.GAME_VIEW_ON_ROUND_START="GAME_VIEW_ON_ROUND_START",E.GAME_VIEW_ON_PLAYER_MOVE="GAME_VIEW_ON_PLAYER_MOVE",E.GAME_VIEW_ON_PLAYER_THROW_DICE="GAME_VIEW_ON_PLAYER_THROW_DICE",E.GAME_VIEW_ON_PLAYER_SET_MANAGED="GAME_VIEW_ON_PLAYER_SET_MANAGED",E.GAME_VIEW_PLAYER_ESCAPE="GAME_VIEW_PLAYER_ESCAPE",E.GAME_VIEW_ON_GAME_FINISH="GAME_VIEW_ON_GAME_FINISH",E.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG="GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG"}(a||(a=E("GameEvent",{}))),function(E){E[E.idle=0]="idle",E[E.ready=1]="ready",E[E.loadrd=2]="loadrd",E[E.escaped=3]="escaped",E[E.leaveEscaped=4]="leaveEscaped",E[E.managed=5]="managed"}(A||(A=E("GamePlayerState",{}))),function(E){E[E.normal=0]="normal",E[E.blow=1]="blow",E[E.die=2]="die"}(t||(t=E("PlayerGameState",{}))),function(E){E[E.idle=0]="idle",E[E.loaded=1]="loaded",E[E.playing=2]="playing"}(M||(M=E("GameSceneState",{}))),_._RF.pop()}}}));

System.register("chunks:///_virtual/BaseLobbyModel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./EventDispatcher.ts","./ServerStructureData.ts","./PlayerMgr.ts","./sdk.ts","./UIMgr.ts","./BaseLobbyCtrl.ts","./FrameWork.ts"],(function(t){"use strict";var e,a,n,s,i,r,o,u,I,d,c,l,p,g,y,U,E;return{setters:[function(t){e=t.inheritsLoose,a=t.defineProperty,n=t.assertThisInitialized,s=t.asyncToGenerator},function(t){i=t.cclegacy,r=t._decorator,o=t.js},function(t){u=t.Const,I=t.PlayerStatus},function(t){d=t.default},function(t){c=t.EventDispatcher},function(t){l=t.BaseGameStatus},function(t){p=t.default},function(t){g=t.sdk},function(t){y=t.default},function(t){U=t.BaseLobbyCtrl},function(t){E=t.FrameWork}],execute:function(){var B;i._RF.push({},"48106rx0gVEoaesUKV2zvnM","BaseLobbyModel",void 0);var f=r.ccclass;r.property,t("default",f("BaseLobbyModel")(B=function(t){function i(){for(var e,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,a(n(e),"roomInfo",void 0),a(n(e),"players",o.createMap()),a(n(e),"playerNum",0),a(n(e),"captainId",void 0),a(n(e),"captainAppId",void 0),a(n(e),"captainUniqueId",void 0),a(n(e),"data",void 0),e}e(i,t);var r=i.prototype;return r.setPlayers=function(t){if(console.log("LobbyModel setPlayers",JSON.stringify(t)),this.players=o.createMap(),t)for(var e=0;e<t.length;e++){var a=t[e];a.name=a.name,this.players[a.uniqueId]=a}},r.setData=function(t){this.data=t,this.captainId=t.captain,this.captainAppId=t.captainAppId,this.captainUniqueId=t.captainUniqueId,this.setPlayers(t.players)},r.setPlayerLogin=function(t){this.setData(t.game),c.getIns().emit(u.Event.UI.LOBBY.LOGIN_SUC,t)},r.enterLobby=function(){var t=s(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!E.lobbyUIConfig){t.next=6;break}return t.next=3,y.getIns().showView(E.lobbyUIConfig);case 3:y.getIns().closeAllViewExcept([E.lobbyUIConfig]),t.next=9;break;case 6:return t.next=8,y.getIns().showView(u.CommonUIConfig.Lobby);case 8:y.getIns().closeAllViewExcept([u.CommonUIConfig.Lobby]);case 9:this.updateButtonStatus();case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.enterLoadingGame=function(t,e){c.getIns().emit(u.Event.Data.UPDATE_GAME_DATA,t),c.getIns().emit(u.Event.UI.SHOW_LOADING_GAME_UI,t,(function(){if(t.state<=l.loading){if(p.getIns().isPlayGame()&&p.getIns().getGamePlayerData().state==I.ready){var a=g.getViewConfig();a&&a.game_opening&&0==a.game_opening.hide?setTimeout((function(){U.getIns().requestLoadingGameCompile()}),2e3):U.getIns().requestLoadingGameCompile()}}else console.log("---BaseLobbyModel---enterLoadingGame----LOAD_GAME_UI_COMPILE---data:",t),c.getIns().emit(u.Event.UI.LOAD_GAME_UI_COMPILE,{gameData:t,isReconnect:e});console.log("Const.Event.UI.SHOW_LOADING_GAME_U callback",t)}))},r.playerReady=function(t){var e=this.players[t.uniqueId];if(e){var a=1==t.isReady;e.state=a?I.ready:I.idle,this.updateButtonStatus(),c.getIns().emit(u.Event.UI.LOBBY.UPDATE_PLAYER_REDAY,e.seatIndex,a)}},r.leavePlayer=function(t){var e=this.players[t.uniqueId];e.state==I.escaped?this.players[t.uniqueId].state=I.escaped_and_leave:delete this.players[t.uniqueId],this.updateButtonStatus(),c.getIns().emit(u.Event.UI.LOBBY.LEAVE_PLAYER,e.seatIndex)},r.playerJoinLobby=function(t){var e=p.getIns().getSelfData().uniqueId;this.players[t.player.uniqueId]=t.player,this.updateButtonStatus(),c.getIns().emit(u.Event.UI.LOBBY.ENTER_PLAYER,t.player),t.player.uniqueId!=e&&this.captainUniqueId==e&&c.getIns().emit(u.Event.UI.LOBBY.UPDATE_KICK_BTN,t.player.seatIndex,!0)},r.setCaptain=function(t,e,a){if(this.captainUniqueId){var n=this.players[this.captainUniqueId];n&&c.getIns().emit(u.Event.UI.LOBBY.UPDATE_CAPTAIN,n.seatIndex,!1)}var s=this.players[t];for(var i in s&&c.getIns().emit(u.Event.UI.LOBBY.UPDATE_CAPTAIN,s.seatIndex,!0),this.captainId=e,this.captainAppId=a,this.captainUniqueId=t,this.data.captain=e,this.data.captainAppId=a,this.data.captainUniqueId=t,this.players){var r=this.players[i],o=r.seatIndex;this.captainUniqueId==p.getIns().getSelfData().uniqueId&&r.uniqueId!=p.getIns().getSelfData().uniqueId?c.getIns().emit(u.Event.UI.LOBBY.UPDATE_KICK_BTN,o,!0):c.getIns().emit(u.Event.UI.LOBBY.UPDATE_KICK_BTN,o,!1)}this.updateButtonStatus()},r.gameStartReady=function(t){for(var e in t)this.data[e]=t[e];this.data.state=l.loading,this.setPlayers(t.players),this.enterLoadingGame(this.data,!1)},r.gameStart=function(t){console.log("gameStart",t),c.getIns().emit(u.Event.Data.UPDATE_GAME_DATA,this.data),c.getIns().emit(u.Event.UI.LOAD_GAME_UI_COMPILE,{gameData:this.data,isReconnect:!1})},r.updateAccountAttributes=function(t){c.getIns().emit(u.Event.UI.UPDATE_ACCOUNT,{account:t.account})},r.setPlayerChangeSeat=function(t){var e=p.getIns().getSelfData().uniqueId,a=this.players[t.uniqueId];if(a){var n=a.seatIndex;a.seatIndex=t.seatIndex,c.getIns().emit(u.Event.UI.LOBBY.ENTER_PLAYER,a),c.getIns().emit(u.Event.UI.LOBBY.LEAVE_PLAYER,n),this.captainUniqueId==t.uniqueId&&c.getIns().emit(u.Event.UI.LOBBY.UPDATE_CAPTAIN,t.seatIndex,!0),a.uniqueId!=e&&this.captainUniqueId==e&&c.getIns().emit(u.Event.UI.LOBBY.UPDATE_KICK_BTN,a.seatIndex,!0)}},r.setPlayerEscape=function(t){var e=this.players[t.uniqueId];e&&(e.state=I.escaped)},r.backLobby=function(){},r.updateButtonStatus=function(){var t=p.getIns().getSelfData().uniqueId,e=this.players[t];e?e.state==I.ready?this.captainUniqueId&&e.uniqueId==this.captainUniqueId?c.getIns().emit(u.Event.UI.LOBBY.UPDATE_BUTTON_STATUS,u.Event.UI.LOBBY.ButtonType.start):c.getIns().emit(u.Event.UI.LOBBY.UPDATE_BUTTON_STATUS,u.Event.UI.LOBBY.ButtonType.cancel_ready):e.state==I.escaped_and_leave?c.getIns().emit(u.Event.UI.LOBBY.UPDATE_BUTTON_STATUS,u.Event.UI.LOBBY.ButtonType.join):c.getIns().emit(u.Event.UI.LOBBY.UPDATE_BUTTON_STATUS,u.Event.UI.LOBBY.ButtonType.ready):c.getIns().emit(u.Event.UI.LOBBY.UPDATE_BUTTON_STATUS,u.Event.UI.LOBBY.ButtonType.join)},r.getSelfPlayerData=function(){return this.players[p.getIns().getSelfData().uniqueId]},r.resetPlayerStatus=function(){for(var t in console.log("resetPlayerStatus==================="),this.players){var e=this.players[t];e.state==I.escaped_and_leave?delete this.players[t]:e.state=I.idle}},r.setGameType=function(t){this.data.params[0]=t.type,this.data.params[1]=t.planeNum,this.data.params[2]=t.isItem},i}(d))||B);i._RF.pop()}}}));

System.register("chunks:///_virtual/RequestMaskView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts"],(function(e){"use strict";var t,i,r,n,s,o,c,a,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.defineProperty},function(e){o=e.cclegacy,c=e._decorator,a=e.Node,l=e.tween},function(e){u=e.default}],execute:function(){var p,f,h,d,y;o._RF.push({},"4c61dd16FFNHJ5doVHxY+y9","RequestMaskView",void 0);var v=c.ccclass,w=c.property;e("ReconnectView",(p=v("ReconnectView"),f=w(a),p((y=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"spr",y,n(t)),s(n(t),"leftTime",20),t}i(t,e);var o=t.prototype;return o.init=function(){l(this.spr).by(1,{angle:-100}).repeatForever().start()},o.refresh=function(){this.leftTime=20},o.update=function(e){this.leftTime-=e,this.leftTime<=0&&this.closeSelf()},t}(u)).prototype,"spr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseLobbyView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./RoomMgr.ts","./PlayerMgr.ts","./sdk.ts","./UIMgr.ts","./BaseView.ts","./Util.ts","./BaseLobbyCtrl.ts","./BaseCommon.ts","./LanguageCom.ts","./LobbyPlayerItem.ts","./LobbyPlayers.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,o,s,r,a,i,l,u,c,f,h,d,g,p,b,y,m,_,v,I,C,B,L,U,E,P;return{setters:[function(e){t=e.defineProperty,n=e.inheritsLoose,o=e.assertThisInitialized,s=e.asyncToGenerator},function(e){r=e.cclegacy,a=e._decorator,i=e.js,l=e.Label,u=e.ProgressBar,c=e.assetManager,f=e.JsonAsset,h=e.instantiate},function(e){d=e.Const,g=e.PlayerStatus},function(e){p=e.EventDispatcher},function(e){b=e.default},function(e){y=e.default},function(e){m=e.sdk},function(e){_=e.default},function(e){v=e.default},function(e){I=e.default},function(e){C=e.BaseLobbyCtrl},function(e){B=e.BaseCommon},function(e){L=e.LanguageCom},function(e){U=e.LobbyPlayerItem},function(e){E=e.LobbyPlayers},function(e){P=e.FrameWork}],execute:function(){var A,T,S;r._RF.push({},"4f31a6Dq6NDYIwZy7sG8WIq","BaseLobbyView",void 0);var N=a.ccclass;a.property,e("default",N("BaseLobbyView")((S=T=function(e){function r(){for(var n,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,t(o(n),"_levelConfig",void 0),t(o(n),"level_name",void 0),t(o(n),"star_num",void 0),t(o(n),"progress_label",void 0),t(o(n),"progress",void 0),t(o(n),"buttons",void 0),t(o(n),"other",void 0),t(o(n),"userInfo",void 0),t(o(n),"middleNode",void 0),t(o(n),"btnMap",i.createMap()),t(o(n),"players",void 0),t(o(n),"model",void 0),n}n(r,e);var a=r.prototype;return a.beforeShow=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.middleNode=this.node.getChildByName("root").getChildByName("center");case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.load=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadConfgiJson();case 2:return e.next=4,this.loadButtons();case 4:return e.next=6,this.loadOther();case 6:return e.next=8,this.loadUserInfo();case 8:return e.next=10,this.loadGameSetType();case 10:return e.next=12,this.loadPlayerItems(t);case 12:return e.next=14,this.loadCust();case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.init=function(){this.btnMap[d.Event.UI.LOBBY.ButtonType.ready]=this.nodes["root/core_btn/LobbyBtnList/@ctrl_ready_btn"],this.btnMap[d.Event.UI.LOBBY.ButtonType.join]=this.nodes["root/core_btn/LobbyBtnList/@ctrl_join_btn"],this.btnMap[d.Event.UI.LOBBY.ButtonType.start]=this.nodes["root/core_btn/LobbyBtnList/@ctrl_start_btn"],this.btnMap[d.Event.UI.LOBBY.ButtonType.exit]=this.nodes["root/core_btn/LobbyBtnList/@ctrl_cancel_join_btn"],this.btnMap[d.Event.UI.LOBBY.ButtonType.cancel_ready]=this.nodes["root/core_btn/LobbyBtnList/@ctrl_cancel_ready_btn"],this.level_name=this.nodes["root/@ctrl_level/UserInfo/level_name"].getComponent(l),this.star_num=this.nodes["root/@ctrl_level/UserInfo/bg/level_num"].getComponent(l),this.progress=this.nodes["root/@ctrl_level/UserInfo/level_progress"].getComponent(u),this.progress_label=this.nodes["root/@ctrl_level/UserInfo/level_progress/progress_label"].getComponent(l),this.onUpdateAccountAttributes({account:y.getIns().getSelfData()})},a.afterShow=function(){var t=s(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.afterShow.call(this,n);case 2:this.refresh(n);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.refresh=function(e){this.initPlayers(C.getIns().model)},a.addEventListeners=function(){p.getIns().on(B.BaseCommonButtonClickEvent,this.onClick,this),p.getIns().on(d.Event.UI.LOBBY.UPDATE_BUTTON_STATUS,this.onUpdateButtonsStatus,this),p.getIns().on(d.Event.UI.LOBBY.ENTER_PLAYER,this.onPlayerEnter,this),p.getIns().on(d.Event.UI.LOBBY.LEAVE_PLAYER,this.onPlayerLeave,this),p.getIns().on(d.Event.UI.LOBBY.UPDATE_CAPTAIN,this.onChangeCaptain,this),p.getIns().on(d.Event.UI.LOBBY.UPDATE_PLAYER_REDAY,this.onPlayerReady,this),p.getIns().on(d.Event.UI.LOBBY.UPDATE_KICK_BTN,this.onUpdateKickBtn,this),p.getIns().on(d.Event.UI.SHOW_LOADING_GAME_UI,this.showLoadingGame,this),p.getIns().on(d.Event.UI.LOBBY.LOGIN_SUC,this.onLoginSuc,this),p.getIns().on(d.Event.UI.UPDATE_ACCOUNT,this.onUpdateAccountAttributes,this)},a.removeEventListeners=function(){p.getIns().off(B.BaseCommonButtonClickEvent,this.onClick,this),p.getIns().off(d.Event.UI.LOBBY.UPDATE_BUTTON_STATUS,this.onUpdateButtonsStatus,this),p.getIns().off(d.Event.UI.LOBBY.ENTER_PLAYER,this.onPlayerEnter,this),p.getIns().off(d.Event.UI.LOBBY.LEAVE_PLAYER,this.onPlayerLeave,this),p.getIns().off(d.Event.UI.LOBBY.UPDATE_CAPTAIN,this.onChangeCaptain,this),p.getIns().off(d.Event.UI.LOBBY.UPDATE_PLAYER_REDAY,this.onPlayerReady,this),p.getIns().off(d.Event.UI.LOBBY.UPDATE_KICK_BTN,this.onUpdateKickBtn,this),p.getIns().off(d.Event.UI.SHOW_LOADING_GAME_UI,this.showLoadingGame,this),p.getIns().off(d.Event.UI.LOBBY.LOGIN_SUC,this.onLoginSuc,this),p.getIns().off(d.Event.UI.UPDATE_ACCOUNT,this.onUpdateAccountAttributes,this)},a.showLoadingGame=function(e,t){_.getIns().showView(d.CommonUIConfig.LoadingGame,{gameData:e,callback:t})},a.onLoginSuc=function(e){C.getIns().enter(e)},a.initPlayers=function(e){for(var t=0;t<this.players.items.length;t++){this.players.items[t].getComponent(U).reset()}for(var n in e.players){var o=e.players[n],s=o.seatIndex,r=y.getIns().getSelfData().uniqueId==e.captainUniqueId;this.players.items[s].getComponent(U).setData(o),this.onPlayerReady(s,o.state==g.ready),r&&o.uniqueId!=y.getIns().getSelfData().uniqueId&&this.onUpdateKickBtn(s,!0)}var a=e.players[e.captainUniqueId];a&&this.onChangeCaptain(a.seatIndex,!0)},a.onPlayerReady=function(e,t){var n=this.players.items[e];n&&n.getComponent(U).setReday(t)},a.onUpdateKickBtn=function(e,t){var n=this.players.items[e];n&&n.getComponent(U).setShowKick(t)},a.onPlayerEnter=function(e){var t=this.players.items[e.seatIndex];t&&t.getComponent(U).setData(e)},a.onPlayerLeave=function(e){var t=this.players.items[e];t&&t.getComponent(U).setData(null)},a.onChangeCaptain=function(e,t){var n=this.players.items[e];n&&n.getComponent(U).setCaptain(t)},a.onUpdateAccountAttributes=function(e){console.log("updateAccount params === ",JSON.stringify(e));for(var t=0,n=e.account.medal,o=this._levelConfig.name.length,s=0;s<o;s++)n>=this._levelConfig.name[s].exp&&(t=s);var r="rank_level"+this._levelConfig.name[t].type;this.level_name.getComponent(L).refresh(r),this.star_num.string=this._levelConfig.name[t].star+"";var a=t,i=Math.min(a+1,o-1);this.progress_label.string=n-this._levelConfig.name[a].exp+" / "+(this._levelConfig.name[i].exp-this._levelConfig.name[a].exp),this.progress.progress=(n-this._levelConfig.name[a].exp)/(this._levelConfig.name[i].exp-this._levelConfig.name[a].exp)},a.onGameReady=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.loadConfgiJson=function(){var e=this;return new Promise((function(t,n){c.resources.load("config/level",f,(function(o,s){o?n("缺少段位配置文件 config/level"):(e._levelConfig=s.json,t(null))}))}))},a.loadButtons=function(){var e=this;return new Promise((function(t,n){var o=P.uiConfigs.LobbyBtnListPrefabPath,s=c.resources;o||(P.lobbyUIConfig?(s=c.resources,o="prefabs/lobby/LobbyBtnList"):(s=P.bundle,o="prefabs/LobbyBtnList")),s.load(o,(function(n,o){n||(e.buttons=h(o),e.node.getChildByName("root").getChildByName("core_btn").addChild(e.buttons),t(null))}))}))},a.loadOther=function(){var e=this;return new Promise((function(t,n){var o=P.uiConfigs.LobbyOtherBtnPrefabPath,s=c.resources;o||(P.lobbyUIConfig?(s=c.resources,o="prefabs/lobby/OtherBtn"):(s=P.bundle,o="prefabs/OtherBtn")),s.load(o,(function(n,o){n||(e.other=h(o),e.node.getChildByName("root").getChildByName("other_btn").addChild(e.other),t(null))}))}))},a.loadUserInfo=function(){var e=this;return new Promise((function(t,n){var o=P.uiConfigs.LobbyUserInfoPrefabPath,s=c.resources;o||(P.lobbyUIConfig?(s=c.resources,o="prefabs/lobby/UserInfo"):(s=P.bundle,o="prefabs/UserInfo")),s.load(o,(function(n,o){n||(e.userInfo=h(o),e.node.getChildByName("root").getChildByName("@ctrl_level").addChild(e.userInfo),t(null))}))}))},a.loadRule=function(){var e=this;return new Promise((function(t,n){var o=P.uiConfigs.LobbyRulePrefabPath,s=c.resources;o||(P.lobbyUIConfig?(s=c.resources,o="prefabs/lobby/Rule"):(s=P.bundle,o="prefabs/Rule")),s.load(o,(function(n,o){if(!n){var s=h(o);s.name="@ctrl_lobby_rule",e.node.getChildByName("root").getChildByName("center").addChild(s),t(null)}}))}))},a.loadGameSetType=function(){var e=this;return new Promise((function(t,n){var o=P.uiConfigs.LobbyGameSetPrefabPath,s=c.resources;o?s.load(o,(function(n,o){if(!n){var s=h(o);s.name="@ctrl_game_set";var r=m.getViewConfig();r.game_setting_select_pnl&&r.game_setting_select_pnl.hide||e.node.getChildByName("root").getChildByName("center").addChild(s),t(null)}})):t(null)}))},a.loadPlayerItems=function(e){var t=this,n=b.getIns().getMaxPlayerNum();if(!(n<=0))return new Promise((function(e,o){var s=P.uiConfigs.LobbyLobbyPlayersPrefabPath,r=c.resources;s||(P.lobbyUIConfig?(r=c.resources,s="prefabs/lobby/LobbyPlayers"):(r=P.bundle,s="prefabs/LobbyPlayers")),r.load(s,(function(o,s){if(!o){var r=h(s);r.name="@ctrl_lobby_players",t.players=r.getComponent(E),t.players.init(n),t.node.getChildByName("root").getChildByName("center").addChild(r),e(null)}}))}))},a.loadCust=function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.loadCutomLobbyRecordBtn(this.node.getChildByName("root")),I.loadCutomLobbyRankBtn(this.node.getChildByName("root")),e.abrupt("return",null);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onUpdateButtonsStatus=function(e){for(var t in this.btnMap)this.btnMap[t].active=!1;this.btnMap[d.Event.UI.LOBBY.ButtonType.exit].active=e!=d.Event.UI.LOBBY.ButtonType.join,this.btnMap[e].active=!0},a.onClick=function(e,t){var n=e.name.replace(d.CanControlledName,"");if(this[n])if(this.isClickBackStatus(e.name)){if("lobby_players"==n){if(this.checkChangeSeat(t))return;n="join_btn"}m.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST["mg_common_self_click_"+n],t||{})}else this[n].call(this,t);else P.log("未定义回到函数>>>>>>>",n)},a.checkChangeSeat=function(e){var t=C.getIns().model.getSelfPlayerData();if(t&&t.state!=g.escaped_and_leave){var n=t.seatIndex;return b.getIns().changeSeat(e.seatIndex).then((function(){m.notifyAppChangePlayerStatus(d.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_change_seat,{preSeatIndex:n,currentSeatIndex:e.seatIndex})})),!0}return!1},a.share_btn=function(e){var t=m.getViewConfig().share_btn;t&&t.custom&&m.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_self_click_share_btn,{})},a.lobby_players=function(e){this.checkChangeSeat(e)||b.getIns().join(e.seatIndex)},a.cancel_ready_btn=function(e){b.getIns().cancelReady()},a.join_btn=function(e){b.getIns().join()},a.ready_btn=function(e){b.getIns().ready()},a.cancel_join_btn=function(e){C.getIns().model.getSelfPlayerData().state==g.ready?b.getIns().cancelReady().then((function(){return b.getIns().exit()})):b.getIns().exit()},a.start_btn=function(e){b.getIns().gameStart()},a.UserInfo=function(e){p.getIns().emit(d.Event.Common.CLICK_USERINFO_BUTTON,e)},r}(v),t(T,"EVENT_CLICK_BUTTON","EVENT_CLICK_BUTTON"),A=S))||A);r._RF.pop()}}}));

System.register("chunks:///_virtual/CustomButton.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./PlayerMgr.ts","./sdk.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,i,o,s,r,a,c,l,m,u,g,_,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,a=t._decorator,c=t.SpriteFrame,l=t.Widget,m=t.Sprite,u=t.Component},function(t){g=t.Const},function(t){_=t.default},function(t){h=t.sdk},null],execute:function(){var d,b,p,f,A;r._RF.push({},"4f9a1yn6R5FPKMmL41OBfAZ","CustomButton",void 0);var k=a.ccclass,y=a.property;t("CustomButton",(d=k("CustomButton"),b=y([c]),d((A=e((f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(o(e),"sps",A,o(e)),s(o(e),"buttonName",""),s(o(e),"widget",null),e}n(e,t);var r=e.prototype;return r.onLoad=function(){},r.init=function(t){this.buttonName=t,this.widget=this.node.getComponent(l),this.widget||(this.widget=this.node.addComponent(l)),-1!=t.indexOf("record")?this.node.getComponent(m).spriteFrame=this.sps[0]:this.node.getComponent(m).spriteFrame=this.sps[1],console.log("buttonName == ",this.buttonName);var e=_.getIns().customButtonConfig;if(e&&e[this.buttonName]&&e[this.buttonName].hide)this.node.active=!1;else if(!e||e[this.buttonName]){if(e&&e[this.buttonName]&&e[this.buttonName].horizontalAlignment){var n=e[this.buttonName].horizontalAlignment,i=e[this.buttonName].verticalAlignment;if(console.log("horizontalAlign == ",n),console.log("verticalAlign == ",i),n){var o=n.left,s=n.center,r=n.right;s?this.widget.isAlignHorizontalCenter=!0:null!=o&&"number"==typeof o?(this.widget.isAlignLeft=!0,this.widget.left=o):null!=r&&"number"==typeof r&&(this.widget.isAlignRight=!0,this.widget.right=r)}if(i){var a=i.top,c=i.middle,u=i.bottom;c?this.widget.isAlignVerticalCenter=!0:null!=a&&"number"==typeof a?(this.widget.isAlignTop=!0,this.widget.top=a):null!=u&&"number"==typeof u&&(this.widget.isAlignBottom=!0,this.widget.bottom=u)}this.widget.updateAlignment()}this.node.on("click",this.onClick,this)}else this.node.active=!1},r.onClick=function(){var t="";switch(this.buttonName){case"custom_lobby_record_btn":t=g.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_click_custom_lobby_record_btn;break;case"custom_lobby_rank_btn":t=g.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_click_custom_lobby_rank_btn;break;case"custom_game_record_btn":t=g.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_click_custom_game_record_btn;break;case"custom_game_rank_btn":t=g.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_click_custom_game_rank_btn}h.notifyAppChangeGameStatus(t,{})},r.start=function(){},e}(u)).prototype,"sps",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameInfo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,o,i,r,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,o=t.defineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.default},null],execute:function(){r._RF.push({},"5454b8TNhFF4pI3qvRKRbLM","GameInfo",void 0);var a=t("default",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(i(e),"_Version",void 0),o(i(e),"_code",""),o(i(e),"_roomId","222222"),o(i(e),"_token",""),o(i(e),"_accountInfo",void 0),o(i(e),"_buttonHideData",{gameMode:1,gameSettle:{hide:!1},ping:{hide:!1},version:{hide:!1},level:{hide:!1},lobby_setting_btn:{hide:!1},lobby_help_btn:{hide:!1},lobby_players:{hide:!0},lobby_player_captain_icon:{hide:!1},lobby_player_kickout_icon:{hide:!1},lobby_rule:{hide:!1},lobby_game_setting:{hide:!1},jion_btn:{hide:!1},cancel_btn:{hide:!1},ready_btn:{hide:!1},cancel_ready_btn:{hide:!1},start_btn:{hide:!1},share_btn:{hide:!0},game_setting_btn:{hide:!1},game_help_btn:{hide:!1}}),e}return e(r,t),n(r,[{key:"version",get:function(){return this._Version},set:function(t){this._Version=t}},{key:"code",get:function(){return this._code},set:function(t){this._code=t}},{key:"roomId",set:function(t){this._roomId=t}},{key:"roomID",get:function(){return this._roomId}},{key:"token",get:function(){return this._token},set:function(t){this._token=t}},{key:"AccountInfo",get:function(){return this._accountInfo},set:function(t){this._accountInfo=t}},{key:"soundState",get:function(){var t=localStorage.getItem("sound_state");return null!=t&&null!=t&&""!=t&&" "!=t||(t="1"),1==parseInt(t)},set:function(t){var e=t?1:0;localStorage.setItem("sound_state",e+"")}},{key:"buttonHideData",get:function(){return this._buttonHideData},set:function(t){this._buttonHideData=t}}]),r}(s));o(a,"PLAYTIMEOUT",20),r._RF.pop()}}}));

System.register("chunks:///_virtual/FpsMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./sdk.ts","./FrameWork.ts"],(function(t){"use strict";var e,r,n,s,i,a,o;return{setters:[function(t){e=t.inheritsLoose,r=t.defineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy},function(t){i=t.Const},function(t){a=t.default},function(t){o=t.sdk},null],execute:function(){s._RF.push({},"5632f8mmuhAFaxvgjwRjhZl","FpsMgr",void 0);t("default",function(t){function s(){for(var e,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,r(n(e),"rateFrame",0),r(n(e),"time",0),r(n(e),"currentFrame",0),e}return e(s,t),s.prototype.update=function(t){this.time+=t,this.rateFrame+=1,this.time>1&&(this.currentFrame=this.rateFrame,this.rateFrame=0,this.time-=1,o.notifyAppChangeGameStatus(i.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_fps,{fps:this.currentFrame}))},s}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){"use strict";var r,o,n,e;return{setters:[function(t){r=t.inheritsLoose},function(t){o=t.cclegacy,n=t.sys},function(t){e=t.default}],execute:function(){o._RF.push({},"5d9fazPot1FeYtyWvrsuKsi","PlatformMgr",void 0);t("default",function(t){function o(){return t.apply(this,arguments)||this}return r(o,t),o.prototype.isMiniGame=function(){return n.platform==n.Platform.COCOSPLAY||n.platform==n.Platform.WECHAT_GAME||(n.platform==n.Platform.DESKTOP_BROWSER||(n.platform,n.Platform.MOBILE_BROWSER),!1)},o}(e));o._RF.pop()}}}));

System.register("chunks:///_virtual/Head.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./PlayerMgr.ts","./sdk.ts","./AudioMgr.ts","./Util.ts","./FrameWork.ts","./AudioConst.ts","./GameCtrl.ts","./UIBase.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,l,d,c,u,_,g,h,m,f,p,v,I,y,C,P;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Sprite,r=e.Button,l=e.EventHandler,d=e.assetManager,c=e.Texture2D,u=e.SpriteFrame,_=e.UITransform,g=e.v3,h=e.resources},function(e){m=e.Const},function(e){f=e.default},function(e){p=e.sdk},function(e){v=e.AudioMgr},function(e){I=e.default},null,function(e){y=e.AudioConst},function(e){C=e.GameCtrl},function(e){P=e.UIBase}],execute:function(){var w;o._RF.push({},"605beeam/tP3bh8Hz1gv/4O","Head",void 0);var S=a.ccclass;a.property,e("Head",S("Head")(w=function(e){function o(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(i(t),"_icon",null),n(i(t),"_iconBg",null),n(i(t),"_progress",null),n(i(t),"_totleTime",15),n(i(t),"_progressId",null),n(i(t),"_warnSoundProgressId",null),n(i(t),"_managed",null),n(i(t),"_escaped",null),n(i(t),"_isSounds",!1),n(i(t),"_uniqueId",""),n(i(t),"_isNeedClick",!0),n(i(t),"_playerItem",null),n(i(t),"_chessIconBgPaths",["ui/battle/feixing_fm_red_01_2","ui/battle/feixing_fm_green_01_2","ui/battle/feixing_fm_yellow_01_2","ui/battle/feixing_fm_blue_01_2"]),t}t(o,e);var a=o.prototype;return a.init=function(e,t){void 0===e&&(e=!0),this._isNeedClick=e,this._playerItem=t,this.initViewNode()},a.initViewNode=function(){e.prototype.initViewNode.call(this),this._icon=this.view["mask/icon"],this._iconBg=this.view["icon-bg"],this._progress=this.view.progress.getComponent(s),this._managed=this.view.managed,this._managed.active=!1,this._escaped=this.view.escaped,this._escaped.active=!1,this._isNeedClick&&this.addPlayerClick()},a.onDestroy=function(){e.prototype.onDestroy.call(this),this.unscheduleAllCallbacks(),this.clearTimeout()},a.addPlayerClick=function(){var e=this.node.addComponent(r),t=new l;t.target=this.node,t.component="Head",t.handler="onClickPlayerHead",e.clickEvents.push(t)},a.onClickPlayerHead=function(){console.log("onClickPlayerHead..........."),console.log("player uid == ",this._uniqueId),this._uniqueId&&p.notifyAppChangePlayerStatus(m.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_self_click_game_player_icon,{uid:f.getIns().encodeUniqueId(this._uniqueId)})},a.setPlayerId=function(e){this._uniqueId=e},a.startProgress=function(e){var t=this;this.clearTimeout();var n=e,i=1/(10*C.getIns().roundTime);this._progress.fillStart=1,this._progress.fillRange=e/C.getIns().roundTime,this._progressId=setInterval((function(){t.node?(n-=.1,t._progress.fillRange-=i,n<=6&&!t._isSounds&&(t._isSounds=!0,t._playerItem._turnAnimation.playAnimation(),t._warnSoundProgressId=setInterval((function(){v.getIns().playSound(y.CD)}),1e3)),t._progress.fillRange<=0&&t.clearTimeout()):t.clearTimeout()}),100)},a.clearTimeout=function(){null!=this._progressId&&(clearInterval(this._progressId),this._progressId=null),null!=this._warnSoundProgressId&&(clearInterval(this._warnSoundProgressId),this._warnSoundProgressId=null),this.node&&(this._progress.fillRange=0)},a.setManaged=function(e){if(this._managed){this._managed.active=!!e;var t=p.getViewConfig();t&&t.game_managed_image&&t.game_managed_image.hide&&(this._managed.active=!1)}},a.setEscaped=function(e){void 0===e&&(e=!0),e?(this._escaped.active=!0,this._managed.active=!1):this._escaped.active=!1},a.loadPlayerIcon=function(e,t){1==t&&this.loadIconBgFs(this._iconBg,this._chessIconBgPaths[e.playerIndex]);var n=this.node.getChildByName("@ctrl_nft_avatar");1==f.getIns().isBoolAvatarOrNft(e)?0==t?I.loadNftRemoteFrame(this._icon.getComponent(s),e.nftData.nftPayloads[0].RichMediaUrl,null,e.avatar,n,!0):I.loadRemoteFrame(this._icon.getComponent(s),e.nftData.nftPayloads[0].RichMediaUrl,200):1==t?I.loadRemoteFrame(this._icon.getComponent(s),e.avatar,200):I.loadRemoteFrame(this._icon.getComponent(s),e.avatar,128)},a.loadRemoteFrame=function(e,t,n){d.loadRemote(t,{ext:".jpg"},(function(t,i){if(t)console.log("loadRemoteFrame err === ",t);else{var o=new c;o.image=i;var a=new u;if(a.texture=o,e.spriteFrame=a,n){e.sizeMode=s.SizeMode.RAW;var r=e.node.getComponent(_).contentSize,l=Math.min(r.width,r.height),d=n/l;e.node.scale=g(d,d,d)}}}))},a.loadIconBgFs=function(e,t){h.load(t,(function(n,i){if(n)console.log("loadSeatFs path == "+t+" err",n);else{var o=new c;o.image=i;var a=new u;a.texture=o,e.getComponent(s).spriteFrame=a,e.getComponent(_).setContentSize(160,160)}}))},o}(P))||w);o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseLobbyConst.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"626d0CE0zJFrbnAj09XhgFz","BaseLobbyConst",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateConstants.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(E){"use strict";var R,_,t;return{setters:[function(E){R=E.defineProperty},function(E){_=E.cclegacy,t=E._decorator}],execute:function(){E("UpdateEvent",void 0),_._RF.push({},"65c92O4HtRBfb7EYkOgIL2J","UpdateConstants",void 0);t.ccclass,t.property;var O,e=E("default",(function(){}));R(e,"ERROR_NO_LOCAL_MANIFEST","ERROR_NO_LOCAL_MANIFEST"),R(e,"ERROR_DOWNLOAD_MANIFEST","ERROR_DOWNLOAD_MANIFEST"),R(e,"ERROR_PARSE_MANIFEST","ERROR_PARSE_MANIFEST"),R(e,"ALREADY_UP_TO_DATE","ALREADY_UP_TO_DATE"),R(e,"NEW_VERSION_FOUND","NEW_VERSION_FOUND"),R(e,"UPDATE_PROGRESSION","UPDATE_PROGRESSION"),R(e,"UPDATE_FINISHED","UPDATE_FINISHED"),R(e,"UPDATE_FAILED","UPDATE_FAILED"),R(e,"ERROR_UPDATING","ERROR_UPDATING"),R(e,"ERROR_DECOMPRESS","ERROR_DECOMPRESS"),function(E){E.UPDATE_EVENT="update_event"}(O||(O=E("UpdateEvent",{}))),_._RF.pop()}}}));

System.register("chunks:///_virtual/FSMSdk.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./BaseSdk.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,i,o,s,a,g,f,c,u,m;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e.Rect,a=e.view,g=e.game},function(e){f=e.Const},function(e){c=e.EventDispatcher},function(e){u=e.BaseSdk},function(e){m=e.FrameWork}],execute:function(){o._RF.push({},"66c59Q9LOlOWqkbK3i5IV03","FSMSdk",void 0);e("default",function(e){function o(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(i(t),"fsmApp2Mg",null),n(i(t),"curGameViewSize",null),t}t(o,e);var u=o.prototype;return u.initSdk=function(){try{this.fsmApp2Mg=loadRuntime().getFSTMG(),loadRuntime().setFSMAPP({onNotifyNetStatus:function(e){m.log("sdk onNotifyNetStatus",e);var t=JSON.parse(e);c.getIns().emit(f.Event.Sdk.CHANGE_NET_STATUS,t)},onUpdateCode:function(e){m.log("sdk onUpdateCode",e);var t=JSON.parse(e);c.getIns().emit(f.Event.Sdk.UPDATE_SDK_LOGIN_CODE,t)},onStateChange:function(e,t){m.log("sdk onStateChange",e,t);var n=JSON.parse(t);c.getIns().emit(f.Event.Sdk.NTF_STATE_CHANGE,e,n)}}),c.getIns().emit(f.Event.Sdk.INIT_SUCCESS)}catch(e){c.getIns().emit(f.Event.Sdk.INIT_FAILE,e)}},u.setDebug=function(e){m.log("request sdk setDebug",e),this.fsmApp2Mg.setDebug(e,{success:function(e){m.log("result sdk setDebug",e)},fail:function(e){}})},u.getState=function(e,t){m.log("request sdk getState",e),this.fsmApp2Mg.getState(e,{success:function(e){m.log("result sdk getState",e);var n=JSON.parse(e);t&&t(n)},fail:function(e){c.getIns().emit(f.Event.Sdk.GET_STATE_FAILE,e)}})},u.mgLog=function(e){console.log("mgLog====="),this.fsmApp2Mg.mgLog&&this.fsmApp2Mg.mgLog(e,(function(){console.log("mgLog callback=====")}))},u.notifyGameStarted=function(){this.fsmApp2Mg.notifyGameStarted&&this.fsmApp2Mg.notifyGameStarted("{}",{success:function(e){m.log("notifyGameStarted success dataJson",e)},fail:function(e){m.log("notifyGameStarted fail dataJson",e),c.getIns().emit(f.Event.Sdk.NTF_GAME_LOAD_START_FAILE)}})},u.notifyGameLoadCompleted=function(){var e;null===(e=this.fsmApp2Mg)||void 0===e||e.notifyGameLoadCompleted({success:function(e){m.log("notifyGameLoadCompleted success dataJson",e)},fail:function(e){m.log("notifyGameLoadCompleted fail dataJson",e),c.getIns().emit(f.Event.Sdk.NTF_GAME_LOAD_COMPLETED_FAILE)}})},u.login=function(){try{this.fsmApp2Mg.login({success:function(e){var t=JSON.parse(e);0==t.ret_code?c.getIns().emit(f.Event.Sdk.LOGIN_SUCCESS,t):c.getIns().emit(f.Event.Sdk.LOGIN_FAILE,t.ret_msg)},fail:function(e){c.getIns().emit(f.Event.Sdk.LOGIN_FAILE,e)}})}catch(e){c.getIns().emit(f.Event.Sdk.LOGIN_FAILE,e)}},u.reLogin=function(){m.log(" =======reLogin========="),c.getIns().emit(f.Event.Net.RECONNECT)},u.expireCode=function(){m.log(" send sdk get expireCode"),this.fsmApp2Mg.expireCode({success:function(e){m.log("expireCode success dataJson",e)},fail:function(e){m.log("expireCode fail dataJson",e),c.getIns().emit(f.Event.Sdk.GET_SDK_LOGIN_CODE_FAILE)}})},u.notifyAppChangeGameStatus=function(e,t){m.log("notifyAppChangeGameStatus=====>>>>>>>>",e,t),this.fsmApp2Mg.notifyGameStateChange(e,t,{success:function(){},fail:function(e){c.getIns().emit(f.Event.Sdk.NTF_GAME_2_APP_FAIL,e)}})},u.notifyAppChangePlayerStatus=function(e,t,n,i){m.log("notifyAppChangePlayerStatus=====>>>>>>>>>",e,t,n),this.fsmApp2Mg.notifyPlayerStateChange(e,t,n,{success:function(){},fail:function(e){c.getIns().emit(f.Event.Sdk.NTF_GAME_2_APP_FAIL,e)}})},u.getNetStatus=function(){this.fsmApp2Mg.getNetStatus({success:function(e){var t=JSON.parse(e);c.getIns().emit(f.Event.Sdk.CHANGE_NET_STATUS,t)},fail:function(){}})},u.getViewSize=function(e){m.log("getViewSize====="),this.fsmApp2Mg.getGameViewInfo({success:function(t){m.log("getGameViewInfo success",t);var n=JSON.parse(t);if(e){var i=n.view_game_rect.bottom+n.view_game_rect.top,o=n.view_game_rect.left+n.view_game_rect.right,a=(n.view_game_rect.bottom-n.view_game_rect.top)/2,g=(n.view_game_rect.right-n.view_game_rect.left)/2,f=n.view_size.height-i,c=n.view_size.width-o,u=new s(g,a,c,f);u.orgRect=new s(n.view_game_rect.left,n.view_game_rect.top,n.view_size.width,n.view_size.height),e(u)}},fail:function(e){m.log("getGameViewInfo fail",e)}},JSON.stringify({ratio:a.getDevicePixelRatio()}))},u.getSDKInfo=function(e){this.fsmApp2Mg.getSDKInfo({success:function(t){m.log("getSDKInfo success",t);var n=JSON.parse(t);e&&e(n)},fail:function(e){m.log("getSDKInfo fail",e)}})},u.getGameCfg=function(e){var t=this;m.log("sdk getGameCfg"),this.fsmApp2Mg.getGameCfg?this.fsmApp2Mg.getGameCfg({success:function(n){m.log("getGameCfg success",n);var i=JSON.parse(n)||{},o=i.ui||{};for(var s in o)t.gameConfig.ui[s]=o[s];i.gameMode&&(t.gameConfig.gameMode=i.gameMode),i.gameCPU&&1==i.gameCPU&&(g.frameRate=30),i.gameSoundControl&&(t.gameConfig.gameSoundControl=i.gameSoundControl),i.gameSoundVolume?t.gameConfig.gameSoundVolume=i.gameSoundVolume:t.gameConfig.gameSoundVolume=100,e&&e(t.gameConfig)},fail:function(e){m.log("getGameCfg fail",e)}}):e()},o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyModeSelect.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./Lang.ts","./NetMgr.ts","./PlayerMgr.ts","./UIMgr.ts","./FrameWork.ts","./GameCmd.ts","./UIConfig.ts","./GameConst.ts","./GameCtrl.ts"],(function(e){"use strict";var t,n,o,i,s,a,l,c,r,u,p,g,h,d,f,y,m,_,C,b,S,I,T,B,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,c=e.Vec3,r=e.Button,u=e.Label,p=e.Tween,g=e.tween,h=e.Node,d=e.Component},function(e){f=e.Const},function(e){y=e.EventDispatcher},function(e){m=e.Lang},function(e){_=e.default},function(e){C=e.default},function(e){b=e.default},null,function(e){S=e.GameCmd},function(e){I=e.default},function(e){T=e.GameEvent,B=e.MODE_TYPE},function(e){v=e.GameCtrl}],execute:function(){var L,E,M,N,q,D,k,x,P;a._RF.push({},"6a944KQnTtAB7+egeV1bc3Y","LobbyModeSelect",void 0);var O=l.ccclass,R=l.property,w=new c;e("LobbyModeSelect",(L=O("LobbyModeSelect"),E=R(r),M=R(r),N=R(u),L((k=t((D=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,o(i(t),"setBtn",k,i(t)),o(i(t),"setBtnBg",x,i(t)),o(i(t),"settings",P,i(t)),s(i(t),"_type",0),s(i(t),"_planeNum",2),s(i(t),"_isItem",0),t}n(t,e);var a=t.prototype;return a.onLoad=function(){console.log("LobbyModeSelect onLoad-----"),_.getIns().onEventMsg(S.OnChangeCaptain,this.onChangeCaptain,this),y.getIns().on(T.PLAYER_SET_TYPE,this.onPlayerSetType,this)},a.onDestroy=function(){_.getIns().offEventMsg(S.OnChangeCaptain,this.onChangeCaptain,this),y.getIns().off(T.PLAYER_SET_TYPE,this.onPlayerSetType,this)},a.start=function(){var e=this;console.log("LobbyModelSelect start------"),console.log("LobbyModeSelect params == ",JSON.stringify(v.getIns().model.params)),this.init(v.getIns().model.params),p.stopAllByTarget(this.setBtnBg.node),g(this.setBtnBg.node).sequence(g().call((function(){w.set(0,10,0)})),g().by(1,{position:w},{easing:"sineOut"}),g().call((function(){w.set(0,-10,0)})),g().by(1,{position:w},{easing:"sineOut"})).repeatForever().start(),this.setBtnBg.node.on(h.EventType.NODE_DESTROYED,(function(){p.stopAllByTarget(e.setBtnBg.node)}),this)},a.init=function(e){var t=e[0],n=e[1],o=e[2];console.log("LobbyModeSelect init "),console.log("type == "+t+", planeNum == "+n+", isItem == "+o),this._type=t,this._planeNum=n,this._isItem=o,console.log("curCaptainId === ",C.getIns().curCaptainId),console.log("mySelf id == ",C.getIns().getSelfData().uniqueId),C.getIns().curCaptainUniqueId!=C.getIns().getSelfData().uniqueId&&(this.setBtn.node.active=!1,this.setBtnBg.node.active=!1),this.updateLabel()},a.onChangeCaptain=function(e){e.uniqueId==C.getIns().getSelfData().uniqueId?(this.setBtn.node.active=!0,this.setBtnBg.node.active=!0):(this.setBtn.node.active=!1,this.setBtnBg.node.active=!1)},a.updateChecks=function(){},a.updateLabel=function(){var e="";switch(this._type){case B.RaceModeQuick:e=m.getText("text_mode_quick");break;case B.RaceModeClassic:e=m.getText("text_mode_classical");break;case B.RaceModeCompetition:e=m.getText("text_mode_competition")}var t="";t=2==this._planeNum?m.getText("text_mode_piece2"):m.getText("text_mode_piece4");var n="";this._isItem&&(n=m.getText("text_mode_item")),this.settings.string=e+" "+t+" "+n},a.update=function(e){},a.getType=function(){return this._type},a.getPlaneNum=function(){return this._planeNum},a.getIsItem=function(){return this._isItem},a.onRaceToggleClick=function(e,t){"0"==t?this._type=0:"1"==t&&(this._type=1),console.log("this._type == ",this._type),this.reqSetType()},a.onChessToggleClick=function(e,t){"2"==t?this._planeNum=2:"4"==t&&(this._planeNum=4),console.log("this._planeNum == ",this._planeNum),this.reqSetType()},a.onItemToggleChecked=function(e,t){this.reqSetType()},a.onCloseModeLayer=function(){console.log("onCloseModeLayer........")},a.reqSetType=function(){var e=this._type,t=this._planeNum,n=this._isItem;console.log("reqSetType =================================================="),console.log("type == "+e+", planeNum == "+t+", isItem == "+n);var o={type:e,planeNum:t,isItem:n};console.log("reqSetType  params == ",JSON.stringify(o)),_.getIns().request(S.SetType,o,(function(e){console.log("reqSetType callback resultData == ",JSON.stringify(e)),e.resultCode==f.SERVER_RESULT_CODE.SUCCESS||console.error("reqSetType fail retCode === ",e.reusltCode)}))},a.onClickOpen=function(){b.getIns().showView(I.LobbyModeSelect)},a.onPlayerSetType=function(e){this._type=e.type,this._planeNum=e.planeNum,this._isItem=e.isItem,this.updateChecks(),this.updateLabel()},t}(d)).prototype,"setBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"setBtnBg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(D.prototype,"settings",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=D))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfig.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ViewConst.ts","./FrameWork.ts"],(function(e){"use strict";var r,a,n,o;return{setters:[function(e){r=e.defineProperty},function(e){a=e.cclegacy},function(e){n=e.LayerType,o=e.ViewType},null],execute:function(){a._RF.push({},"6bd3cYmvFxCX6Jyi9lprD5Z","UIConfig",void 0);var p=e("default",(function(){}));r(p,"Alert",{desc:"确认弹窗",name:"MyAlert",resPath:"prefab/common/myAlert",layerType:n.alert,viewType:o.popup,zIndex:1,bundleName:"resources"}),r(p,"Help",{desc:"游戏规则",name:"Help",resPath:"prefab/common/help",layerType:n.popup,viewType:o.popup,zIndex:1,bundleName:"resources"}),r(p,"LevelInfo",{desc:"段位",name:"LevelInfo",resPath:"prefab/common/levelInfo",layerType:n.popup,viewType:o.popup,zIndex:1,bundleName:"resources"}),r(p,"Loading",{desc:"游戏加载",name:"Loading",resPath:"common/loading",layerType:n.view,viewType:o.view,zIndex:1,bundleName:"resources"}),r(p,"LobbyView",{desc:"大厅界面",name:"LobbyView",resPath:"prefabs/LobbyView",layerType:n.view,viewType:o.view,zIndex:1,bundleName:"framework_res"}),r(p,"GameView",{desc:"游戏界面",name:"GameView",resPath:"prefab/game/gameView",layerType:n.view,viewType:o.view,zIndex:1,bundleName:"resources"}),r(p,"GameOver",{desc:"游戏结算",name:"GameOver",resPath:"prefab/game/gameOver",sdkViewConfigName:"gameSettle",layerType:n.view,viewType:o.view,zIndex:1,bundleName:"resources"}),r(p,"reconnect",{desc:"菊花转啊转",name:"reconnect",resPath:"prefab/common/reconnect",layerType:n.top,viewType:o.popup,zIndex:1,bundleName:"resources"}),r(p,"LobbyModeSelect",{desc:"模式选择",name:"LobbyModeSelect",resPath:"prefab/lobby/modleSetPnl",layerType:n.popup,viewType:o.popup,zIndex:1,bundleName:"resources",noMask:!0}),a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./EventDispatcher.ts","./ServerStructureData.ts","./Lang.ts","./Http.ts","./SocketMgr.ts","./NetMgr.ts","./RoomMgr.ts","./md5.js","./md5.mjs_cjs=&original=.js","./sdk.ts","./UIMgr.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,a,s,o,i,r,g,d,_,S,m,c,u,l,I,p,f,h,A,E;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,a=e.defineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,i=e.js},function(e){r=e.Const,g=e.PlayerStatus},function(e){d=e.default},function(e){_=e.EventDispatcher},function(e){S=e.BaseGameStatus},function(e){m=e.Lang},function(e){c=e.default},function(e){u=e.SocketMgr,l=e.NetState},function(e){I=e.default},function(e){p=e.default},function(e){f=e.default},null,function(e){h=e.sdk},function(e){A=e.default},function(e){E=e.FrameWork}],execute:function(){o._RF.push({},"6f26au6VNZAJI3dyhT0673w","PlayerMgr",void 0);e("default",function(e){function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(s(t),"updateSstokenHandlerId",null),a(s(t),"sstokenDt",36e5),a(s(t),"loginGameData",void 0),a(s(t),"_gameModeInfo",void 0),a(s(t),"loginSdkData",void 0),a(s(t),"playerDatas",i.createMap()),a(s(t),"curCaptainId",void 0),a(s(t),"curCaptainAppId",void 0),a(s(t),"curCaptainUniqueId",void 0),a(s(t),"loginFailNum",0),a(s(t),"serverLoginInfo",void 0),a(s(t),"getCodeNum",0),a(s(t),"selfData",{playerId:"def_id"}),a(s(t),"_isLoging",!1),a(s(t),"_customButtonConfig",{}),a(s(t),"loginTimeoutId",null),a(s(t),"_settleDelay",0),a(s(t),"_uiCustomConfigs",{}),t}t(o,e);var d=o.prototype;return d.init=function(){this.addEvents()},d.connectServer=function(e){this.serverLoginInfo=e,h.login()},d.getPlayerDataById=function(e){return e==this.selfData.uniqueId?this.selfData:this.playerDatas[e]},d.addEvents=function(){_.getIns().on(r.Event.Sdk.LOGIN_SUCCESS,this.onSdkLoginSuccess,this),_.getIns().on(r.Event.Sdk.UPDATE_SDK_LOGIN_CODE,this.onUpdateLoginCode,this),_.getIns().on(r.Event.Net.DISCONNECT,this.onDisconnect,this),_.getIns().on(r.Event.Net.CONNECT_SUC,this.onConnectSuccess,this),_.getIns().on(r.Event.Net.CONNECT_FAIL,this.onConnectFail,this),_.getIns().on(r.Event.Net.RECONNECT,this.onReconnect,this),_.getIns().on(r.Event.Sdk.NTF_STATE_CHANGE,this.onSdkStateChange,this),I.getIns().onEventMsg(I.getIns().getCmd().OnPlayerLogin,this.onPlayerLogin,this),I.getIns().onEventMsg(I.getIns().getCmd().OnPlayerEnter,this.onPlayerEnter,this),I.getIns().onEventMsg(I.getIns().getCmd().OnPlayerLeave,this.onPlayerLeave,this),I.getIns().onEventMsg(I.getIns().getCmd().OnPlayerReady,this.onPlayerReady,this),I.getIns().onEventMsg(I.getIns().getCmd().OnChangeCaptain,this.onChangeCaptain,this),I.getIns().onEventMsg(I.getIns().getCmd().OnPlayerEscape,this.onPlayerEscape,this),I.getIns().onEventMsg(I.getIns().getCmd().OnGameReady,this.onGameReady,this),I.getIns().onEventMsg(I.getIns().getCmd().OnGameStart,this.onGameStart,this),I.getIns().onEventMsg(I.getIns().getCmd().OnGameFinish,this.onGameFinish,this),I.getIns().onEventMsg(I.getIns().getCmd().OnPlayerChangeSeat,this.onPlayerChangeSeat,this),I.getIns().onEventMsg(I.getIns().getCmd().OnUpdateAccountAttributes,this.onUpdateAccountAttributes,this),I.getIns().onEventMsg(I.getIns().getCmd().OnNewServerAddr,this.onNewServerAddr,this),I.getIns().getCmd().OnPlayerSetManaged&&I.getIns().onEventMsg(I.getIns().getCmd().OnPlayerSetManaged,this.onPlayerSetManaged,this)},d.removeEvent=function(){_.getIns().off(r.Event.Net.DISCONNECT,this.onDisconnect,this),_.getIns().off(r.Event.Net.CONNECT_SUC,this.onConnectSuccess,this),_.getIns().off(r.Event.Net.CONNECT_FAIL,this.onConnectFail,this),_.getIns().off(r.Event.Sdk.LOGIN_SUCCESS,this.onSdkLoginSuccess,this),_.getIns().off(r.Event.Sdk.UPDATE_SDK_LOGIN_CODE,this.onUpdateLoginCode,this),_.getIns().off(r.Event.Net.RECONNECT,this.onReconnect,this),_.getIns().off(r.Event.Sdk.NTF_STATE_CHANGE,this.onSdkStateChange,this),I.getIns().offEventMsg(I.getIns().getCmd().OnPlayerLogin,this.onPlayerLogin,this),I.getIns().offEventMsg(I.getIns().getCmd().OnPlayerEnter,this.onPlayerEnter,this),I.getIns().offEventMsg(I.getIns().getCmd().OnPlayerLeave,this.onPlayerLeave,this),I.getIns().offEventMsg(I.getIns().getCmd().OnPlayerReady,this.onPlayerReady,this),I.getIns().offEventMsg(I.getIns().getCmd().OnChangeCaptain,this.onChangeCaptain,this),I.getIns().onEventMsg(I.getIns().getCmd().OnPlayerEscape,this.onPlayerEscape,this),I.getIns().offEventMsg(I.getIns().getCmd().OnGameReady,this.onGameReady,this),I.getIns().offEventMsg(I.getIns().getCmd().OnGameStart,this.onGameStart,this),I.getIns().offEventMsg(I.getIns().getCmd().OnGameFinish,this.onGameFinish,this),I.getIns().offEventMsg(I.getIns().getCmd().OnPlayerChangeSeat,this.onPlayerChangeSeat,this),I.getIns().offEventMsg(I.getIns().getCmd().OnUpdateAccountAttributes,this.onUpdateAccountAttributes,this),I.getIns().offEventMsg(I.getIns().getCmd().OnNewServerAddr,this.onNewServerAddr,this),I.getIns().getCmd().OnPlayerSetManaged&&I.getIns().offEventMsg(I.getIns().getCmd().OnPlayerSetManaged,this.onPlayerSetManaged,this)},d.onConnectSuccess=function(){E.log("========socket连接服务器成功=========="),h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,r.LOADSTEP[7]),this.sendLogin(),this.resetSstokenUpdate(),this.loginFailNum=0},d.onConnectFail=function(){E.log("========socket连接服务器失败==========");var e=r.LOADSTEP[7];h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,{step:e.step,percent:e.percent,desc:e.desc,code:500})},d.resetSstokenUpdate=function(){var e=this;this.updateSstokenHandlerId&&(clearInterval(this.updateSstokenHandlerId),this.updateSstokenHandlerId=null),this.updateSstokenHandlerId=setInterval((function(){e.updateSstokenMsg()}),this.sstokenDt)},d.sendLogin=function(){var e=this,t={appId:this.loginGameData.appId,openId:this.loginGameData.openId,token:this.loginGameData.token};h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,r.LOADSTEP[8]),I.getIns().request(I.getIns().getCmd().Login,t,(function(t){if(t.resultCode==r.SERVER_RESULT_CODE.LOGIN_FAILE){var n=r.LOADSTEP[9];h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,{step:n.step,percent:n.percent,desc:n.desc,code:500}),e.loginFailNum++,e.loginFailNum<3?setTimeout((function(){e.sendLogin()}),500):(h.notifyGameLoadCompleted(),A.getIns().alert({content:m.getText("tips_network_disconnected"),sureInfo:{callback:function(){e.loginFailNum=0,I.getIns().close("登陆错误,断开链接"),E.reLogin()}}}))}}))},d.updateSstokenMsg=function(){var e=this;console.log("开始请求刷新sstoken"),I.getIns().request(I.getIns().getCmd().UpdateSstoken,{},(function(t){t.resultCode!=r.SERVER_RESULT_CODE.SUCCESS?(console.log("刷新ssToken失败"),e.sstokenDt=6e5,e.resetSstokenUpdate()):(console.log("刷新sstoken成功"),e.sstokenDt=36e5,e.resetSstokenUpdate())}))},d.onUpdateAccountAttributes=function(e){var t=JSON.parse(JSON.stringify(e));this.selfData=t.account,_.getIns().emit(r.Event.UI.UPDATE_ACCOUNT,e),console.log("PlayerMgr onUpdateAccountAttributes == ",JSON.stringify(e))},d.onNewServerAddr=function(e){if(I.getIns().close("收到切区消息，主动断开连接"),e&&e.serverAddr){var t=e.serverAddr+"/"+E.loginSuffixURL+"/login",n=e.serverAddr.replace("http","ws")+"/websocket";this.serverLoginInfo.http_login_url=t,this.serverLoginInfo.tcp_login_url=n}},d.onPlayerSetManaged=function(e){e.uniqueId&&h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_player_managed_state,{uid:o.getIns().encodeUniqueIdByAppId(e.uniqueId,e.appId,e.playerId),isManaged:e.isManaged})},d.encodeUniqueId=function(e){var t=this.playerDatas[e];if(t&&t.appId==this.selfData.appId)return t.playerId;if(!t)return"";try{return f(t.playerId)}catch(e){return t.playerId}},d.encodeUniqueIdByAppId=function(e,t,n){if(t==this.selfData.appId)return n;if(e)try{return f(n)}catch(e){return n}return""},d.getSelfData=function(){return this.selfData},d.getGamePlayerData=function(){return this.playerDatas[this.selfData.uniqueId]},d.isPlayGame=function(){var e=this.getGamePlayerData();return!!(e&&e.state<g.escaped)},d.onUpdateLoginCode=function(e){this.loginSdkData.code=e.code,_.getIns().emit(r.Event.Common.SHOW_REQUEST_MASK),this.login()},d.clearLoginTimer=function(){this.loginTimeoutId&&(clearTimeout(this.loginTimeoutId),this.loginTimeoutId=null)},d.parseGameModeInfo=function(){if(this.gameModeInfo={},o.getIns().loginGameData.gameModeInfo){var e=o.getIns().loginGameData.gameModeInfo;if(e&&e instanceof Array&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t];if(n&&n.mode==h.getGameMode()){var a=JSON.parse(n.rule)||{};this.gameModeInfo=a;break}}}},d.pareCutomBtnConfig=function(){var e={};if(o.getIns().gameModeInfo){var t=o.getIns().gameModeInfo;t.hasOwnProperty("customButtonConfig")&&(e=t.customButtonConfig)}o.getIns().customButtonConfig=e},d.onPlayerLogin=function(e){E.log("=========onPlayerLogin=========="),this.pareCutomBtnConfig(),h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,r.LOADSTEP[9]),h.notifyGameLoadCompleted(),this.isLoging=!1,this.clearLoginTimer();var t=JSON.parse(JSON.stringify(e));_.getIns().emit(r.Event.Common.HIDE_REQUEST_MASK),this.selfData=t.account;var n=t.account.playerId.replace("test_","");localStorage.setItem("login_account",n);var a=t.game.players||[],s=!1;for(var o in this.playerDatas){for(var g=this.playerDatas[o],d=!1,S=0;S<a.length;S++){if(a[S].uniqueId==g.uniqueId){d=!0;break}}d||(g.uniqueId==this.selfData.uniqueId&&(s=!0),this.restSdkStatus(g.uniqueId,g.teamId,g.seatIndex))}this.playerDatas=i.createMap();for(var m=0;m<a.length;m++){var c=a[m];this.playerDatas[c.uniqueId]=c,this.sendPlayerInitStatus(c,t.game),c.uniqueId==this.selfData.uniqueId&&(s=!0)}this.curCaptainId=t.game.captain,this.curCaptainAppId=t.game.captainAppId,this.curCaptainUniqueId=t.game.captainUniqueId,this.sendCurGameStatus(e.game),s||this.restSdkStatus(this.selfData.uniqueId),t.game.captainUniqueId&&"0"!=t.game.captainUniqueId&&h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_captain,{isCaptain:!0,retCode:0},t.game.captainUniqueId),h.notifyGameStarted(),h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_network_state,{state:1})},d.restSdkStatus=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=-1),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing,{isPlaying:!1,retCode:0,spaceMax:!1,gameRoundId:"",reason:-1},e),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_ready,{isReady:!1,retCode:0},e),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!1,retCode:0,reason:0,teamId:t,kickUID:"",seatIndex:n},e)},d.sendCurGameStatus=function(e){e.state==S.idle?h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_state,{gameState:S.idle}):e.state==S.loading?h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_state,{gameState:S.loading}):e.state>=S.playing&&h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_state,{gameState:S.playing})},d.sendPlayerInitStatus=function(e,t){switch(e.teamId=e.teamId?e.teamId:1,e.state){case g.idle:h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!0,retCode:0,reason:0,teamId:e.teamId,kickUID:"",seatIndex:e.seatIndex},e.uniqueId);break;case g.ready:h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!0,retCode:0,reason:0,teamId:e.teamId,kickUID:"",seatIndex:e.seatIndex},e.uniqueId),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_ready,{isReady:!0,retCode:0},e.uniqueId),t.state>S.idle&&h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing,{isPlaying:!0,retCode:0,spaceMax:!1,gameRoundId:"",reason:-1},e.uniqueId);break;case g.loadrd:case g.auto:h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!0,retCode:0,reason:0,teamId:e.teamId,kickUID:"",seatIndex:e.seatIndex},e.uniqueId),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_ready,{isReady:!0,retCode:0},e.uniqueId),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing,{isPlaying:!0,retCode:0,spaceMax:!1,gameRoundId:"",reason:-1},e.uniqueId);break;case g.escaped:h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!0,retCode:0,reason:0,teamId:e.teamId,kickUID:"",seatIndex:e.seatIndex},e.uniqueId);break;case g.escaped_and_leave:h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!1,retCode:0,reason:0,teamId:e.teamId,kickUID:"",seatIndex:e.seatIndex},e.uniqueId)}E.log("sendPlayerInitStatus============",e,t)},d.onPlayerEnter=function(e){var t=JSON.parse(JSON.stringify(e)),n=t.player,a=n.uniqueId;n.teamId;t.teamId=t.teamId?t.teamId:1,this.playerDatas[a]=n,h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!0,retCode:0,reason:0,teamId:t.teamId,kickUID:"",seatIndex:n.seatIndex},a)},d.onPlayerLeave=function(e){var t=JSON.parse(JSON.stringify(e)),n=t.uniqueId,a=this.playerDatas[n];a.teamId=a.teamId?a.teamId:1,t.kickUniqueId&&t.kickPlayerId?h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!1,retCode:0,reason:1,kickUID:o.getIns().encodeUniqueId(t.kickUniqueId),teamId:a.teamId,seatIndex:a.seatIndex},n):h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in,{isIn:!1,retCode:0,reason:0,kickUID:"",teamId:a.teamId,seatIndex:a.seatIndex},n),a.state==g.escaped?a.state=g.escaped_and_leave:delete this.playerDatas[n]},d.onPlayerEscape=function(e){var t=JSON.parse(JSON.stringify(e)).uniqueId,n=this.playerDatas[t];n&&(n.state=g.escaped),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing,{isPlaying:!1,retCode:0,spaceMax:!1,gameRoundId:"",reason:1},t),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_ready,{isReady:!1,retCode:0},t)},d.onChangeCaptain=function(e){var t=JSON.parse(JSON.stringify(e));this.curCaptainUniqueId&&this.curCaptainId&&h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_captain,{isCaptain:!1,retCode:0},this.curCaptainUniqueId),t.uniqueId&&t.playerId&&h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_captain,{isCaptain:!0,retCode:0},t.uniqueId),this.curCaptainId=t.playerId,this.curCaptainUniqueId=t.uniqueId,this.curCaptainAppId=t.curCaptainAppId},d.onPlayerReady=function(e){var t=JSON.parse(JSON.stringify(e)),n=t.uniqueId,a=this.playerDatas[n],s=1==t.isReady;a&&(a.state=s?g.ready:g.idle),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_ready,{isReady:s,retCode:0},n)},d.onGameReady=function(e){var t=JSON.parse(JSON.stringify(e)).players,n=e.roundId;this.playerDatas=i.createMap();for(var a=0;a<t.length;a++){var s=t[a];this.playerDatas[s.uniqueId]=s,h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing,{isPlaying:!0,retCode:0,spaceMax:!1,gameRoundId:n,reason:-1},s.uniqueId)}h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_state,{gameState:S.loading})},d.onGameStart=function(){h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_state,{gameState:S.playing})},d.onGameFinish=function(e){for(var t=JSON.parse(JSON.stringify(e)),n=0;n<t.results.length;n++){var a=t.results[n],s=a.uniqueId;1!=a.isEscaped&&(h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing,{isPlaying:!1,retCode:0,spaceMax:!1,gameRoundId:t.roundId,reason:t.reason},s),h.notifyAppChangePlayerStatus(r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_ready,{isReady:!1,retCode:0},s))}var o=0,i=h.getViewConfig();i&&i.game_mvp&&0==i.game_mvp.hide&&(o=3e3),o+=1e3*this.settleDelay,setTimeout((function(){h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_state,{gameState:S.idle})}),o),this.resetPlayerStatus()},d.resetPlayerStatus=function(){for(var e in this.playerDatas){var t=this.playerDatas[e];t.state==g.escaped_and_leave?delete this.playerDatas[e]:t.state=g.idle}},d.sendGameOverData=function(e){h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_settlement,e)},d.onPlayerChangeSeat=function(e){var t=JSON.parse(JSON.stringify(e)),n=this.playerDatas[t.uniqueId];n&&(n.seatIndex=t.seatIndex)},d.onSdkLoginSuccess=function(e){E.log("sdk登录成功",e),this.loginSdkData=e,this.login()},d._login=function(e,t){var n,a=this;this.isLoging=!0,this.clearLoginTimer();var s={url:this.serverLoginInfo.http_login_url,data:{language:m.curLanguageStr,appServerInfoUrl:this.serverLoginInfo.app_server_info_url,appId:this.serverLoginInfo.app_id,code:this.loginSdkData.code,mode:h.getGameMode(),bundleId:this.serverLoginInfo.bundle_id,platform:this.serverLoginInfo.platform,roomId:null===(n=this.loginSdkData)||void 0===n?void 0:n.room_id,openId:e,version:E.version,appAuthInfoUrl:this.serverLoginInfo.app_auth_info_url,authorizationSecret:this.serverLoginInfo.authorization_secret}};E.log("==========连接http服务器======",s),h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,r.LOADSTEP[4]),c.post(s,(function(e,n){if(console.log("post status === ",e),200==e){h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,r.LOADSTEP[5]),E.log("result suc==>>>",JSON.stringify(n));var s=JSON.parse(n);if(a.loginGameData=s,a.parseGameModeInfo(),s.resultCode==r.SERVER_RESULT_CODE.SUCCESS){a.getCodeNum=0,E.log("http登录成功>>>>>>>>>>>>>>>>"+JSON.stringify(s));var o=a.serverLoginInfo.tcp_login_url;E.log("connect server_url>>>>>>>>>>>>>>>>",o);var i=s.maxPlayerNum,g=s.minPlayerNum;p.getIns().setRoomPlayerNum(g,i),h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,r.LOADSTEP[6]),I.getIns().connect(o+"?uid="+s.uid+"&key="+s.token)}else if(s.resultCode==r.SERVER_RESULT_CODE.CODE_OVERDUE){var d=r.LOADSTEP[5];h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,{step:d.step,percent:d.percent,desc:d.desc,code:500}),_.getIns().emit(r.Event.Common.SHOW_REQUEST_MASK),setTimeout((function(){a.getCodeNum<5?h.expireCode():(h.notifyGameLoadCompleted(),_.getIns().emit(r.Event.Common.HIDE_REQUEST_MASK),A.getIns().alert({content:m.getText("tips_network_disconnected")+"\nresultCode="+s.resultCode+",sdkResultCode="+s.sdkResultCode,sureInfo:{callback:function(){a.getCodeNum=0,E.reLogin()}}}),a.isLoging=!1,h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_network_state,{state:0})),a.getCodeNum++}),3e3)}else{var S=r.LOADSTEP[5];h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,{step:S.step,percent:S.percent,desc:S.desc,code:500}),t&&t({resultCode:s.resultCode,sdkResultCode:s.sdkResultCode})}}else{console.log("Http status",e);var c=r.LOADSTEP[5];h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,{step:c.step,percent:c.percent,desc:c.desc,code:500}),t&&t()}}))},d.login=function(){var e=this,t=localStorage.getItem("login_account")||Date.now();t="test_"+t,this._login(t,(function(n){e.reconnect(t,n)}))},d.reconnect=function(e,t){var n=this,a=3;console.log("reconnect num == ",a);!function s(){if(a>0)a--,E.log("重连中..."),_.getIns().emit(r.Event.Common.SHOW_REQUEST_MASK),n.clearLoginTimer(),n.loginTimeoutId=setTimeout((function(){n._login(e,s)}),3e3);else{var o=m.getText("tips_network_disconnected");t&&(o=o+"\nresultCode="+t.resultCode+",sdkResultCode="+t.sdkResultCode),h.notifyGameLoadCompleted(),_.getIns().emit(r.Event.Common.HIDE_REQUEST_MASK),A.getIns().alert({content:o,sureInfo:{callback:function(){E.reLogin()}}}),n.isLoging=!1,h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_network_state,{state:0})}}()},d.onReconnect=function(){var e=this;_.getIns().emit(r.Event.Common.SHOW_REQUEST_MASK),setTimeout((function(){e.login()}),3e3)},d.onDisconnect=function(){E.log("网络连接断开!!!!!!!"),_.getIns().emit(r.Event.Net.SERVER_PING,999),this.onReconnect()},d.onSdkStateChange=function(e,t){var n,a;switch(E.log("onSdkStateChange>>>>>>",e,t),e){case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_game_reconnect:console.log("SocketMgr.getIns().getState() == ",u.getIns().getState()),console.log("this.isLogin == ",this.isLoging),u.getIns().getState()!=l.Disconnected||this.isLoging?this.isLoging?E.log("isLoging can't reconnect......"):E.log("socket is not disconnected can not to reconnect..."):(E.log("api reconnect.........................................."),this.isLoging=!0,this.clearLoginTimer(),A.getIns().closeAlert(),E.reLogin());break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_game_setting_select_info:_.getIns().emit(r.Event.Common.APP_COMMON_GAME_SETTING_SELECT_INFO,t);break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_game_add_ai_players:p.getIns().reqAddAIPlayers(t);break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_game_sound_volume:_.getIns().emit(r.Event.Common.APP_COMMON_GAME_SOUND_VOLUME,t.volume);break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_open_bg_music:_.getIns().emit(r.Event.Common.CHANGE_MUSIC_STATE,t.isOpen);break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_open_sound:_.getIns().emit(r.Event.Common.CHANGE_SOUND_STATE,t.isOpen);break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_open_vibrate:_.getIns().emit(r.Event.Common.CHANGE_VIBRATE_STATE,t.isOpen);break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_self_in:if(t.isIn){var s=1==(null==t?void 0:t.isSeatRandom)?1:0;p.getIns().join((null==t?void 0:t.seatIndex)||-1,null==t?void 0:t.teamId,s)}else p.getIns().exit();break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_self_ready:t.isReady?p.getIns().ready():p.getIns().cancelReady();break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_self_captain:for(var o in this.playerDatas)if(this.playerDatas[o].playerId==t.curCaptainUID&&this.playerDatas[o].appId==this.selfData.appId){a=this.playerDatas[o];break}p.getIns().transferCaptain((null===(n=a)||void 0===n?void 0:n.seatIndex)||"",t.curCaptainUID||"");break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_self_playing:t.isPlaying?p.getIns().gameStart(t.reportGameInfoExtras,t.reportGameInfoKey):p.getIns().escape();break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_self_kick:for(var i in this.playerDatas)if(this.playerDatas[i].playerId==t.kickedUID&&this.playerDatas[i].appId==this.selfData.appId){a=this.playerDatas[i];break}var g=-1;a&&(g=a.seatIndex),p.getIns().kickout(g,t.kickedUID);break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_self_end:p.getIns().disband();break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_self_click_poop:_.getIns().emit(r.Event.UI.CLICK_APPRAIS,{isLike:0});break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_self_click_good:_.getIns().emit(r.Event.UI.CLICK_APPRAIS,{isLike:1});break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_game_create_order_result:_.getIns().emit(r.Event.UI.APP_CREATE_ORDER_RESULT,t);break;case r.Event.Sdk.APP2MG_SELF_STATUS_LIST.app_common_game_ui_custom_config:this.uiCustomConfigs=t,_.getIns().emit(r.Event.UI.APP_GAME_UI_CUSTOM_CONFIG,t)}},d.strlen=function(e){for(var t=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);t+=a>=0&&a<=128?1:2}return t},d.isBoolAvatarOrNft=function(e){var t=h.getViewConfig();if(t&&t.nft_avatar&&0==t.nft_avatar.hide)return!!(e.nftData&&e.nftData.nftPayloads&&e.nftData.nftPayloads.length>=1)},d.trimNameStringFunc=function(e,t){var n=e.charCodeAt(t);if(n>=0&&n<=128)return{index:1,length:1,state:0};if(55296<=n&&n<=56319){var a=1024*(n-55296)+(e.charCodeAt(t+1)-56320)+65536;if(118784<=a&&a<=128895){if(127462<=a&&a<=127487)return{index:4,length:4,state:0};var s=this.trimNameStringFunc(e,t+2);return 0==s.state||1==s.state?{index:2,length:2,state:1}:{index:2+s.index,length:2,state:1}}return{index:2,length:2,state:0}}if(65039==n||8205==n){var o=this.trimNameStringFunc(e,t+1);return 0==o.state?{index:1,length:1,state:2}:{index:1+o.index,length:1+o.index,state:2}}if(8448<=n&&n<=10239||11013<=n&&n<=11015||10548<=n&&n<=10549||12951<=n&&n<=12953||169==n||174==n||12349==n||12336==n||11093==n||11036==n||11035==n||11088==n||65039==n){var i=this.trimNameStringFunc(e,t+1);return 0==i.state?{index:1,length:1,state:1}:{index:1+i.index,length:1+i.index,state:1}}return{index:1,length:2,state:0}},d.trimNameString=function(e,t){if(""==e||t<=0)return"";for(var n=t,a="",s=e,o=s.length,i=0,r=0;r<o;){var g=this.trimNameStringFunc(s,r);i+=g.length,r+=g.index}for(var d=0;d<o;){var _=this.trimNameStringFunc(s,d);if(t<_.length)break;a+=s.substring(d,d+_.index),t-=_.length,d+=_.index}return i>n?a+"...":a},d.setGameFrameRate=function(e){h.getViewConfig().frameRate=e,h.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_fps,{fps:e})},n(o,[{key:"gameModeInfo",get:function(){return this._gameModeInfo},set:function(e){this._gameModeInfo=e}},{key:"isLoging",get:function(){return this._isLoging},set:function(e){this._isLoging=e}},{key:"customButtonConfig",get:function(){return this._customButtonConfig},set:function(e){this._customButtonConfig=e}},{key:"settleDelay",get:function(){return this._settleDelay},set:function(e){this._settleDelay=e}},{key:"uiCustomConfigs",get:function(){return this._uiCustomConfigs},set:function(e){this._uiCustomConfigs=e}}]),o}(d));o._RF.pop()}}}));

System.register("chunks:///_virtual/RoomMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./NetMgr.ts","./PlayerMgr.ts","./sdk.ts"],(function(e){"use strict";var t,n,o,s,r,a,_,i,l,u;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy},function(e){r=e.Const,a=e.PlayerStatus},function(e){_=e.default},function(e){i=e.default},function(e){l=e.default},function(e){u=e.sdk}],execute:function(){s._RF.push({},"72f23kGkN9Jmr4HcK1zbzLj","RoomMgr",void 0);e("default",function(e){function s(){for(var t,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(o(t),"maxPlayerNum",0),n(o(t),"minPlayerNum",0),t}t(s,e);var _=s.prototype;return _.join=function(e,t,n){return void 0===e&&(e=-1),void 0===t&&(t=1),void 0===n&&(n=0),new Promise((function(o,s){i.getIns().request(i.getIns().getCmd().Enter,{seatIndex:e,teamId:t,isSeatRandom:n},(function(e){if(e.resultCode==r.SERVER_RESULT_CODE.SUCCESS)o(null);else{var n={errorCode:e.resultCode,isIn:!1,teamId:t,reason:-1,kickUID:""};u.mgLog(n,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in),s(e.resultCode),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_app_common_self_x_resp,{state:"app_common_self_in",resultCode:e.resultCode,isIn:!0})}}))}))},_.exit=function(){return new Promise((function(e,t){i.getIns().request(i.getIns().getCmd().Leave,{},(function(n){if(n.resultCode==r.SERVER_RESULT_CODE.SUCCESS)e(null);else{var o={errorCode:n.resultCode,isIn:!0,teamId:1,reason:-1,kickUID:""};u.mgLog(o,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in),t(n.resultCode),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_app_common_self_x_resp,{state:"app_common_self_in",resultCode:n.resultCode,isIn:!1})}}))}))},_.ready=function(){return new Promise((function(e,t){i.getIns().request(i.getIns().getCmd().Ready,{isReady:1},(function(t){if(t.resultCode==r.SERVER_RESULT_CODE.SUCCESS)e(null);else{var n={errorCode:t.resultCode,isReady:!1};u.mgLog(n,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_ready),e(t.resultCode),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_app_common_self_x_resp,{state:"app_common_self_ready",resultCode:t.resultCode,isReady:!0})}}))}))},_.cancelReady=function(){return new Promise((function(e,t){i.getIns().request(i.getIns().getCmd().Ready,{isReady:0},(function(t){if(t.resultCode==r.SERVER_RESULT_CODE.SUCCESS)e(null);else{var n={errorCode:t.resultCode,isReady:!0};u.mgLog(n,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_ready),e(t.resultCode),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_app_common_self_x_resp,{state:"app_common_self_ready",resultCode:t.resultCode,isReady:!1})}}))}))},_.transferCaptain=function(e,t){return void 0===t&&(t=""),new Promise((function(n,o){i.getIns().request(i.getIns().getCmd().ChangeCaptain,{seatIndex:e},(function(e){if(e.resultCode==r.SERVER_RESULT_CODE.SUCCESS)n(null);else{var o={errorCode:e.resultCode,isCaptain:!1};u.mgLog(o,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_captain),n(e.resultCode),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_app_common_self_x_resp,{state:"app_common_self_captain",resultCode:e.resultCode,curCaptainUID:t})}}))}))},_.gameStart=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),new Promise((function(n,o){i.getIns().request(i.getIns().getCmd().Start,{reportGameInfoExtras:e,reportGameInfoKey:t},(function(o){if(o.resultCode==r.SERVER_RESULT_CODE.SUCCESS)n(null);else{var s={errorCode:o.resultCode,isPlaying:!1,reason:-1,spaceMax:!1};u.mgLog(s,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing),n(o.resultCode),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_app_common_self_x_resp,{state:"app_common_self_playing",resultCode:o.resultCode,isPlaying:!0,reportGameInfoExtras:e,reportGameInfoKey:t})}}))}))},_.escape=function(){return new Promise((function(e,t){i.getIns().request(i.getIns().getCmd().Escape,{},(function(t){if(t.resultCode==r.SERVER_RESULT_CODE.SUCCESS)e(null);else{var n={errorCode:t.resultCode,isPlaying:!0,reason:-1,spaceMax:!1};u.mgLog(n,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing),e(t.resultCode),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_app_common_self_x_resp,{state:"app_common_self_playing",resultCode:t.resultCode,isPlaying:!1})}}))}))},_.disband=function(){return new Promise((function(e,t){i.getIns().request(i.getIns().getCmd().Disband,{},(function(t){if(t.resultCode==r.SERVER_RESULT_CODE.SUCCESS)e(null);else{var n={errorCode:t.resultCode,isPlaying:!0,reason:-1,spaceMax:!1};u.mgLog(n,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_playing),e(t.resultCode)}}))}))},_.kickout=function(e,t){return void 0===e&&(e=-1),new Promise((function(n,o){i.getIns().request(i.getIns().getCmd().Kickout,{seatIndex:e},(function(e){if(e.resultCode==r.SERVER_RESULT_CODE.SUCCESS)n(null);else{var o={errorCode:e.resultCode,isIn:!0,teamId:1,reason:-1,kickUID:""};u.mgLog(o,r.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_player_in),n(e.resultCode),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_app_common_self_x_resp,{state:"app_common_self_kick",resultCode:e.resultCode,kickedUID:t||""})}}))}))},_.changeSeat=function(e){return new Promise((function(t,n){i.getIns().request(i.getIns().getCmd().ChangeSeat,{seatIndex:e},(function(e){e.resultCode==r.SERVER_RESULT_CODE.SUCCESS?t(!0):t(e.resultCode)}))}))},_.addSeat=function(e,t){void 0===t&&(t=1),l.getIns().getGamePlayerData()&&l.getIns().getGamePlayerData().state!=a.escaped_and_leave?this.changeSeat(e):this.join(e,t)},_.setRoomPlayerNum=function(e,t){this.minPlayerNum=e,this.maxPlayerNum=t},_.getMaxPlayerNum=function(){return this.maxPlayerNum},_.getMinPlayerNum=function(){return this.minPlayerNum},_.reqAddAIPlayers=function(e){if(console.log("RoomMgr reqAddAIPlayers botPlayers == ",JSON.stringify(e)),console.log("aiPlayers length === ",e.aiPlayers.length),console.log("aiPlayers === ",e.aiPlayers),e&&e.aiPlayers){var t=e.isReady;null==t&&(t=1);for(var n=[],o=0;o<e.aiPlayers.length;o++){var s={playerId:e.aiPlayers[o].userId,name:e.aiPlayers[o].name,avatar:e.aiPlayers[o].avatar,gender:e.aiPlayers[o].gender};n.push(s)}console.log("bots == ",JSON.stringify(n)),i.getIns().request(i.getIns().getCmd().JoinBot,{bots:n,isReady:t},(function(e){console.log("RoomMgr reqAddAIPlayers response == ",JSON.stringify(e)),u.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_add_ai_players,{resultCode:e.resultCode,userIds:e.playerIds})}))}},s}(_));s._RF.pop()}}}));

System.register("chunks:///_virtual/LangMgr.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"73f53FQdCxMnL1AoJ31GhNs","LangMgr",void 0);t("default",function(){function t(){}return t.prototype.change=function(){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ViewConst.ts","./Const.ts","./Singleton.ts","./Tip.ts","./sdk.ts","./ResMgr.ts","./BaseView.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,i,r,o,a,s,u,c,p,l,h,m,f,d,g,w,y,C,v,V,k,S,R,x,b,L;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator},function(e){o=e.cclegacy,a=e.js,s=e.Node,u=e.Widget,c=e.view,p=e.Rect,l=e.UITransform,h=e.Vec2,m=e.NodePool,f=e.tween,d=e.v3,g=e.BlockInputEvents,w=e.Prefab,y=e.instantiate},function(e){C=e.LayerType,v=e.ViewType},function(e){V=e.Const},function(e){k=e.default},function(e){S=e.Tip},function(e){R=e.sdk},function(e){x=e.default},function(e){b=e.default},function(e){L=e.FrameWork}],execute:function(){o._RF.push({},"821dditTR1Cq6MCUp4nX24o","UIMgr",void 0);var N=e("default",function(e){function o(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"mapViews",a.createMap()),n(i(t),"Layers",[]),n(i(t),"tipPools",new m),n(i(t),"alertPools",new m),n(i(t),"requsetMaskPool",new m),n(i(t),"requstMaskNum",0),n(i(t),"isLoadingViewNames",a.createMap()),n(i(t),"isDelayCloseViewNames",a.createMap()),n(i(t),"uiConfig",a.createMap()),n(i(t),"curShowViewName",""),n(i(t),"resolutionPolicy",0),n(i(t),"designResolutionSize",void 0),n(i(t),"gameViewSize",void 0),n(i(t),"appGameViewSize",void 0),n(i(t),"scene",null),t}t(o,e);var k=o.prototype;return k.init=function(e){this.scene=e,this.mapViews=a.createMap(),this.requstMaskNum=0,this.intiLayers()},k.getDesignResolutionSize=function(){return this.designResolutionSize},k.setDesignResolutionSize=function(e){this.designResolutionSize=e},k.intiLayers=function(){this.Layers=[],this.Layers[C.bottom]=this.createRootNode("bottom"),this.Layers[C.view]=this.createRootNode("View"),this.Layers[C.alert]=this.createRootNode("alert"),this.Layers[C.popup]=this.createRootNode("PopUp"),this.Layers[C.tip]=this.createRootNode("Tip"),this.Layers[C.top]=this.createRootNode("top"),this.scene.addChild(this.Layers[C.bottom]),this.scene.addChild(this.Layers[C.view]),this.scene.addChild(this.Layers[C.popup]),this.scene.addChild(this.Layers[C.alert]),this.scene.addChild(this.Layers[C.tip]),this.scene.addChild(this.Layers[C.top])},k.createRootNode=function(e){var t=new s(e);return t.addComponent(u),t.getComponent(u).isAlignLeft=!0,t.getComponent(u).isAlignBottom=!0,t.getComponent(u).isAlignTop=!0,t.getComponent(u).isAlignRight=!0,t.getComponent(u).top=0,t.getComponent(u).left=0,t.getComponent(u).bottom=0,t.getComponent(u).right=0,t},k.addUI=function(e,t,n){var i=this.Layers[e];t.setSiblingIndex(n),i.addChild(t)},k.showView=function(){var e=r(regeneratorRuntime.mark((function e(t,n,i){var r,o,a,u,c,p,l,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.log("打开界面",JSON.stringify(t)),r=t.bundleName,o=t.resPath,!(a=this.mapViews[t.name])){e.next=9;break}return L.log("已经存在",t),a.refresh(n),i&&i(),e.abrupt("return");case 9:if(!this.isLoadingViewNames[t.name]){e.next=13;break}return L.log("正在加载资源....",t),i&&i(),e.abrupt("return");case 13:return this.isLoadingViewNames[t.name]=!0,e.next=16,x.getIns().loadUI(o,r);case 16:if(u=e.sent,(c=u.getComponent(b))||(L.log("没有绑定界面脚本代码添加脚本",t),c=u.addComponent(t.name)),!this.isDelayCloseViewNames[t.name]){e.next=25;break}return L.log("资源在加载中被关闭....",t.name),this.isDelayCloseViewNames[t.name]=!1,this.isLoadingViewNames[t.name]=!1,i&&i(),e.abrupt("return");case 25:return t.viewType!=v.none&&(u.getComponent(g)||u.addComponent(g)),t.viewType==v.popup&&((p=R.getViewConfig()).mask&&p.mask.transparent||t.noMask?c.setMaskHide():c.addBlackBg(L.defalutSpriteFrame)),t.layerType==C.popup&&(l=R.getViewConfig()).mask&&l.mask.transparent&&c.setMaskHide(),t.layerType==C.alert&&R.notifyAppChangeGameStatus(V.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_alert,{state:"show"}),c.quickClose&&(u.on(s.EventType.TOUCH_START,(function(e){c.onQuickClose()})),(h=c.seekChildByName("touch_bg"))&&!h.getComponent(g)&&h.addComponent(g)),c.viewInfo=t,e.next=33,c.beforeShow(n);case 33:return e.next=35,c.load(n);case 35:return this.isLoadingViewNames[t.name]=!1,this.addUI(t.layerType,u,t.zIndex),this.mapViews[t.name]=c,c.parseNode(),c.init(n),t.viewType==v.popup&&(m=c.nodes.root)&&(m.setScale(.05,.05,.05),f(m).to(.2,{scale:d(1.2,1.2,1.2)}).to(.1,{scale:d(1,1,1)}).call((function(){})).start()),e.next=43,c.afterShow(n);case 43:return c.refreshUI(R.getViewConfig()),i&&i(),L.log("界面显示完成>>>",t),e.abrupt("return",c);case 47:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),k.showViewWithLoading=function(){var e=r(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k.closeView=function(){var e=r(regeneratorRuntime.mark((function e(t,n){var i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.log("关闭界面",JSON.stringify(t)),t){e.next=3;break}return e.abrupt("return");case 3:if(t.layerType==C.alert&&R.notifyAppChangeGameStatus(V.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_alert,{state:"close"}),i=t.name,!this.isLoadingViewNames[t.name]){e.next=10;break}return L.log("关闭界面 正在加载中.....",t.name),this.isLoadingViewNames[t.name]=!1,this.isDelayCloseViewNames[t.name]=!0,e.abrupt("return");case 10:if(!(r=this.mapViews[i])){e.next=18;break}return delete this.mapViews[t.name],L.log("删除界面....",t.name),e.next=16,r.beforeClose(n);case 16:return e.next=18,r.close();case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),k.closeAllViewExcept=function(){var e=r(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.mapViews);case 1:if((e.t1=e.t0()).done){e.next=10;break}if(n=e.t1.value,i=this.mapViews[n].viewInfo,-1!=t.indexOf(i)){e.next=8;break}if(i.isFixedView){e.next=8;break}return e.next=8,this.closeView(i);case 8:e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),k.tip=function(){var e=r(regeneratorRuntime.mark((function e(t){var n,i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){e.getComponent(S).init(t),r.addUI(C.tip,e,1),f(e).delay(t.time||2).call((function(){r.pushTip(e)})).start()},!(i=this.tipPools.get())){e.next=6;break}return L.log("缓存取出tip"),n(i),e.abrupt("return");case 6:return e.next=8,x.getIns().getBundle(V.FrameWorkBundleName);case 8:e.sent.load("prefabs/Tips",w,function(e,t){if(!e){var i=y(t);n(i)}}.bind(this));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),k.pushTip=function(e){this.tipPools.put(e)},k.isShow=function(e){return this.mapViews[e.name]},k.preLoadAlert=function(){var e=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=o.alertUIConfig||V.CommonUIConfig.Alert)&&t.resPath&&t.bundleName&&x.getIns().preloadUI(t.resPath,t.bundleName,(function(e,t){return function(){}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k.alert=function(){var e=r(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.alertUIConfig||V.CommonUIConfig.Alert,this.showView(n,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),k.closeAlert=function(){this.closeView(o.alertUIConfig||V.CommonUIConfig.Alert)},k.pushAlert=function(e){this.alertPools.put(e)},k.clearAlert=function(){this.alertPools.clear()},k.updateAdpatModel=function(e){this.appGameViewSize=e;var t=this.getDesignResolutionSize(),n=(e.width,t.width,e.height,t.height,c.getScaleX()),i=c.getScaleY();L.log("view scaleX",n),L.log("view scaleY",i),this.gameViewSize=new p(e.x,e.y,e.width/n,e.height/i)},k.getResolutionPolicy=function(){return this.resolutionPolicy},k.getGameViewSize=function(){return this.gameViewSize},k.changeGamePosToAppPos=function(e){var t=e.getWorldPosition(),n=this.scene.getComponent(l).convertToNodeSpaceAR(t),i=c.getScaleX(),r=c.getScaleY(),o=this.appGameViewSize.orgRect.width,a=this.appGameViewSize.orgRect.height,s=o/2+n.x*i,u=a/2-n.y*r;return new h(s,u)},o}(k));n(N,"alertUIConfig",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelInfo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){r=e.default},null],execute:function(){var c;n._RF.push({},"85ac23oqm1N3aKQooS9zhRn","LevelInfo",void 0);var s=o.ccclass;o.property,e("LevelInfo",s("LevelInfo")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/CacheMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"889dfeP7OpB+rxG6QFH9rIM","CacheMgr",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.getMusicState=function(){var t=localStorage.getItem("music_state");return null!=t&&null!=t&&" "!=t&&""!=t||(t="1"),1==parseInt(t)},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameUICustomConfig.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,s,t,o,c,n,a;return{setters:[function(e){i=e.defineProperty},function(e){s=e.cclegacy,t=e.isValid,o=e.assetManager,c=e.SpriteFrame,n=e.Texture2D,a=e.dragonBones}],execute:function(){s._RF.push({},"8c99aHPzhVN2pdcS7CcfaiT","GameUICustomConfig",void 0);var d={gameBoard01:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_board_01.png",gameBoard02:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_board_02.png",diceBg:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01.png",diceBgGold:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01huang.png",dice01:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01_2.png",dice02:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01_3.png",dice03:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01_4.png",dice04:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01_5.png",dice05:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01_6.png",dice06:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01_7.png",diceCrown:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_game_icon_01_1.png",chessYellow:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_fm_yellow_01_1.png",chessBlue:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_fm_blue_01_1.png",chessGreen:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_fm_green_01_1.png",chessRed:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/ludo_ui_custom_config1/feixing_fm_red_01_1.png",players:{test_1667112531070038016:{diceBg:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01.png",diceBgGold:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01huang.png",dice01:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01_2.png",dice02:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01_3.png",dice03:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01_4.png",dice04:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01_5.png",dice05:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01_6.png",dice06:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01_7.png",diceCrown:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_game_icon_01_1.png",chessYellow:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_fm_yellow_01_1.png",chessBlue:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_fm_blue_01_1.png",chessGreen:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_fm_green_01_1.png",chessRed:"https://fat-sud-static-tcc.sudden.ltd/game/ludo/uiconfig/ludo_ui_custom_config00/feixing_fm_red_01_1.png",rollDiceEffect:{dragonSkeletonUrl:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/remoteDragonEffect/rundice_ske.json",dragonAtlasUrl:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/remoteDragonEffect/rundice_tex.json",dragonTextureUrl:"https://sud-static-dev-1312166090.cos.ap-guangzhou.myqcloud.com/fashion-web-remote/remoteDragonEffect/rundice_tex.png",animatureName:"Armature",animationName:"newAnimation"}}}},u=e("GameUICustomConfig",function(){function e(e){i(this,"gameBoard01",void 0),i(this,"gameBoard02",void 0),i(this,"diceBg",void 0),i(this,"diceBgGold",void 0),i(this,"dice01",void 0),i(this,"dice02",void 0),i(this,"dice03",void 0),i(this,"dice04",void 0),i(this,"dice05",void 0),i(this,"dice06",void 0),i(this,"diceCrown",void 0),i(this,"chessYellow",void 0),i(this,"chessBlue",void 0),i(this,"chessGreen",void 0),i(this,"chessRed",void 0),i(this,"players",void 0),this.gameBoard01=e.gameBoard01,this.gameBoard02=e.gameBoard02,this.diceBg=e.diceBg,this.diceBgGold=e.diceBgGold,this.dice01=e.dice01,this.dice02=e.dice02,this.dice03=e.dice03,this.dice04=e.dice04,this.dice05=e.dice05,this.dice06=e.dice06,this.diceCrown=e.diceCrown,this.chessYellow=e.chessYellow,this.chessBlue=e.chessBlue,this.chessGreen=e.chessGreen,this.chessRed=e.chessRed,this.players=e.players||{}}var s=e.prototype;return s.toJsonString=function(){return JSON.stringify(this)},s.toJsonData=function(){return JSON.parse(this.toJsonString())},s.getAllUrls=function(){var e=[];for(var i in this.gameBoard01&&e.push(this.gameBoard01),this.gameBoard02&&e.push(this.gameBoard02),this.diceBg&&e.push(this.diceBg),this.diceBgGold&&e.push(this.diceBgGold),this.dice01&&e.push(this.dice01),this.dice02&&e.push(this.dice02),this.dice03&&e.push(this.dice03),this.dice04&&e.push(this.dice04),this.dice05&&e.push(this.dice05),this.dice06&&e.push(this.dice06),this.diceCrown&&e.push(this.diceCrown),this.chessYellow&&e.push(this.chessYellow),this.chessBlue&&e.push(this.chessBlue),this.chessGreen&&e.push(this.chessGreen),this.chessRed&&e.push(this.chessRed),this.players){var s=this.players[i];s.diceBg&&e.push(s.diceBg),s.diceBgGold&&e.push(s.diceBgGold),s.dice01&&e.push(s.dice01),s.dice02&&e.push(s.dice02),s.dice03&&e.push(s.dice03),s.dice04&&e.push(s.dice04),s.dice05&&e.push(s.dice05),s.dice06&&e.push(s.dice06),s.diceCrown&&e.push(s.diceCrown),s.chessYellow&&e.push(s.chessYellow),s.chessBlue&&e.push(s.chessBlue),s.chessGreen&&e.push(s.chessGreen),s.chessRed&&e.push(s.chessRed)}return e.forEach((function(e){console.log("url: ",e)})),e},s.getAllEffects=function(){var e=[];for(var i in this.players){var s=this.players[i];s.rollDiceEffect&&e.push(s.rollDiceEffect)}return e},s.isAllChessUrlValid=function(){return!!(this.chessYellow&&this.chessBlue&&this.chessGreen&&this.chessRed)},s.isAllBoardsUrlValid=function(){return!(!this.gameBoard01||!this.gameBoard02)},s.isAllDiceUrlValid=function(){return!!(this.dice01&&this.dice02&&this.dice03&&this.dice04&&this.dice05&&this.dice06)},s.isPlayerDiceValid=function(e){var i=this.players[e];return!!(i&&i.dice01&&i.dice02&&i.dice03&&i.dice04&&i.dice05&&i.dice06)},s.isPlayerChessValid=function(e){var i=this.players[e];return!!(i&&i.chessYellow&&i.chessBlue&&i.chessGreen&&i.chessRed)},s.isPlayerDiceBgValid=function(e){var i=this.players[e];return!(!i||!i.diceBg)},s.isPlayerDiceBgGoldValid=function(e){var i=this.players[e];return!(!i||!i.diceBgGold)},s.isPlayerDiceCrownValid=function(e){var i=this.players[e];return!(!i||!i.diceCrown)},s.isPlayerRollDiceEffectValid=function(e){var i=this.players[e],s=null==i?void 0:i.rollDiceEffect;return console.log("effect === ",s),!!s&&(s.dragonSkeletonUrl&&s.dragonAtlasUrl&&s.dragonTextureUrl)},s.getPlayerRollDiceEffectConfig=function(e){var i=this.players[e];return null==i?void 0:i.rollDiceEffect},s.getPlayerByUid=function(e){return this.players[e]},e.create=function(i){return new e(i)},e.createDefault=function(){return new e(d)},e.fromJsonData=function(i){return new e(i)},e.fromJsonString=function(i){return new e(JSON.parse(i))},e.preloadAll=function(e,i){for(var s=this,t=function(i){var t=e[i];if(s.frameMap.has(t)||!t)return"continue";o.loadRemote(t,(function(e,i){if(e)console.error("GameUICustomConfig preloadAll "+t+"  ",e);else{var o=new c,a=new n;a.image=i,o.texture=a,o.packable=!1,s.frameMap.set(t,o)}}))},a=0;a<e.length;a++)t(a)},e.preloadAllEffects=function(e,i){for(var s=this,t=function(i){var t=e[i];if(s.dragonMap.has(t.dragonSkeletonUrl))return"continue";t.dragonSkeletonUrl&&t.dragonAtlasUrl&&t.dragonTextureUrl&&o.loadRemote(t.dragonTextureUrl,(function(e,i){e||o.loadRemote(t.dragonSkeletonUrl,(function(e,c){e||o.loadRemote(t.dragonAtlasUrl,(function(e,o){if(!e){var d=new n;d.image=i;var u=new a.DragonBonesAsset;u.dragonBonesJson=JSON.stringify(c.json);var r=new a.DragonBonesAtlasAsset;r.atlasJson=JSON.stringify(o.json),r.texture=d;var g={dragonSkeleton:u,dragonAtlasAsset:r,animationName:t.animationName,animatureName:t.animatureName};s.dragonMap.set(t.dragonSkeletonUrl,g)}}))}))}))},c=0;c<e.length;c++)t(c)},e.loadRemoteSpriteFrame=function(e,i,s){var n=this;if(void 0===s&&(s=null),this.frameMap.has(i)&&t(e)){var a=this.frameMap.get(i);a.texture;return e.spriteFrame=a,void(s&&s(!0))}o.loadRemote(i,(function(o,a){if(t(e))if(!o&&a){var d=c.createWithImage(a);d.packable=!1,n.frameMap.set(i,d),e.spriteFrame=d,s&&s(!0)}else s&&s(!1)}))},e.releaseAll=function(){this.frameMap.forEach((function(e,i){var s=e.texture;o.releaseAsset(s),e.destroy()})),this.frameMap.clear(),this.dragonMap.forEach((function(e,i){o.releaseAsset(e.dragonSkeleton),o.releaseAsset(e.dragonAtlasAsset)})),this.dragonMap.clear()},e}());i(u,"frameMap",new Map),i(u,"dragonMap",new Map),s._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./FrameWork.ts","./UpdateConstants.ts","./UpdatePanel.ts"],(function(e){"use strict";var t,a,s,i,n,r,o,c,l,d,f,p,h,g,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,s=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.defineProperty},function(e){r=e.cclegacy,o=e._decorator,c=e.Asset,l=e.Node,d=e.game,f=e.Component},function(e){p=e.EventDispatcher},null,function(e){h=e.UpdateEvent,g=e.default},function(e){E=e.UpdatePanel}],execute:function(){var b,m,_,u,A,v,R,U,T;r._RF.push({},"8ee7ate7OVDEph2ruFCYLQZ","HotUpdate",void 0);var D=window.jsb,P=JSON.stringify({packageUrl:"http://192.168.132.97:8080/remote-assets/",remoteManifestUrl:"http://192.168.132.97:8080/remote-assets/project.manifest",remoteVersionUrl:"http://192.168.132.97:8080/remote-assets/version.manifest",version:"1.0.0",assets:{"src/application.js":{size:5514,md5:"d09753aaed7c55c4566cecf766cbc5c3"},"src/cocos-js/ammo-instantiated-45eaa448.js":{size:2318381,md5:"081a863c98742000893bca3bb87c1775"},"src/cocos-js/cc.js":{size:1774495,md5:"c4ba032d442580df30778c0369917917"},"src/cocos-js/wait-for-ammo-instantiation.js":{size:625,md5:"c9c1bf74589762eca08ae868d216f243"},"src/import-map.json":{size:111,md5:"498f3926fc713deab3e0ac6fcbb3d549"},"src/settings.json":{size:31619,md5:"f54273c3c1c29dc9040f129ee11db461"},"src/system.bundle.js":{size:6275,md5:"3f3f2b5f3725599ff2c8b9801195ee37"},"assets/main/config.json":{size:918,md5:"757c93f3908a069aaaa062541715edcf"},"assets/main/import/08/0897a7610.json":{size:248,md5:"12b2792f517c08d878378119a80a09cc"},"assets/main/import/0f/0f4f09600.json":{size:8090,md5:"755c01fe8bae77adb19e3b21f11e95d7"},"assets/main/import/70/700faa17-11a6-46cd-aeb5-d6900bc264f8.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/9e/9e71ecbc-8d63-45dd-b0e3-26cefa3d07b1.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/ae/ae4e2188-2b7b-42a9-85e1-8fb987600b04.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/c1/c1e757ac-f5bb-46ed-b86a-fdabff7aeb55.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/ed/edd97988-52a3-4312-8671-90a51bb563ae.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/fd/fd8ec536-a354-4a17-9c74-4f3883c378c8.json":{size:480,md5:"731f44a39ce9377ee6de8ba34edaf039"},"assets/main/index.js":{size:12682,md5:"e2fd04611b129a14138444b6207c1ab7"},"assets/main/native/70/700faa17-11a6-46cd-aeb5-d6900bc264f8.png":{size:3765,md5:"878e89a0a3e02b13beee9f3274f2ca39"},"assets/main/native/80/800f94fd-7424-4202-9629-d3ca77f3b72d.manifest":{size:2808,md5:"507a24062f30709e41e0891ae6a53c7f"},"assets/main/native/9e/9e71ecbc-8d63-45dd-b0e3-26cefa3d07b1.png":{size:2548,md5:"ae7a04af25e238a5478170759b55a7ba"},"assets/main/native/ae/ae4e2188-2b7b-42a9-85e1-8fb987600b04.png":{size:634171,md5:"07b03f7145b75579708ae05ea2a2c029"},"assets/main/native/c1/c1e757ac-f5bb-46ed-b86a-fdabff7aeb55.png":{size:18969,md5:"8eaaf03d4497b39525214bf039a11a7d"},"assets/main/native/ed/edd97988-52a3-4312-8671-90a51bb563ae.png":{size:1829,md5:"94d761c4626df88053787f17fa09914d"},"jsb-adapter/jsb-builtin.js":{size:170485,md5:"f7f79bebbd40822e195af8f099332b0e"},"jsb-adapter/jsb-engine.js":{size:140954,md5:"2846deccc21c73b49e8bae51e3d5387a"}},searchPaths:[]}),M=o.ccclass,I=o.property;e("HotUpdate",(b=M("HotUpdate"),m=I(E),_=I(c),u=I(l),b((R=t((v=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,s(i(t),"panel",R,i(t)),s(i(t),"manifestUrl",U,i(t)),s(i(t),"updateUI",T,i(t)),n(i(t),"_updating",!1),n(i(t),"_canRetry",!1),n(i(t),"_storagePath",""),n(i(t),"_am",null),n(i(t),"_checkListener",null),n(i(t),"_updateListener",null),n(i(t),"_failCount",0),n(i(t),"versionCompareHandle",null),t}a(t,e);var r=t.prototype;return r.checkCb=function(e){switch(console.log("Code: "+e.getEventCode()),e.getEventCode()){case D.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.panel.info.string="No local manifest file found, hot update skipped.",this.clearCheckUpdateCb();break;case D.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case D.EventAssetsManager.ERROR_PARSE_MANIFEST:this.panel.info.string="Fail to download manifest file, hot update skipped.",this.clearCheckUpdateCb();break;case D.EventAssetsManager.ALREADY_UP_TO_DATE:this.panel.info.string="Already up to date with the latest remote version.",this.clearCheckUpdateCb();break;case D.EventAssetsManager.NEW_VERSION_FOUND:this.panel.info.string="New version found, please try to update. ("+Math.ceil(this._am.getTotalBytes()/1024)+"kb)",this.panel.checkBtn.active=!1,this.panel.fileProgress.progress=0,this.panel.byteProgress.progress=0,this.clearCheckUpdateCb(),this.hotUpdate();break;default:return}},r.clearCheckUpdateCb=function(){this._am.setEventCallback(null),this._checkListener=null,this._updating=!1},r.updateCb=function(e){var t=!1,a=!1;switch(e.getEventCode()){case D.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.panel.info.string="No local manifest file found, hot update skipped.",a=!0;break;case D.EventAssetsManager.UPDATE_PROGRESSION:0!=e.getTotalFiles()&&(this.updateUI.active=!0),this.panel.byteProgress.progress=e.getPercent(),this.panel.fileProgress.progress=e.getPercentByFile(),this.panel.fileLabel.string=e.getDownloadedFiles()+" / "+e.getTotalFiles(),this.panel.byteLabel.string=e.getDownloadedBytes()+" / "+e.getTotalBytes(),console.log(this.panel.fileLabel.string,this.panel.byteLabel.string);var s=e.getMessage();s&&(this.panel.info.string="Updated file: "+s,console.log(e.getPercent()/100+"% : "+s));break;case D.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case D.EventAssetsManager.ERROR_PARSE_MANIFEST:this.panel.info.string="Fail to download manifest file, hot update skipped.",a=!0;break;case D.EventAssetsManager.ALREADY_UP_TO_DATE:this.panel.info.string="Already up to date with the latest remote version.",a=!0;break;case D.EventAssetsManager.UPDATE_FINISHED:this.panel.info.string="Update finished. "+e.getMessage(),t=!0;break;case D.EventAssetsManager.UPDATE_FAILED:this.panel.info.string="Update failed. "+e.getMessage(),this.panel.retryBtn.active=!0,this._updating=!1,this._canRetry=!0;break;case D.EventAssetsManager.ERROR_UPDATING:this.panel.info.string="Asset update error: "+e.getAssetId()+", "+e.getMessage();break;case D.EventAssetsManager.ERROR_DECOMPRESS:this.panel.info.string=e.getMessage()}if(a&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1),t){this._am.setEventCallback(null),this._updateListener=null;var i=D.fileUtils.getSearchPaths(),n=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(n)),Array.prototype.unshift.apply(i,n),localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),D.fileUtils.setSearchPaths(i),console.log("game.restart, 更新完成重启游戏！！"),d.restart(),console.log("test restart......................")}switch(e.getEventCode()){case D.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:p.getIns().emit(h.UPDATE_EVENT,{type:g.ERROR_NO_LOCAL_MANIFEST});break;case D.EventAssetsManager.UPDATE_PROGRESSION:p.getIns().emit(h.UPDATE_EVENT,{type:g.UPDATE_PROGRESSION});break;case D.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:p.getIns().emit(h.UPDATE_EVENT,{type:g.ERROR_DOWNLOAD_MANIFEST});break;case D.EventAssetsManager.ERROR_PARSE_MANIFEST:p.getIns().emit(h.UPDATE_EVENT,{type:g.ERROR_PARSE_MANIFEST});break;case D.EventAssetsManager.ALREADY_UP_TO_DATE:p.getIns().emit(h.UPDATE_EVENT,{type:g.ALREADY_UP_TO_DATE});break;case D.EventAssetsManager.UPDATE_FINISHED:p.getIns().emit(h.UPDATE_EVENT,{type:g.UPDATE_FINISHED});break;case D.EventAssetsManager.UPDATE_FAILED:p.getIns().emit(h.UPDATE_EVENT,{type:g.UPDATE_FAILED});break;case D.EventAssetsManager.ERROR_UPDATING:p.getIns().emit(h.UPDATE_EVENT,{type:g.ERROR_UPDATING});break;case D.EventAssetsManager.ERROR_DECOMPRESS:e.getMessage();p.getIns().emit(h.UPDATE_EVENT,{type:g.ERROR_DECOMPRESS})}},r.loadCustomManifest=function(){if(this._am.getState()===D.AssetsManager.State.UNINITED){var e=new D.Manifest(P,this._storagePath);this._am.loadLocalManifest(e,this._storagePath),this.panel.info.string="Using custom manifest"}},r.retry=function(){!this._updating&&this._canRetry&&(this.panel.retryBtn.active=!1,this._canRetry=!1,this.panel.info.string="Retry failed Assets...",this._am.downloadFailedAssets())},r.checkUpdate=function(){if(this._updating)this.panel.info.string="Checking or updating ...";else{if(this._am.getState()===D.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(e)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):this.panel.info.string="Failed to load local manifest ..."}},r.hotUpdate=function(){if(this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===D.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(e)}this._failCount=0,this._am.update(),this.panel.updateBtn.active=!1,this._updating=!0}},r.show=function(){!1===this.updateUI.active&&(this.updateUI.active=!0)},r.onLoad=function(){if(console.log("HotUpdate  onLoad............."),this.panel.checkBtn.active=!1,this.panel.updateBtn.active=!1,this.updateUI.active=!1,D){this._storagePath=(D.fileUtils?D.fileUtils.getWritablePath():"/")+"blackjack-remote-asset",console.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(e,t){console.log("JS Custom Version Compare: version A is "+e+", version B is "+t);for(var a=e.split("."),s=t.split("."),i=0;i<a.length;++i){var n=parseInt(a[i]),r=parseInt(s[i]||"0");if(n!==r)return n-r}return s.length>a.length?-1:0},this._am=new D.AssetsManager("",this._storagePath,this.versionCompareHandle);var e=this.panel;this._am.setVerifyCallback((function(t,a){var s=a.compressed,i=a.md5,n=a.path;a.size;return s?(e.info.string="Verification passed : "+n,!0):(e.info.string="Verification passed : "+n+" ("+i+")",!0)})),this.panel.info.string="Hot update is ready, please check or directly update.",this.panel.fileProgress.progress=0,this.panel.byteProgress.progress=0,p.getIns().emit(h.UPDATE_EVENT,{type:g.ALREADY_UP_TO_DATE})}else p.getIns().emit(h.UPDATE_EVENT,{type:g.ALREADY_UP_TO_DATE})},r.onDestroy=function(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)},t}(f)).prototype,"panel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(v.prototype,"manifestUrl",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(v.prototype,"updateUI",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=v))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameOver.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Lang.ts","./PlayerMgr.ts","./sdk.ts","./BaseView.ts","./AudioMgr.ts","./Util.ts","./BaseLobbyCtrl.ts","./FrameWork.ts","./AudioConst.ts","./GameCtrl.ts"],(function(e){"use strict";var t,n,a,i,o,r,s,l,c,u,d,g,p,m,h,f,_,y,C,I,v,b,k,S,B,N,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,c=e.Label,u=e.SpriteFrame,d=e.js,g=e.v3,p=e.UITransform,m=e.instantiate,h=e.Sprite,f=e.Vec3,_=e.tween},function(e){y=e.Const},function(e){C=e.Lang},function(e){I=e.default},function(e){v=e.sdk},function(e){b=e.default},function(e){k=e.AudioMgr},function(e){S=e.default},function(e){B=e.BaseLobbyCtrl},null,function(e){N=e.AudioConst},function(e){A=e.GameCtrl}],execute:function(){var P,T,w,F,M,G,L,D,R,E,O,q,z,U,x;r._RF.push({},"8f79fTChOdKBbGiYvHLpvAb","GameOver",void 0);var V=s.ccclass,H=s.property;e("GameOver",(P=V("GameOver"),T=H(l),w=H(c),F=H(l),M=H([u]),G=H([u]),L=H([u]),P((E=t((R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,a(i(t),"playerInfoNode",E,i(t)),a(i(t),"timeLabel",O,i(t)),a(i(t),"scrollContent",q,i(t)),a(i(t),"rankBgSpriteFrame",z,i(t)),a(i(t),"planeSps",U,i(t)),a(i(t),"rankIconSps",x,i(t)),o(i(t),"_resultItemNodes",[]),o(i(t),"_times",10),o(i(t),"championspriteFrame",""),t}n(t,e);var r=t.prototype;return r.onDestroy=function(){this.unscheduleAllCallbacks(),this._resultItemNodes=[]},r.init=function(e){console.log("GameOver init data == ",e),this.timeLabel.string=d.formatStr(C.getText("btn_close"),"10"),this.schedule(this.updateTime,1,10),this.playerInfoNode.active=!1;for(var t=0;t<B.getIns().model.data.players.length;t++)for(var n=0;n<e.data.results.length;n++)e.data.results[n].uniqueId==B.getIns().model.data.players[t].uniqueId&&(e.data.results[n].nftData=B.getIns().model.data.players[t].nftData);this.setData(e.data)},r.updateTime=function(){this._times--,this.timeLabel.string=d.formatStr(C.getText("btn_close"),""+this._times),this._times<=0?this.onClickClose():9==this._times&&(this.node.active=!0)},r.onClickClose=function(){this.isClickBackStatus("game_settle_close_btn")&&v.notifyAppChangeGameStatus(y.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_self_click_game_settle_close_btn,{}),this.unschedule(this.updateTime),A.getIns().backRoom(!1),this.closeSelf()},r.onClickBack=function(){this.isClickBackStatus("game_settle_again_btn")?(v.notifyAppChangeGameStatus(y.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_self_click_game_settle_again_btn,{}),A.getIns().backRoom(!1)):A.getIns().backRoom(!0),this.unschedule(this.updateTime),this.closeSelf()},r.resetData=function(){for(;this._resultItemNodes.length>0;){this._resultItemNodes.pop().destroy()}},r.hideAgain=function(){var e=this.node.getChildByPath("root/dialog/btn_pnl");e.getChildByName("@ctrl_game_settle_again_btn").active=!1,e.getChildByName("@ctrl_game_settle_close_btn").position=g(0,e.getChildByName("@ctrl_game_settle_close_btn").position.y,0)},r.hideSelfCallback=function(){this.unschedule(this.updateTime),A.getIns().backRoom(!1),this.closeSelf()},r.getSdkSendData=function(e,t){for(var n=[],a=0;a<e.length;a++){var i=e[a];n.push({uid:I.getIns().encodeUniqueIdByAppId(i.uniqueId,i.appId,i.playerId),rank:a+1,award:i.award,score:i.score,isEscaped:i.isEscaped,killerId:"",isManaged:i.isManaged,extras:i.extras})}return{gameMode:v.getGameMode(),gameRoundId:t,results:n}},r.setData=function(e){var t=this;v.getViewConfig();this.resetData();for(var n=!1,a=this.playerInfoNode.position.x,i=this.playerInfoNode.position.y,o=(this.playerInfoNode.position.z,this.playerInfoNode.getComponent(p).width),r=this.playerInfoNode.getComponent(p).height+10,s=0,u=function(u){var d=e.results[u],g=m(t.playerInfoNode);g.parent=t.playerInfoNode.parent,t._resultItemNodes.push(g),g.active=!0,1==d.isEscaped?(d.uniqueId==I.getIns().getSelfData().uniqueId&&t.hideAgain(),g.getChildByPath("iconBg/iconMask/iscape").active=!0):g.getChildByPath("iconBg/iconMask/iscape").active=!1,d.uniqueId==I.getIns().getSelfData().uniqueId?(g.getChildByName("selfBg").active=!0,n=!0):g.getChildByName("selfBg").active=!1;var p=d.rank-1;g.getChildByPath("rank/rankicon").getComponent(h).spriteFrame=t.rankIconSps[p],g.getChildByName("name").getComponent(c).string=I.getIns().trimNameString(decodeURIComponent(d.name),12);var C=g.getChildByPath("killCount").getComponent(c),b=g.getChildByPath("@ctrl_level/rankAwardCount").getComponent(c),B=g.getChildByPath("@ctrl_level"),P=v.getViewConfig().level;if(P&&(1==P.hide?B.active=!1:B.active=!0),d.award>0?b.string="+"+d.award:b.string=""+d.award,d.score>0?C.string="+"+d.score:C.string=""+d.score,1==I.getIns().isBoolAvatarOrNft(d)){var T=g.getChildByName("@ctrl_nft_avatar");S.loadNftRemoteFrame(g.getChildByPath("iconBg/iconMask/icon").getComponent(h),d.nftData.nftPayloads[0].RichMediaUrl,null,d.avatar,T,!0)}else S.loadRemoteFrame(g.getChildByPath("iconBg/iconMask/icon").getComponent(h),d.avatar,128);g.getChildByName("iconBg")&&g.getChildByName("iconBg").on(l.EventType.TOUCH_END,(function(){k.getIns().playSound(N.click),v.notifyAppChangePlayerStatus(y.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_self_click_game_player_icon,{uid:d.playerId})}));var w=g.getComponent(h);if(A.getIns()._playerIdToChessColor){var F=A.getIns()._playerIdToChessColor.get(d.uniqueId)||0;w.spriteFrame=t.rankBgSpriteFrame[F]}else 2==e.results.length?(w.spriteFrame=t.rankBgSpriteFrame[u],1==u&&(w.spriteFrame=t.rankBgSpriteFrame[2])):w.spriteFrame=t.rankBgSpriteFrame[u];var M=a,G=i-u*r,L=new f(M+o,G,0),D=new f(M,G,0),R=.1*(u+1);g.setPosition(L),_(g).delay(R).to(.3,{position:D},{easing:"sineInOut"}).to(.1,{scale:new f(1.1,1.1,1.1)},{easing:"sineInOut"}).to(.1,{scale:new f(1,1,1)},{easing:"sineInOut"}).start(),s+=r},d=0;d<e.results.length;d++)u(d);s+=20,this.scrollContent.getComponent(p).height=s,n||this.hideAgain()},t}(b)).prototype,"playerInfoNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(R.prototype,"timeLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(R.prototype,"scrollContent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(R.prototype,"rankBgSpriteFrame",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(R.prototype,"planeSps",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(R.prototype,"rankIconSps",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=R))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/LabelEx.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,n,l,o,a,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.CCBoolean,c=e.Label}],execute:function(){var s,u,p,f,b;l._RF.push({},"8fbdcfUjolFKqhNGlV+/Kxb","LabelEx",void 0);var d=o.ccclass,h=o.property;o.menu,o.executionOrder,e("default",(s=d("LabelEx"),u=h(a),s((b=r((f=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,i(n(r),"isCustFile",b,n(r)),r}return t(r,e),r}(c)).prototype,"isCustFile",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=f))||p));l._RF.pop()}}}));

System.register("chunks:///_virtual/ServerStructureData.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var a;t("BaseGameStatus",void 0),e._RF.push({},"9083boB2RZLMbzSQxsOmgyc","ServerStructureData",void 0),function(t){t[t.idle=0]="idle",t[t.loading=1]="loading",t[t.playing=2]="playing"}(a||(a=t("BaseGameStatus",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseCmd.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var s;e("BaseCmd",void 0),t._RF.push({},"95be8xAggFMT43UCCk1k4Md","BaseCmd",void 0),function(e){e[e.Heartbeat=101]="Heartbeat",e[e.Ping=102]="Ping"}(s||(s=e("BaseCmd",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameCmd.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseCmd.ts","./FrameWork.ts"],(function(e){"use strict";var a,n,t;return{setters:[function(e){a=e.extends},function(e){n=e.cclegacy},function(e){t=e.BaseCmd},null],execute:function(){var r;e("Cmd",void 0),n._RF.push({},"9b219IGY5VF2oxFoWnEaOYe","GameCmd",void 0),function(e){e[e.Login=2201]="Login",e[e.Enter=2202]="Enter",e[e.OnUpdateAccountAttributes=2203]="OnUpdateAccountAttributes",e[e.OnPlayerLogin=2204]="OnPlayerLogin",e[e.OnPlayerEnter=2205]="OnPlayerEnter",e[e.Leave=2206]="Leave",e[e.OnPlayerLeave=2207]="OnPlayerLeave",e[e.Ready=2208]="Ready",e[e.OnPlayerReady=2209]="OnPlayerReady",e[e.Start=2210]="Start",e[e.OnGameReady=2211]="OnGameReady",e[e.OnGameStart=2212]="OnGameStart",e[e.Loaded=2213]="Loaded",e[e.OnGameFinish=2214]="OnGameFinish",e[e.Kickout=2215]="Kickout",e[e.ChangeCaptain=2216]="ChangeCaptain",e[e.OnChangeCaptain=2217]="OnChangeCaptain",e[e.Escape=2218]="Escape",e[e.OnPlayerEscape=2219]="OnPlayerEscape",e[e.Disband=2220]="Disband",e[e.ChangeSeat=2221]="ChangeSeat",e[e.OnPlayerChangeSeat=2222]="OnPlayerChangeSeat",e[e.SetType=2223]="SetType",e[e.OnPlayerSetType=2224]="OnPlayerSetType",e[e.ThrowDice=2225]="ThrowDice",e[e.OnPlayerThrowDice=2226]="OnPlayerThrowDice",e[e.Move=2227]="Move",e[e.OnPlayerMove=2228]="OnPlayerMove",e[e.OnRoundStart=2229]="OnRoundStart",e[e.SetManaged=2230]="SetManaged",e[e.OnPlayerSetManaged=2231]="OnPlayerSetManaged",e[e.UpdateSstoken=2232]="UpdateSstoken",e[e.JoinBot=2233]="JoinBot",e[e.OnNewServerAddr=2234]="OnNewServerAddr",e[e.Reroll=2235]="Reroll",e[e.AddItem=2236]="AddItem",e[e.OnPlayerAddItem=2237]="OnPlayerAddItem"}(r||(r=e("Cmd",{})));e("GameCmd",a({},r,t));n._RF.pop()}}}));

System.register("chunks:///_virtual/loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./ResMgr.ts","./BaseView.ts","./FrameWork.ts","./GameCmd.ts","./UIConfig.ts","./GameCtrl.ts"],(function(e){"use strict";var t,n,o,r,s,i,c,a,u,l,f;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator},function(e){i=e.default},function(e){c=e.default},function(e){a=e.default},null,function(e){u=e.GameCmd},function(e){l=e.default},function(e){f=e.GameCtrl}],execute:function(){var d;r._RF.push({},"9d2beON8/NESIXfkXKrUjzI","loading",void 0);var g=s.ccclass;s.property,e("Loading",g("Loading")(d=function(e){function r(){for(var t,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=e.call.apply(e,[this].concat(s))||this,n(o(t),"isReconnect",!1),t}return t(r,e),r.prototype.init=function(e){console.log("游戏加载中。。。",e),c.getIns().preloadUI(l.GameView.resPath,"resources",(function(e,t){}),(function(){e?(console.log("重连进入游戏。。。"),f.getIns().reconnectGame()):(console.log("正常进入游戏。。。"),i.getIns().request(u.Loaded,{}))}))},r}(a))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/MD5.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){"use strict";var r,n,i,o,e,a;return{setters:[function(t){r=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,i=t.defineProperty,o=t.assertThisInitialized},function(t){e=t.cclegacy},function(t){a=t.default}],execute:function(){e._RF.push({},"9f250kfdyNHV6l9RdvmbaXe","MD5",void 0);t("default",function(t){function e(){for(var r,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return r=t.call.apply(t,[this].concat(e))||this,i(o(r),"A",1732584193),i(o(r),"B",4023233417),i(o(r),"C",2562383102),i(o(r),"D",271733878),i(o(r),"S",[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),r}r(e,t);var a=e.prototype;return a.getMd5=function(t){return this.md5(t)},a.split=function(t,r,n){void 0===n&&(n="string"==typeof t),"string"==typeof t&&(t=t.split(""));var i=t.map((function(n,i){return i%r==0?Array.from(Array(r).keys()).map((function(r){return t[i+r]})):[]})).filter((function(t){return t.length>0}));return n&&(i=i.map((function(t){return t.join("")}))),i},a.padding=function(t,r,n,i,o){var e;void 0===i&&(i=!0),void 0===o&&(o=Array.isArray(t)),e=Array.isArray(t)?t:t.split("");var a=this.range(r-t.length).map((function(){return n})),u=i?e.concat(a):a.concat(e);return o?u:u.join("")},a.little_endian=function(t){return this.split(this.padding(t.toString(16),8,"0",!1),2).reverse().join("")},a.range=function(){var t=1===arguments.length?0:arguments.length<=0?void 0:arguments[0],r=2===arguments.length?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])-1;return Array.from(Array(r-t+1).keys()).map((function(r){return r+t}))},a.to_binary=function(t,r,n){if(void 0===r&&(r=8),void 0===n&&(n=Math.pow(2,r)-1),t<0)throw new Error("code should be greater than: 0");if(t>n)throw new Error("code should be less than: "+n);return this.padding(t.toString(2),r,"0",!1)},a.to_hex=function(t,r,n){if(void 0===r&&(r=8),void 0===n&&(n=Math.pow(16,r)-1),t<0)throw new Error("code should be greater than: 0");if(t>n)throw new Error("code should be less than: "+n);return this.padding(t.toString(16),r,"0",!1)},a.to_code=function(t){return"0b"===t.substr(0,2).toLowerCase()?parseInt(t.substr(2,8),2):"0x"===t.substr(0,2).toLowerCase()?parseInt(t.substr(2,8),16):void 0},a.utf16_to_utf8=function(t){var r=this;return t.split("").map((function(t){return r.utf8_encode(t)})).join("")},a.utf8_encode=function(t){var r="",n=t.charCodeAt(0);return n<128?r+=String.fromCharCode(n):n>127&&n<2048?(r+=String.fromCharCode(n>>6|192),r+=String.fromCharCode(63&n|128)):(r+=String.fromCharCode(n>>12|224),r+=String.fromCharCode(n>>6&63|128),r+=String.fromCharCode(63&n|128)),r},a.uint_add=function(){for(var t=Uint32Array.from([0]),r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=Uint32Array.from(n);return o.forEach((function(r){return t[0]=t[0]+r})),t[0]},a.loop_shift_left=function(t,r){return t<<r|t>>>32-r},a.F=function(t,r,n){return t&r|~t&n},a.G=function(t,r,n){return t&n|r&~n},a.H=function(t,r,n){return t^r^n},a.I=function(t,r,n){return r^(t|~n)},a.T=function(t){return Math.floor(Math.pow(2,32)*Math.abs(Math.sin(t+1)))},a.x_index=function(t){return t>=0&&t<=15?t:t>=16&&t<=31?(5*t+1)%16:t>=32&&t<=47?(3*t+5)%16:t>=48&&t<=63?7*t%16:0},a.wrap=function(t){var r=this;return function(n,i,o,e,a,u,s){return r.uint_add(r.loop_shift_left(r.uint_add(n,t(i,o,e),a,s),u),i)}},a.porcess_message=function(t){var r=this,n=t.length,i=64*Math.ceil(n/64)-n-8-1;t+=String.fromCharCode(128);var o=this.padding(t.split(""),n+1+i,String.fromCharCode(0)),e=this.split(this.padding(this.to_binary(8*n%Math.pow(2,64)),64,"0"),8).map((function(t){return parseInt(t,2)})),a=o.map((function(t){return t.charCodeAt(0)}));return Uint32Array.from(this.split(a.concat(e),4).map((function(t){return t.map((function(t){return r.padding(t.toString(16),2,"0",!1)})).join("")})).map((function(t){return parseInt(t,16)})).map((function(t){return parseInt(r.little_endian(t),16)})))},a.fghi=function(t){return t>=0&&t<=15?this.F:t>=16&&t<=31?this.G:t>=32&&t<=47?this.H:t>=48&&t<=63?this.I:void 0},a.fghi_wrapped=function(t){return this.wrap(this.fghi(t))},a.md5=function(t){var r=this;t=this.utf16_to_utf8(t);for(var i,o=this.porcess_message(t),e=Uint32Array.from([this.A,this.B,this.C,this.D]),a=this.split(Array.from(o),16),u=n(a);!(i=u()).done;){for(var s=i.value,f=e[0],h=e[1],c=e[2],d=e[3],p=0;p<64;p++)e[(4-p%4)%4]=this.fghi_wrapped(p)(e[(4-p%4)%4],e[(4-p%4+1)%4],e[(4-p%4+2)%4],e[(4-p%4+3)%4],s[this.x_index(p)],this.S[p],this.T(p));e[0]=f+e[0],e[1]=h+e[1],e[2]=c+e[2],e[3]=d+e[3]}return Array.from(e).map((function(t){return r.little_endian(t)})).join("").toLowerCase()},e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/common_proto.js",["./cjs-loader.mjs"],(function(e,t){"use strict";var n;return{setters:[function(e){n=e.default}],execute:function(){e("default",void 0),n.define(t.meta.url,(function(t,r,o,i,a){var u,l,c,d,s,p;n.createRequireWithReqMap({},r);l=protobuf,c=l.Reader,d=l.Writer,s=l.util,(p={}).pb=((u={}).HeartbeatAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.HeartbeatAPI;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.HeartbeatAPI?e:new p.pb.HeartbeatAPI},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.HeartbeatReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.HeartbeatReply;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.HeartbeatReply?e:new p.pb.HeartbeatReply},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.PingAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.PingAPI;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.PingAPI?e:new p.pb.PingAPI},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.PingReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.PingReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.PingReply)return e;var t=new p.pb.PingReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.UpdateSstokenAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.UpdateSstokenAPI;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.UpdateSstokenAPI?e:new p.pb.UpdateSstokenAPI},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.UpdateSstokenReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.UpdateSstokenReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.UpdateSstokenReply)return e;var t=new p.pb.UpdateSstokenReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.LoginAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.LoginAPI;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.LoginAPI?e:new p.pb.LoginAPI},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.LoginReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.LoginReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.LoginReply)return e;var t=new p.pb.LoginReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.EnterAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seatIndex=-1,e.prototype.teamId=0,e.prototype.isSeatRandom=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.seatIndex&&Object.hasOwnProperty.call(e,"seatIndex")&&t.uint32(8).int32(e.seatIndex),null!=e.teamId&&Object.hasOwnProperty.call(e,"teamId")&&t.uint32(16).int32(e.teamId),null!=e.isSeatRandom&&Object.hasOwnProperty.call(e,"isSeatRandom")&&t.uint32(24).int32(e.isSeatRandom),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.EnterAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.seatIndex=e.int32();break;case 2:r.teamId=e.int32();break;case 3:r.isSeatRandom=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&!s.isInteger(e.seatIndex)?"seatIndex: integer expected":null!=e.teamId&&e.hasOwnProperty("teamId")&&!s.isInteger(e.teamId)?"teamId: integer expected":null!=e.isSeatRandom&&e.hasOwnProperty("isSeatRandom")&&!s.isInteger(e.isSeatRandom)?"isSeatRandom: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.EnterAPI)return e;var t=new p.pb.EnterAPI;return null!=e.seatIndex&&(t.seatIndex=0|e.seatIndex),null!=e.teamId&&(t.teamId=0|e.teamId),null!=e.isSeatRandom&&(t.isSeatRandom=0|e.isSeatRandom),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.seatIndex=-1,n.teamId=0,n.isSeatRandom=0),null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&(n.seatIndex=e.seatIndex),null!=e.teamId&&e.hasOwnProperty("teamId")&&(n.teamId=e.teamId),null!=e.isSeatRandom&&e.hasOwnProperty("isSeatRandom")&&(n.isSeatRandom=e.isSeatRandom),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.EnterReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.EnterReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.EnterReply)return e;var t=new p.pb.EnterReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.LeaveAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.LeaveAPI;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.LeaveAPI?e:new p.pb.LeaveAPI},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.LeaveReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.LeaveReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.LeaveReply)return e;var t=new p.pb.LeaveReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.ReadyAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.isReady=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.isReady&&Object.hasOwnProperty.call(e,"isReady")&&t.uint32(8).uint32(e.isReady),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.ReadyAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.isReady=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.isReady&&e.hasOwnProperty("isReady")&&!s.isInteger(e.isReady)?"isReady: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.ReadyAPI)return e;var t=new p.pb.ReadyAPI;return null!=e.isReady&&(t.isReady=e.isReady>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.isReady=0),null!=e.isReady&&e.hasOwnProperty("isReady")&&(n.isReady=e.isReady),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.ReadyReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.ReadyReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.ReadyReply)return e;var t=new p.pb.ReadyReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.StartAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.reportGameInfoExtras="",e.prototype.reportGameInfoKey="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.reportGameInfoExtras&&Object.hasOwnProperty.call(e,"reportGameInfoExtras")&&t.uint32(10).string(e.reportGameInfoExtras),null!=e.reportGameInfoKey&&Object.hasOwnProperty.call(e,"reportGameInfoKey")&&t.uint32(18).string(e.reportGameInfoKey),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.StartAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.reportGameInfoExtras=e.string();break;case 2:r.reportGameInfoKey=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.reportGameInfoExtras&&e.hasOwnProperty("reportGameInfoExtras")&&!s.isString(e.reportGameInfoExtras)?"reportGameInfoExtras: string expected":null!=e.reportGameInfoKey&&e.hasOwnProperty("reportGameInfoKey")&&!s.isString(e.reportGameInfoKey)?"reportGameInfoKey: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.StartAPI)return e;var t=new p.pb.StartAPI;return null!=e.reportGameInfoExtras&&(t.reportGameInfoExtras=String(e.reportGameInfoExtras)),null!=e.reportGameInfoKey&&(t.reportGameInfoKey=String(e.reportGameInfoKey)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.reportGameInfoExtras="",n.reportGameInfoKey=""),null!=e.reportGameInfoExtras&&e.hasOwnProperty("reportGameInfoExtras")&&(n.reportGameInfoExtras=e.reportGameInfoExtras),null!=e.reportGameInfoKey&&e.hasOwnProperty("reportGameInfoKey")&&(n.reportGameInfoKey=e.reportGameInfoKey),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.StartReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.StartReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.StartReply)return e;var t=new p.pb.StartReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.SetReportGameExtrasAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.reportGameInfoExtras="",e.prototype.reportGameInfoKey="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.reportGameInfoExtras&&Object.hasOwnProperty.call(e,"reportGameInfoExtras")&&t.uint32(10).string(e.reportGameInfoExtras),null!=e.reportGameInfoKey&&Object.hasOwnProperty.call(e,"reportGameInfoKey")&&t.uint32(18).string(e.reportGameInfoKey),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.SetReportGameExtrasAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.reportGameInfoExtras=e.string();break;case 2:r.reportGameInfoKey=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.reportGameInfoExtras&&e.hasOwnProperty("reportGameInfoExtras")&&!s.isString(e.reportGameInfoExtras)?"reportGameInfoExtras: string expected":null!=e.reportGameInfoKey&&e.hasOwnProperty("reportGameInfoKey")&&!s.isString(e.reportGameInfoKey)?"reportGameInfoKey: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.SetReportGameExtrasAPI)return e;var t=new p.pb.SetReportGameExtrasAPI;return null!=e.reportGameInfoExtras&&(t.reportGameInfoExtras=String(e.reportGameInfoExtras)),null!=e.reportGameInfoKey&&(t.reportGameInfoKey=String(e.reportGameInfoKey)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.reportGameInfoExtras="",n.reportGameInfoKey=""),null!=e.reportGameInfoExtras&&e.hasOwnProperty("reportGameInfoExtras")&&(n.reportGameInfoExtras=e.reportGameInfoExtras),null!=e.reportGameInfoKey&&e.hasOwnProperty("reportGameInfoKey")&&(n.reportGameInfoKey=e.reportGameInfoKey),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.SetReportGameExtrasReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.SetReportGameExtrasReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.SetReportGameExtrasReply)return e;var t=new p.pb.SetReportGameExtrasReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.LoadedAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.LoadedAPI;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.LoadedAPI?e:new p.pb.LoadedAPI},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.LoadedReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.LoadedReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.LoadedReply)return e;var t=new p.pb.LoadedReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.KickoutAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seatIndex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.seatIndex&&Object.hasOwnProperty.call(e,"seatIndex")&&t.uint32(8).int32(e.seatIndex),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.KickoutAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.seatIndex=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&!s.isInteger(e.seatIndex)?"seatIndex: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.KickoutAPI)return e;var t=new p.pb.KickoutAPI;return null!=e.seatIndex&&(t.seatIndex=0|e.seatIndex),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.seatIndex=0),null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&(n.seatIndex=e.seatIndex),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.KickoutReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.KickoutReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.KickoutReply)return e;var t=new p.pb.KickoutReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.ChangeCaptainAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seatIndex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.seatIndex&&Object.hasOwnProperty.call(e,"seatIndex")&&t.uint32(8).int32(e.seatIndex),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.ChangeCaptainAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.seatIndex=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&!s.isInteger(e.seatIndex)?"seatIndex: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.ChangeCaptainAPI)return e;var t=new p.pb.ChangeCaptainAPI;return null!=e.seatIndex&&(t.seatIndex=0|e.seatIndex),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.seatIndex=0),null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&(n.seatIndex=e.seatIndex),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.ChangeCaptainReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.ChangeCaptainReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.ChangeCaptainReply)return e;var t=new p.pb.ChangeCaptainReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.EscapeAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.EscapeAPI;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.EscapeAPI?e:new p.pb.EscapeAPI},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.EscapeReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.EscapeReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.EscapeReply)return e;var t=new p.pb.EscapeReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.DisbandAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.DisbandAPI;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof p.pb.DisbandAPI?e:new p.pb.DisbandAPI},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.DisbandReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.DisbandReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.DisbandReply)return e;var t=new p.pb.DisbandReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.ChangeSeatAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seatIndex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.seatIndex&&Object.hasOwnProperty.call(e,"seatIndex")&&t.uint32(8).int32(e.seatIndex),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.ChangeSeatAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.seatIndex=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&!s.isInteger(e.seatIndex)?"seatIndex: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.ChangeSeatAPI)return e;var t=new p.pb.ChangeSeatAPI;return null!=e.seatIndex&&(t.seatIndex=0|e.seatIndex),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.seatIndex=0),null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&(n.seatIndex=e.seatIndex),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.ChangeSeatReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.ChangeSeatReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.ChangeSeatReply)return e;var t=new p.pb.ChangeSeatReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.Account=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uid=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.playerId="",e.prototype.name="",e.prototype.avatar="",e.prototype.medal=0,e.prototype.gender="",e.prototype.appId="",e.prototype.nftData=null,e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.uid&&Object.hasOwnProperty.call(e,"uid")&&t.uint32(8).int64(e.uid),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(18).string(e.playerId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(34).string(e.avatar),null!=e.medal&&Object.hasOwnProperty.call(e,"medal")&&t.uint32(40).int32(e.medal),null!=e.gender&&Object.hasOwnProperty.call(e,"gender")&&t.uint32(50).string(e.gender),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(58).string(e.appId),null!=e.nftData&&Object.hasOwnProperty.call(e,"nftData")&&p.pb.NftData.encode(e.nftData,t.uint32(66).fork()).ldelim(),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(74).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.Account;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.uid=e.int64();break;case 2:r.playerId=e.string();break;case 3:r.name=e.string();break;case 4:r.avatar=e.string();break;case 5:r.medal=e.int32();break;case 6:r.gender=e.string();break;case 7:r.appId=e.string();break;case 8:r.nftData=p.pb.NftData.decode(e,e.uint32());break;case 9:r.uniqueId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uid&&e.hasOwnProperty("uid")&&!(s.isInteger(e.uid)||e.uid&&s.isInteger(e.uid.low)&&s.isInteger(e.uid.high)))return"uid: integer|Long expected";if(null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId))return"playerId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.avatar&&e.hasOwnProperty("avatar")&&!s.isString(e.avatar))return"avatar: string expected";if(null!=e.medal&&e.hasOwnProperty("medal")&&!s.isInteger(e.medal))return"medal: integer expected";if(null!=e.gender&&e.hasOwnProperty("gender")&&!s.isString(e.gender))return"gender: string expected";if(null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId))return"appId: string expected";if(null!=e.nftData&&e.hasOwnProperty("nftData")){var t=p.pb.NftData.verify(e.nftData);if(t)return"nftData."+t}return null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!s.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.Account)return e;var t=new p.pb.Account;if(null!=e.uid&&(s.Long?(t.uid=s.Long.fromValue(e.uid)).unsigned=!1:"string"==typeof e.uid?t.uid=parseInt(e.uid,10):"number"==typeof e.uid?t.uid=e.uid:"object"==typeof e.uid&&(t.uid=new s.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.name&&(t.name=String(e.name)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.medal&&(t.medal=0|e.medal),null!=e.gender&&(t.gender=String(e.gender)),null!=e.appId&&(t.appId=String(e.appId)),null!=e.nftData){if("object"!=typeof e.nftData)throw TypeError(".pb.Account.nftData: object expected");t.nftData=p.pb.NftData.fromObject(e.nftData)}return null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(s.Long){var r=new s.Long(0,0,!1);n.uid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.uid=t.longs===String?"0":0;n.playerId="",n.name="",n.avatar="",n.medal=0,n.gender="",n.appId="",n.nftData=null,n.uniqueId=""}return null!=e.uid&&e.hasOwnProperty("uid")&&("number"==typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?s.Long.prototype.toString.call(e.uid):t.longs===Number?new s.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.medal&&e.hasOwnProperty("medal")&&(n.medal=e.medal),null!=e.gender&&e.hasOwnProperty("gender")&&(n.gender=e.gender),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.nftData&&e.hasOwnProperty("nftData")&&(n.nftData=p.pb.NftData.toObject(e.nftData,t)),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.Player=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uid=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.playerId="",e.prototype.name="",e.prototype.avatar="",e.prototype.seatIndex=0,e.prototype.state=0,e.prototype.teamId=0,e.prototype.isAI=0,e.prototype.appId="",e.prototype.nftData=null,e.prototype.gender="",e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.uid&&Object.hasOwnProperty.call(e,"uid")&&t.uint32(8).int64(e.uid),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(18).string(e.playerId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(34).string(e.avatar),null!=e.seatIndex&&Object.hasOwnProperty.call(e,"seatIndex")&&t.uint32(40).int32(e.seatIndex),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(48).uint32(e.state),null!=e.teamId&&Object.hasOwnProperty.call(e,"teamId")&&t.uint32(56).int32(e.teamId),null!=e.isAI&&Object.hasOwnProperty.call(e,"isAI")&&t.uint32(64).int32(e.isAI),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(74).string(e.appId),null!=e.nftData&&Object.hasOwnProperty.call(e,"nftData")&&p.pb.NftData.encode(e.nftData,t.uint32(82).fork()).ldelim(),null!=e.gender&&Object.hasOwnProperty.call(e,"gender")&&t.uint32(90).string(e.gender),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(98).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.Player;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.uid=e.int64();break;case 2:r.playerId=e.string();break;case 3:r.name=e.string();break;case 4:r.avatar=e.string();break;case 5:r.seatIndex=e.int32();break;case 6:r.state=e.uint32();break;case 7:r.teamId=e.int32();break;case 8:r.isAI=e.int32();break;case 9:r.appId=e.string();break;case 10:r.nftData=p.pb.NftData.decode(e,e.uint32());break;case 11:r.gender=e.string();break;case 12:r.uniqueId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uid&&e.hasOwnProperty("uid")&&!(s.isInteger(e.uid)||e.uid&&s.isInteger(e.uid.low)&&s.isInteger(e.uid.high)))return"uid: integer|Long expected";if(null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId))return"playerId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.avatar&&e.hasOwnProperty("avatar")&&!s.isString(e.avatar))return"avatar: string expected";if(null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&!s.isInteger(e.seatIndex))return"seatIndex: integer expected";if(null!=e.state&&e.hasOwnProperty("state")&&!s.isInteger(e.state))return"state: integer expected";if(null!=e.teamId&&e.hasOwnProperty("teamId")&&!s.isInteger(e.teamId))return"teamId: integer expected";if(null!=e.isAI&&e.hasOwnProperty("isAI")&&!s.isInteger(e.isAI))return"isAI: integer expected";if(null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId))return"appId: string expected";if(null!=e.nftData&&e.hasOwnProperty("nftData")){var t=p.pb.NftData.verify(e.nftData);if(t)return"nftData."+t}return null!=e.gender&&e.hasOwnProperty("gender")&&!s.isString(e.gender)?"gender: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!s.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.Player)return e;var t=new p.pb.Player;if(null!=e.uid&&(s.Long?(t.uid=s.Long.fromValue(e.uid)).unsigned=!1:"string"==typeof e.uid?t.uid=parseInt(e.uid,10):"number"==typeof e.uid?t.uid=e.uid:"object"==typeof e.uid&&(t.uid=new s.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.name&&(t.name=String(e.name)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.seatIndex&&(t.seatIndex=0|e.seatIndex),null!=e.state&&(t.state=e.state>>>0),null!=e.teamId&&(t.teamId=0|e.teamId),null!=e.isAI&&(t.isAI=0|e.isAI),null!=e.appId&&(t.appId=String(e.appId)),null!=e.nftData){if("object"!=typeof e.nftData)throw TypeError(".pb.Player.nftData: object expected");t.nftData=p.pb.NftData.fromObject(e.nftData)}return null!=e.gender&&(t.gender=String(e.gender)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(s.Long){var r=new s.Long(0,0,!1);n.uid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.uid=t.longs===String?"0":0;n.playerId="",n.name="",n.avatar="",n.seatIndex=0,n.state=0,n.teamId=0,n.isAI=0,n.appId="",n.nftData=null,n.gender="",n.uniqueId=""}return null!=e.uid&&e.hasOwnProperty("uid")&&("number"==typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?s.Long.prototype.toString.call(e.uid):t.longs===Number?new s.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&(n.seatIndex=e.seatIndex),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.teamId&&e.hasOwnProperty("teamId")&&(n.teamId=e.teamId),null!=e.isAI&&e.hasOwnProperty("isAI")&&(n.isAI=e.isAI),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.nftData&&e.hasOwnProperty("nftData")&&(n.nftData=p.pb.NftData.toObject(e.nftData,t)),null!=e.gender&&e.hasOwnProperty("gender")&&(n.gender=e.gender),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.Game=function(){function e(e){if(this.players=[],this.params=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.players=s.emptyArray,e.prototype.state=0,e.prototype.captain="",e.prototype.language="",e.prototype.mode=0,e.prototype.params=s.emptyArray,e.prototype.captainAppId="",e.prototype.captainUniqueId="",e.prototype.setting="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=d.create()),null!=e.players&&e.players.length)for(var n=0;n<e.players.length;++n)p.pb.Player.encode(e.players[n],t.uint32(10).fork()).ldelim();if(null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(16).uint32(e.state),null!=e.captain&&Object.hasOwnProperty.call(e,"captain")&&t.uint32(26).string(e.captain),null!=e.language&&Object.hasOwnProperty.call(e,"language")&&t.uint32(34).string(e.language),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(40).uint32(e.mode),null!=e.params&&e.params.length)for(n=0;n<e.params.length;++n)t.uint32(48).int32(e.params[n]);return null!=e.captainAppId&&Object.hasOwnProperty.call(e,"captainAppId")&&t.uint32(58).string(e.captainAppId),null!=e.captainUniqueId&&Object.hasOwnProperty.call(e,"captainUniqueId")&&t.uint32(66).string(e.captainUniqueId),null!=e.setting&&Object.hasOwnProperty.call(e,"setting")&&t.uint32(74).string(e.setting),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.Game;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.players&&r.players.length||(r.players=[]),r.players.push(p.pb.Player.decode(e,e.uint32()));break;case 2:r.state=e.uint32();break;case 3:r.captain=e.string();break;case 4:r.language=e.string();break;case 5:r.mode=e.uint32();break;case 6:if(r.params&&r.params.length||(r.params=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.params.push(e.int32());else r.params.push(e.int32());break;case 7:r.captainAppId=e.string();break;case 8:r.captainUniqueId=e.string();break;case 9:r.setting=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.players&&e.hasOwnProperty("players")){if(!Array.isArray(e.players))return"players: array expected";for(var t=0;t<e.players.length;++t){var n=p.pb.Player.verify(e.players[t]);if(n)return"players."+n}}if(null!=e.state&&e.hasOwnProperty("state")&&!s.isInteger(e.state))return"state: integer expected";if(null!=e.captain&&e.hasOwnProperty("captain")&&!s.isString(e.captain))return"captain: string expected";if(null!=e.language&&e.hasOwnProperty("language")&&!s.isString(e.language))return"language: string expected";if(null!=e.mode&&e.hasOwnProperty("mode")&&!s.isInteger(e.mode))return"mode: integer expected";if(null!=e.params&&e.hasOwnProperty("params")){if(!Array.isArray(e.params))return"params: array expected";for(t=0;t<e.params.length;++t)if(!s.isInteger(e.params[t]))return"params: integer[] expected"}return null!=e.captainAppId&&e.hasOwnProperty("captainAppId")&&!s.isString(e.captainAppId)?"captainAppId: string expected":null!=e.captainUniqueId&&e.hasOwnProperty("captainUniqueId")&&!s.isString(e.captainUniqueId)?"captainUniqueId: string expected":null!=e.setting&&e.hasOwnProperty("setting")&&!s.isString(e.setting)?"setting: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.Game)return e;var t=new p.pb.Game;if(e.players){if(!Array.isArray(e.players))throw TypeError(".pb.Game.players: array expected");t.players=[];for(var n=0;n<e.players.length;++n){if("object"!=typeof e.players[n])throw TypeError(".pb.Game.players: object expected");t.players[n]=p.pb.Player.fromObject(e.players[n])}}if(null!=e.state&&(t.state=e.state>>>0),null!=e.captain&&(t.captain=String(e.captain)),null!=e.language&&(t.language=String(e.language)),null!=e.mode&&(t.mode=e.mode>>>0),e.params){if(!Array.isArray(e.params))throw TypeError(".pb.Game.params: array expected");for(t.params=[],n=0;n<e.params.length;++n)t.params[n]=0|e.params[n]}return null!=e.captainAppId&&(t.captainAppId=String(e.captainAppId)),null!=e.captainUniqueId&&(t.captainUniqueId=String(e.captainUniqueId)),null!=e.setting&&(t.setting=String(e.setting)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.players=[],n.params=[]),t.defaults&&(n.state=0,n.captain="",n.language="",n.mode=0,n.captainAppId="",n.captainUniqueId="",n.setting=""),e.players&&e.players.length){n.players=[];for(var r=0;r<e.players.length;++r)n.players[r]=p.pb.Player.toObject(e.players[r],t)}if(null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.captain&&e.hasOwnProperty("captain")&&(n.captain=e.captain),null!=e.language&&e.hasOwnProperty("language")&&(n.language=e.language),null!=e.mode&&e.hasOwnProperty("mode")&&(n.mode=e.mode),e.params&&e.params.length)for(n.params=[],r=0;r<e.params.length;++r)n.params[r]=e.params[r];return null!=e.captainAppId&&e.hasOwnProperty("captainAppId")&&(n.captainAppId=e.captainAppId),null!=e.captainUniqueId&&e.hasOwnProperty("captainUniqueId")&&(n.captainUniqueId=e.captainUniqueId),null!=e.setting&&e.hasOwnProperty("setting")&&(n.setting=e.setting),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnPlayerLogin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account=null,e.prototype.game=null,e.prototype.serverTime=s.Long?s.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&p.pb.Account.encode(e.account,t.uint32(10).fork()).ldelim(),null!=e.game&&Object.hasOwnProperty.call(e,"game")&&p.pb.Game.encode(e.game,t.uint32(18).fork()).ldelim(),null!=e.serverTime&&Object.hasOwnProperty.call(e,"serverTime")&&t.uint32(24).int64(e.serverTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnPlayerLogin;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.account=p.pb.Account.decode(e,e.uint32());break;case 2:r.game=p.pb.Game.decode(e,e.uint32());break;case 3:r.serverTime=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.account&&e.hasOwnProperty("account")&&(t=p.pb.Account.verify(e.account))?"account."+t:null!=e.game&&e.hasOwnProperty("game")&&(t=p.pb.Game.verify(e.game))?"game."+t:null!=e.serverTime&&e.hasOwnProperty("serverTime")&&!(s.isInteger(e.serverTime)||e.serverTime&&s.isInteger(e.serverTime.low)&&s.isInteger(e.serverTime.high))?"serverTime: integer|Long expected":null;var t},e.fromObject=function(e){if(e instanceof p.pb.OnPlayerLogin)return e;var t=new p.pb.OnPlayerLogin;if(null!=e.account){if("object"!=typeof e.account)throw TypeError(".pb.OnPlayerLogin.account: object expected");t.account=p.pb.Account.fromObject(e.account)}if(null!=e.game){if("object"!=typeof e.game)throw TypeError(".pb.OnPlayerLogin.game: object expected");t.game=p.pb.Game.fromObject(e.game)}return null!=e.serverTime&&(s.Long?(t.serverTime=s.Long.fromValue(e.serverTime)).unsigned=!1:"string"==typeof e.serverTime?t.serverTime=parseInt(e.serverTime,10):"number"==typeof e.serverTime?t.serverTime=e.serverTime:"object"==typeof e.serverTime&&(t.serverTime=new s.LongBits(e.serverTime.low>>>0,e.serverTime.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.account=null,n.game=null,s.Long){var r=new s.Long(0,0,!1);n.serverTime=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.serverTime=t.longs===String?"0":0;return null!=e.account&&e.hasOwnProperty("account")&&(n.account=p.pb.Account.toObject(e.account,t)),null!=e.game&&e.hasOwnProperty("game")&&(n.game=p.pb.Game.toObject(e.game,t)),null!=e.serverTime&&e.hasOwnProperty("serverTime")&&("number"==typeof e.serverTime?n.serverTime=t.longs===String?String(e.serverTime):e.serverTime:n.serverTime=t.longs===String?s.Long.prototype.toString.call(e.serverTime):t.longs===Number?new s.LongBits(e.serverTime.low>>>0,e.serverTime.high>>>0).toNumber():e.serverTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnUpdateAccountAttributes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&p.pb.Account.encode(e.account,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnUpdateAccountAttributes;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.account=p.pb.Account.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.account&&e.hasOwnProperty("account")){var t=p.pb.Account.verify(e.account);if(t)return"account."+t}return null},e.fromObject=function(e){if(e instanceof p.pb.OnUpdateAccountAttributes)return e;var t=new p.pb.OnUpdateAccountAttributes;if(null!=e.account){if("object"!=typeof e.account)throw TypeError(".pb.OnUpdateAccountAttributes.account: object expected");t.account=p.pb.Account.fromObject(e.account)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.account=null),null!=e.account&&e.hasOwnProperty("account")&&(n.account=p.pb.Account.toObject(e.account,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnPlayerEnter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.player=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.player&&Object.hasOwnProperty.call(e,"player")&&p.pb.Player.encode(e.player,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnPlayerEnter;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.player=p.pb.Player.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.player&&e.hasOwnProperty("player")){var t=p.pb.Player.verify(e.player);if(t)return"player."+t}return null},e.fromObject=function(e){if(e instanceof p.pb.OnPlayerEnter)return e;var t=new p.pb.OnPlayerEnter;if(null!=e.player){if("object"!=typeof e.player)throw TypeError(".pb.OnPlayerEnter.player: object expected");t.player=p.pb.Player.fromObject(e.player)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.player=null),null!=e.player&&e.hasOwnProperty("player")&&(n.player=p.pb.Player.toObject(e.player,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnPlayerLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId="",e.prototype.kickPlayerId="",e.prototype.appId="",e.prototype.kickPlayerAppId="",e.prototype.uniqueId="",e.prototype.kickUniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(10).string(e.playerId),null!=e.kickPlayerId&&Object.hasOwnProperty.call(e,"kickPlayerId")&&t.uint32(18).string(e.kickPlayerId),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(26).string(e.appId),null!=e.kickPlayerAppId&&Object.hasOwnProperty.call(e,"kickPlayerAppId")&&t.uint32(34).string(e.kickPlayerAppId),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(42).string(e.uniqueId),null!=e.kickUniqueId&&Object.hasOwnProperty.call(e,"kickUniqueId")&&t.uint32(50).string(e.kickUniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnPlayerLeave;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerId=e.string();break;case 2:r.kickPlayerId=e.string();break;case 3:r.appId=e.string();break;case 4:r.kickPlayerAppId=e.string();break;case 5:r.uniqueId=e.string();break;case 6:r.kickUniqueId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId)?"playerId: string expected":null!=e.kickPlayerId&&e.hasOwnProperty("kickPlayerId")&&!s.isString(e.kickPlayerId)?"kickPlayerId: string expected":null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId)?"appId: string expected":null!=e.kickPlayerAppId&&e.hasOwnProperty("kickPlayerAppId")&&!s.isString(e.kickPlayerAppId)?"kickPlayerAppId: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!s.isString(e.uniqueId)?"uniqueId: string expected":null!=e.kickUniqueId&&e.hasOwnProperty("kickUniqueId")&&!s.isString(e.kickUniqueId)?"kickUniqueId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnPlayerLeave)return e;var t=new p.pb.OnPlayerLeave;return null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.kickPlayerId&&(t.kickPlayerId=String(e.kickPlayerId)),null!=e.appId&&(t.appId=String(e.appId)),null!=e.kickPlayerAppId&&(t.kickPlayerAppId=String(e.kickPlayerAppId)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),null!=e.kickUniqueId&&(t.kickUniqueId=String(e.kickUniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerId="",n.kickPlayerId="",n.appId="",n.kickPlayerAppId="",n.uniqueId="",n.kickUniqueId=""),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.kickPlayerId&&e.hasOwnProperty("kickPlayerId")&&(n.kickPlayerId=e.kickPlayerId),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.kickPlayerAppId&&e.hasOwnProperty("kickPlayerAppId")&&(n.kickPlayerAppId=e.kickPlayerAppId),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),null!=e.kickUniqueId&&e.hasOwnProperty("kickUniqueId")&&(n.kickUniqueId=e.kickUniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnPlayerReady=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId="",e.prototype.isReady=0,e.prototype.appId="",e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(10).string(e.playerId),null!=e.isReady&&Object.hasOwnProperty.call(e,"isReady")&&t.uint32(16).uint32(e.isReady),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(26).string(e.appId),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(34).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnPlayerReady;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerId=e.string();break;case 2:r.isReady=e.uint32();break;case 3:r.appId=e.string();break;case 4:r.uniqueId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId)?"playerId: string expected":null!=e.isReady&&e.hasOwnProperty("isReady")&&!s.isInteger(e.isReady)?"isReady: integer expected":null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId)?"appId: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!s.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnPlayerReady)return e;var t=new p.pb.OnPlayerReady;return null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.isReady&&(t.isReady=e.isReady>>>0),null!=e.appId&&(t.appId=String(e.appId)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerId="",n.isReady=0,n.appId="",n.uniqueId=""),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.isReady&&e.hasOwnProperty("isReady")&&(n.isReady=e.isReady),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnChangeCaptain=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId="",e.prototype.appId="",e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(10).string(e.playerId),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(18).string(e.appId),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(26).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnChangeCaptain;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerId=e.string();break;case 2:r.appId=e.string();break;case 3:r.uniqueId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId)?"playerId: string expected":null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId)?"appId: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!s.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnChangeCaptain)return e;var t=new p.pb.OnChangeCaptain;return null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.appId&&(t.appId=String(e.appId)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerId="",n.appId="",n.uniqueId=""),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnPlayerEscape=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId="",e.prototype.appId="",e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(10).string(e.playerId),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(18).string(e.appId),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(26).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnPlayerEscape;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerId=e.string();break;case 2:r.appId=e.string();break;case 3:r.uniqueId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId)?"playerId: string expected":null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId)?"appId: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!s.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnPlayerEscape)return e;var t=new p.pb.OnPlayerEscape;return null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.appId&&(t.appId=String(e.appId)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerId="",n.appId="",n.uniqueId=""),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnPlayerChangeSeat=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId="",e.prototype.seatIndex=0,e.prototype.appId="",e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(10).string(e.playerId),null!=e.seatIndex&&Object.hasOwnProperty.call(e,"seatIndex")&&t.uint32(16).int32(e.seatIndex),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(26).string(e.appId),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(34).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnPlayerChangeSeat;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerId=e.string();break;case 2:r.seatIndex=e.int32();break;case 3:r.appId=e.string();break;case 4:r.uniqueId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId)?"playerId: string expected":null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&!s.isInteger(e.seatIndex)?"seatIndex: integer expected":null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId)?"appId: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!s.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnPlayerChangeSeat)return e;var t=new p.pb.OnPlayerChangeSeat;return null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.seatIndex&&(t.seatIndex=0|e.seatIndex),null!=e.appId&&(t.appId=String(e.appId)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerId="",n.seatIndex=0,n.appId="",n.uniqueId=""),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&(n.seatIndex=e.seatIndex),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.SetManagedAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.isManaged=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.isManaged&&Object.hasOwnProperty.call(e,"isManaged")&&t.uint32(8).uint32(e.isManaged),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.SetManagedAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.isManaged=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.isManaged&&e.hasOwnProperty("isManaged")&&!s.isInteger(e.isManaged)?"isManaged: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.SetManagedAPI)return e;var t=new p.pb.SetManagedAPI;return null!=e.isManaged&&(t.isManaged=e.isManaged>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.isManaged=0),null!=e.isManaged&&e.hasOwnProperty("isManaged")&&(n.isManaged=e.isManaged),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.SetManagedReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.SetManagedReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.SetManagedReply)return e;var t=new p.pb.SetManagedReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnPlayerSetManaged=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId="",e.prototype.isManaged=0,e.prototype.appId="",e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(10).string(e.playerId),null!=e.isManaged&&Object.hasOwnProperty.call(e,"isManaged")&&t.uint32(16).uint32(e.isManaged),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(26).string(e.appId),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(34).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnPlayerSetManaged;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerId=e.string();break;case 2:r.isManaged=e.uint32();break;case 3:r.appId=e.string();break;case 4:r.uniqueId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId)?"playerId: string expected":null!=e.isManaged&&e.hasOwnProperty("isManaged")&&!s.isInteger(e.isManaged)?"isManaged: integer expected":null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId)?"appId: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!s.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnPlayerSetManaged)return e;var t=new p.pb.OnPlayerSetManaged;return null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.isManaged&&(t.isManaged=e.isManaged>>>0),null!=e.appId&&(t.appId=String(e.appId)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerId="",n.isManaged=0,n.appId="",n.uniqueId=""),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.isManaged&&e.hasOwnProperty("isManaged")&&(n.isManaged=e.isManaged),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.SwitchModeAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(8).uint32(e.mode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.SwitchModeAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.mode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.mode&&e.hasOwnProperty("mode")&&!s.isInteger(e.mode)?"mode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.SwitchModeAPI)return e;var t=new p.pb.SwitchModeAPI;return null!=e.mode&&(t.mode=e.mode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.mode=0),null!=e.mode&&e.hasOwnProperty("mode")&&(n.mode=e.mode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.SwitchModeReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.SwitchModeReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.SwitchModeReply)return e;var t=new p.pb.SwitchModeReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnPlayerSwitchMode=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(8).uint32(e.mode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnPlayerSwitchMode;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.mode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.mode&&e.hasOwnProperty("mode")&&!s.isInteger(e.mode)?"mode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnPlayerSwitchMode)return e;var t=new p.pb.OnPlayerSwitchMode;return null!=e.mode&&(t.mode=e.mode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.mode=0),null!=e.mode&&e.hasOwnProperty("mode")&&(n.mode=e.mode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.GetAccountInfoAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId="",e.prototype.appId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(10).string(e.playerId),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(18).string(e.appId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.GetAccountInfoAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerId=e.string();break;case 2:r.appId=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId)?"playerId: string expected":null!=e.appId&&e.hasOwnProperty("appId")&&!s.isString(e.appId)?"appId: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.GetAccountInfoAPI)return e;var t=new p.pb.GetAccountInfoAPI;return null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.appId&&(t.appId=String(e.appId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerId="",n.appId=""),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.GetAccountInfoReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.prototype.account=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&p.pb.Account.encode(e.account,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.GetAccountInfoReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;case 2:r.account=p.pb.Account.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode))return"resultCode: integer expected";if(null!=e.account&&e.hasOwnProperty("account")){var t=p.pb.Account.verify(e.account);if(t)return"account."+t}return null},e.fromObject=function(e){if(e instanceof p.pb.GetAccountInfoReply)return e;var t=new p.pb.GetAccountInfoReply;if(null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),null!=e.account){if("object"!=typeof e.account)throw TypeError(".pb.GetAccountInfoReply.account: object expected");t.account=p.pb.Account.fromObject(e.account)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0,n.account=null),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),null!=e.account&&e.hasOwnProperty("account")&&(n.account=p.pb.Account.toObject(e.account,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.Bot=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId="",e.prototype.name="",e.prototype.avatar="",e.prototype.gender="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(10).string(e.playerId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(26).string(e.avatar),null!=e.gender&&Object.hasOwnProperty.call(e,"gender")&&t.uint32(34).string(e.gender),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.Bot;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerId=e.string();break;case 2:r.name=e.string();break;case 3:r.avatar=e.string();break;case 4:r.gender=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!s.isString(e.playerId)?"playerId: string expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!s.isString(e.avatar)?"avatar: string expected":null!=e.gender&&e.hasOwnProperty("gender")&&!s.isString(e.gender)?"gender: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.Bot)return e;var t=new p.pb.Bot;return null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.name&&(t.name=String(e.name)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.gender&&(t.gender=String(e.gender)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerId="",n.name="",n.avatar="",n.gender=""),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.gender&&e.hasOwnProperty("gender")&&(n.gender=e.gender),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.JoinBotAPI=function(){function e(e){if(this.bots=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bots=s.emptyArray,e.prototype.isReady=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=d.create()),null!=e.bots&&e.bots.length)for(var n=0;n<e.bots.length;++n)p.pb.Bot.encode(e.bots[n],t.uint32(10).fork()).ldelim();return null!=e.isReady&&Object.hasOwnProperty.call(e,"isReady")&&t.uint32(16).int32(e.isReady),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.JoinBotAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.bots&&r.bots.length||(r.bots=[]),r.bots.push(p.pb.Bot.decode(e,e.uint32()));break;case 2:r.isReady=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.bots&&e.hasOwnProperty("bots")){if(!Array.isArray(e.bots))return"bots: array expected";for(var t=0;t<e.bots.length;++t){var n=p.pb.Bot.verify(e.bots[t]);if(n)return"bots."+n}}return null!=e.isReady&&e.hasOwnProperty("isReady")&&!s.isInteger(e.isReady)?"isReady: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.JoinBotAPI)return e;var t=new p.pb.JoinBotAPI;if(e.bots){if(!Array.isArray(e.bots))throw TypeError(".pb.JoinBotAPI.bots: array expected");t.bots=[];for(var n=0;n<e.bots.length;++n){if("object"!=typeof e.bots[n])throw TypeError(".pb.JoinBotAPI.bots: object expected");t.bots[n]=p.pb.Bot.fromObject(e.bots[n])}}return null!=e.isReady&&(t.isReady=0|e.isReady),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.bots=[]),t.defaults&&(n.isReady=0),e.bots&&e.bots.length){n.bots=[];for(var r=0;r<e.bots.length;++r)n.bots[r]=p.pb.Bot.toObject(e.bots[r],t)}return null!=e.isReady&&e.hasOwnProperty("isReady")&&(n.isReady=e.isReady),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.JoinBotReply=function(){function e(e){if(this.playerIds=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.prototype.playerIds=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),null!=e.playerIds&&e.playerIds.length)for(var n=0;n<e.playerIds.length;++n)t.uint32(18).string(e.playerIds[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.JoinBotReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;case 2:r.playerIds&&r.playerIds.length||(r.playerIds=[]),r.playerIds.push(e.string());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode))return"resultCode: integer expected";if(null!=e.playerIds&&e.hasOwnProperty("playerIds")){if(!Array.isArray(e.playerIds))return"playerIds: array expected";for(var t=0;t<e.playerIds.length;++t)if(!s.isString(e.playerIds[t]))return"playerIds: string[] expected"}return null},e.fromObject=function(e){if(e instanceof p.pb.JoinBotReply)return e;var t=new p.pb.JoinBotReply;if(null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),e.playerIds){if(!Array.isArray(e.playerIds))throw TypeError(".pb.JoinBotReply.playerIds: array expected");t.playerIds=[];for(var n=0;n<e.playerIds.length;++n)t.playerIds[n]=String(e.playerIds[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.playerIds=[]),t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),e.playerIds&&e.playerIds.length){n.playerIds=[];for(var r=0;r<e.playerIds.length;++r)n.playerIds[r]=e.playerIds[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.NftData=function(){function e(e){if(this.nftPayloads=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nftPayloads=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=d.create()),null!=e.nftPayloads&&e.nftPayloads.length)for(var n=0;n<e.nftPayloads.length;++n)p.pb.NftPayload.encode(e.nftPayloads[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.NftData;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.nftPayloads&&r.nftPayloads.length||(r.nftPayloads=[]),r.nftPayloads.push(p.pb.NftPayload.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.nftPayloads&&e.hasOwnProperty("nftPayloads")){if(!Array.isArray(e.nftPayloads))return"nftPayloads: array expected";for(var t=0;t<e.nftPayloads.length;++t){var n=p.pb.NftPayload.verify(e.nftPayloads[t]);if(n)return"nftPayloads."+n}}return null},e.fromObject=function(e){if(e instanceof p.pb.NftData)return e;var t=new p.pb.NftData;if(e.nftPayloads){if(!Array.isArray(e.nftPayloads))throw TypeError(".pb.NftData.nftPayloads: array expected");t.nftPayloads=[];for(var n=0;n<e.nftPayloads.length;++n){if("object"!=typeof e.nftPayloads[n])throw TypeError(".pb.NftData.nftPayloads: object expected");t.nftPayloads[n]=p.pb.NftPayload.fromObject(e.nftPayloads[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.nftPayloads=[]),e.nftPayloads&&e.nftPayloads.length){n.nftPayloads=[];for(var r=0;r<e.nftPayloads.length;++r)n.nftPayloads[r]=p.pb.NftPayload.toObject(e.nftPayloads[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.NftPayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.richMediaType="",e.prototype.RichMediaUrl="",e.prototype.ContractAddress="",e.prototype.NftToken="",e.prototype.ModelType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.richMediaType&&Object.hasOwnProperty.call(e,"richMediaType")&&t.uint32(10).string(e.richMediaType),null!=e.RichMediaUrl&&Object.hasOwnProperty.call(e,"RichMediaUrl")&&t.uint32(18).string(e.RichMediaUrl),null!=e.ContractAddress&&Object.hasOwnProperty.call(e,"ContractAddress")&&t.uint32(26).string(e.ContractAddress),null!=e.NftToken&&Object.hasOwnProperty.call(e,"NftToken")&&t.uint32(34).string(e.NftToken),null!=e.ModelType&&Object.hasOwnProperty.call(e,"ModelType")&&t.uint32(40).int32(e.ModelType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.NftPayload;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.richMediaType=e.string();break;case 2:r.RichMediaUrl=e.string();break;case 3:r.ContractAddress=e.string();break;case 4:r.NftToken=e.string();break;case 5:r.ModelType=e.int32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.richMediaType&&e.hasOwnProperty("richMediaType")&&!s.isString(e.richMediaType)?"richMediaType: string expected":null!=e.RichMediaUrl&&e.hasOwnProperty("RichMediaUrl")&&!s.isString(e.RichMediaUrl)?"RichMediaUrl: string expected":null!=e.ContractAddress&&e.hasOwnProperty("ContractAddress")&&!s.isString(e.ContractAddress)?"ContractAddress: string expected":null!=e.NftToken&&e.hasOwnProperty("NftToken")&&!s.isString(e.NftToken)?"NftToken: string expected":null!=e.ModelType&&e.hasOwnProperty("ModelType")&&!s.isInteger(e.ModelType)?"ModelType: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.NftPayload)return e;var t=new p.pb.NftPayload;return null!=e.richMediaType&&(t.richMediaType=String(e.richMediaType)),null!=e.RichMediaUrl&&(t.RichMediaUrl=String(e.RichMediaUrl)),null!=e.ContractAddress&&(t.ContractAddress=String(e.ContractAddress)),null!=e.NftToken&&(t.NftToken=String(e.NftToken)),null!=e.ModelType&&(t.ModelType=0|e.ModelType),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.richMediaType="",n.RichMediaUrl="",n.ContractAddress="",n.NftToken="",n.ModelType=0),null!=e.richMediaType&&e.hasOwnProperty("richMediaType")&&(n.richMediaType=e.richMediaType),null!=e.RichMediaUrl&&e.hasOwnProperty("RichMediaUrl")&&(n.RichMediaUrl=e.RichMediaUrl),null!=e.ContractAddress&&e.hasOwnProperty("ContractAddress")&&(n.ContractAddress=e.ContractAddress),null!=e.NftToken&&e.hasOwnProperty("NftToken")&&(n.NftToken=e.NftToken),null!=e.ModelType&&e.hasOwnProperty("ModelType")&&(n.ModelType=e.ModelType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnNewServerAddr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serverAddr="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.serverAddr&&Object.hasOwnProperty.call(e,"serverAddr")&&t.uint32(10).string(e.serverAddr),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnNewServerAddr;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.serverAddr=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.serverAddr&&e.hasOwnProperty("serverAddr")&&!s.isString(e.serverAddr)?"serverAddr: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnNewServerAddr)return e;var t=new p.pb.OnNewServerAddr;return null!=e.serverAddr&&(t.serverAddr=String(e.serverAddr)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.serverAddr=""),null!=e.serverAddr&&e.hasOwnProperty("serverAddr")&&(n.serverAddr=e.serverAddr),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.CreateOrderAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmd="",e.prototype.value=0,e.prototype.toPlayerId="",e.prototype.seq=0,e.prototype.toAppId="",e.prototype.payload="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.cmd&&Object.hasOwnProperty.call(e,"cmd")&&t.uint32(10).string(e.cmd),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(16).int32(e.value),null!=e.toPlayerId&&Object.hasOwnProperty.call(e,"toPlayerId")&&t.uint32(26).string(e.toPlayerId),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(32).int32(e.seq),null!=e.toAppId&&Object.hasOwnProperty.call(e,"toAppId")&&t.uint32(42).string(e.toAppId),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(50).string(e.payload),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.CreateOrderAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.cmd=e.string();break;case 2:r.value=e.int32();break;case 3:r.toPlayerId=e.string();break;case 4:r.seq=e.int32();break;case 5:r.toAppId=e.string();break;case 6:r.payload=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.cmd&&e.hasOwnProperty("cmd")&&!s.isString(e.cmd)?"cmd: string expected":null!=e.value&&e.hasOwnProperty("value")&&!s.isInteger(e.value)?"value: integer expected":null!=e.toPlayerId&&e.hasOwnProperty("toPlayerId")&&!s.isString(e.toPlayerId)?"toPlayerId: string expected":null!=e.seq&&e.hasOwnProperty("seq")&&!s.isInteger(e.seq)?"seq: integer expected":null!=e.toAppId&&e.hasOwnProperty("toAppId")&&!s.isString(e.toAppId)?"toAppId: string expected":null!=e.payload&&e.hasOwnProperty("payload")&&!s.isString(e.payload)?"payload: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.CreateOrderAPI)return e;var t=new p.pb.CreateOrderAPI;return null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.value&&(t.value=0|e.value),null!=e.toPlayerId&&(t.toPlayerId=String(e.toPlayerId)),null!=e.seq&&(t.seq=0|e.seq),null!=e.toAppId&&(t.toAppId=String(e.toAppId)),null!=e.payload&&(t.payload=String(e.payload)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.cmd="",n.value=0,n.toPlayerId="",n.seq=0,n.toAppId="",n.payload=""),null!=e.cmd&&e.hasOwnProperty("cmd")&&(n.cmd=e.cmd),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),null!=e.toPlayerId&&e.hasOwnProperty("toPlayerId")&&(n.toPlayerId=e.toPlayerId),null!=e.seq&&e.hasOwnProperty("seq")&&(n.seq=e.seq),null!=e.toAppId&&e.hasOwnProperty("toAppId")&&(n.toAppId=e.toAppId),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=e.payload),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.CreateOrderReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.CreateOrderReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.CreateOrderReply)return e;var t=new p.pb.CreateOrderReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.SetGameSettingAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.setting="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.setting&&Object.hasOwnProperty.call(e,"setting")&&t.uint32(10).string(e.setting),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.SetGameSettingAPI;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.setting=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.setting&&e.hasOwnProperty("setting")&&!s.isString(e.setting)?"setting: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.SetGameSettingAPI)return e;var t=new p.pb.SetGameSettingAPI;return null!=e.setting&&(t.setting=String(e.setting)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.setting=""),null!=e.setting&&e.hasOwnProperty("setting")&&(n.setting=e.setting),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.SetGameSettingReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.SetGameSettingReply;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!s.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof p.pb.SetGameSettingReply)return e;var t=new p.pb.SetGameSettingReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u.OnSetGameSetting=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.setting="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=d.create()),null!=e.setting&&Object.hasOwnProperty.call(e,"setting")&&t.uint32(10).string(e.setting),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.pb.OnSetGameSetting;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.setting=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.setting&&e.hasOwnProperty("setting")&&!s.isString(e.setting)?"setting: string expected":null},e.fromObject=function(e){if(e instanceof p.pb.OnSetGameSetting)return e;var t=new p.pb.OnSetGameSetting;return null!=e.setting&&(t.setting=String(e.setting)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.setting=""),null!=e.setting&&e.hasOwnProperty("setting")&&(n.setting=e.setting),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e}(),u),o.exports=p,e("default",o.exports)}));e("__cjsMetaURL",t.meta.url)}}}));

System.register("chunks:///_virtual/AutoLoadSprite.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){"use strict";var i,a,o,n,e,s;return{setters:[function(t){i=t.inheritsLoose,a=t.defineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,e=t.resources},function(t){s=t.default}],execute:function(){n._RF.push({},"a274aHSwbdFdqf4xECLlgSR","AutoLoadSprite",void 0);t("default",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return i=t.call.apply(t,[this].concat(e))||this,a(o(i),"paths",void 0),a(o(i),"callback",void 0),i}i(n,t);var s=n.prototype;return s.add=function(t){this.paths.push(t)},s.start=function(t){this.callback=t,this.load()},s.load=function(){var t=this,i=this.paths.pop();i?e.load(i,(function(i,a){i||t.load()})):this.callback&&this.callback()},n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/RemotConfigEffect.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,o,r,a,i,s,c,u,l,f;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized,a=n.defineProperty,i=n.asyncToGenerator},function(n){s=n.cclegacy,c=n._decorator,u=n.dragonBones,l=n.Component,f=n.Vec3}],execute:function(){var d,g,p,m,h;s._RF.push({},"a5bfaIbCdJLJr/Rhh1IhqTg","RemotConfigEffect",void 0);var y=c.ccclass,E=c.property;n("RemotConfigEffect",(d=y("RemotConfigEffect"),g=E(u.ArmatureDisplay),d((h=e((m=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e=n.call.apply(n,[this].concat(i))||this,o(r(e),"dragonBones",h,r(e)),a(r(e),"_data",null),e}t(e,n);var s=e.prototype;return s.init=function(n){this._data=n,console.log("init dragon effect"),console.log("dragonSkeleton ==== ",n.dragonSkeleton),console.log("dragonAtlasAsset ==== ",n.dragonAtlasAsset),console.log("animatureName ==== ",n.animatureName),console.log("animationName ==== ",n.animationName),this.dragonBones.dragonAsset=n.dragonSkeleton,this.dragonBones.dragonAtlasAsset=n.dragonAtlasAsset,this.dragonBones.armatureName="Armature"},s.onLoad=function(){console.log("RemotConfigEffect onLoad")},s.onDestroy=function(){console.log("RemotConfigEffect onDestroy")},s.initAndPlay=function(){var n=i(regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.init(e),n.next=3,this.playEffectAndWaitEnd();case 3:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),s.playEffectAndWaitEnd=function(){var n=i(regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===e&&(e=1),e&&this.node.setScale(new f(e,e,e)),n.next=4,this.playToEnd();case 4:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),s.playToEnd=function(){var n=i(regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,t){e.dragonBones.addEventListener(u.EventObject.COMPLETE,(function(t){t.type==u.EventObject.COMPLETE&&(e.node.destroy(),n(!0))}),e),console.log("playToEnd ============================== "),e.dragonBones.playAnimation("newAnimation",1)})));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e}(l)).prototype,"dragonBones",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=m))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./UIMgr.ts"],(function(e){"use strict";var t,n,o,i,r,s,a,c,d,l,u,p,h,f,g,m,C,v,w,k,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.defineProperty,i=e.assertThisInitialized,r=e.initializerDefineProperty,s=e.asyncToGenerator},function(e){a=e.cclegacy,c=e._decorator,d=e.js,l=e.Widget,u=e.UITransform,p=e.Vec3,h=e.view,f=e.Node,g=e.Sprite,m=e.Color,C=e.UIOpacity,v=e.director,w=e.Component},function(e){k=e.Const},function(e){y=e.default}],execute:function(){var N,B,x;a._RF.push({},"a73167ch/1O+JzmL00NcyDP","BaseView",void 0);var S=c.ccclass,b=c.property;c.executeInEditMode,e("default",S("BaseView")((x=t((B=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,o(i(t),"sdkViewConfigs",d.createMap()),o(i(t),"nodes",d.createMap()),r(i(t),"quickClose",x,i(t)),o(i(t),"viewInfo",null),o(i(t),"externalCanControlledNodes",d.createMap()),t}n(t,e);var a=t.prototype;return a.adapt=function(){this.nodes.bg;var e=this.nodes.root;this.node.getComponent(l)||(this.node.addComponent(l),this.node.getComponent(l).isAlignLeft=!0,this.node.getComponent(l).isAlignBottom=!0,this.node.getComponent(l).isAlignTop=!0,this.node.getComponent(l).isAlignRight=!0,this.node.getComponent(l).top=0,this.node.getComponent(l).left=0,this.node.getComponent(l).bottom=0,this.node.getComponent(l).right=0,this.node.getComponent(l).updateAlignment());var t=y.getIns().getGameViewSize();if(e){e.getComponent(u)||e.addComponent(u),e.getComponent(u).setContentSize(t.width,t.height),e.position=new p(t.x/h.getScaleX(),t.y/h.getScaleY(),0);for(var n=e.getComponentsInChildren(l),o=0;o<n.length;o++){n[o].updateAlignment()}}h.getVisibleSize()},a.addBlackBg=function(e){var t=new f;t.addComponent(u),t.addComponent(l),t.getComponent(l).isAlignLeft=!0,t.getComponent(l).isAlignBottom=!0,t.getComponent(l).isAlignTop=!0,t.getComponent(l).isAlignRight=!0,t.getComponent(l).top=0,t.getComponent(l).left=0,t.getComponent(l).bottom=0,t.getComponent(l).right=0,t.addComponent(g),t.getComponent(g).spriteFrame=e,t.getComponent(g).color=m.BLACK,t.addComponent(C),t.getComponent(C).opacity=180,t.getComponent(l).updateAlignment(),this.node.insertChild(t,-2)},a.setMaskHide=function(){var e=this.node.getChildByName("mask");console.log("------BaseView---setMaskHide--mask:",e),e&&(e.getComponent(C)||e.addComponent(C),e.getComponent(C).opacity=0);var t=this.node.getChildByName("root");if(console.log("------BaseView---setMaskHide--root:",t),t&&t.getChildByName("mask")){var n=t.getChildByName("mask");console.log("------BaseView---setMaskHide--root_mask:",n),n.getComponent(C)||n.addComponent(C),n.getComponent(C).opacity=0}},a.onQuickClose=function(){this.closeSelf()},a.load=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.parseNode=function(){this._parseNodes(this.node,"")},a._parseNodes=function(e,t){void 0===t&&(t="");for(var n=e.children,o=0;o<n.length;o++){var i=n[o],r=i.name;-1!=r.indexOf(k.CanControlledName)&&(this.externalCanControlledNodes[r]?this.externalCanControlledNodes[r].push(i):this.externalCanControlledNodes[r]=[i]);var s=t+r;this.nodes[s]=i,this._parseNodes(i,s+"/")}},a.seekChildByName=function(e){return this._seekChildByName(this.node,e)},a._seekChildByName=function(e,t){var n,o=e.children;if(e.name==t)return e;for(var i=0;i<o.length;i++){var r=o[i];if(n=this._seekChildByName(r,t))break}return n},a.init=function(e){},a.beforeShow=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.refresh=function(e){},a.afterShow=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adapt(),this.addEventListeners();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.refreshUI=function(e){this.sdkViewConfigs=e,e.game_bg&&e.game_bg.hide||v.getScene().getComponentInChildren(g)&&(v.getScene().getComponentInChildren(g).node.active=!0);var t=this.viewInfo.sdkViewConfigName||this.viewInfo.name;if(e[t]&&e[t].hide)return this.node.active=!1,void this.hideSelfCallback();for(var n in this.externalCanControlledNodes){var o=n.replace(k.CanControlledName,"");if(e[o]&&e[o].hide)for(var i=0;i<this.externalCanControlledNodes[n].length;i++)this.externalCanControlledNodes[n][i].active=!1,Object.defineProperty(this.externalCanControlledNodes[n][i],"active",{set:function(e){}})}},a.isClickBackStatus=function(e){var t=e.replace(k.CanControlledName,"");return!(!this.sdkViewConfigs[t]||!this.sdkViewConfigs[t].custom)},a.hideSelfCallback=function(){},a.beforeClose=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.removeEventListeners();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.isFullShow=function(){return!0},a.close=function(){this.node.destroy()},a.closeSelf=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.getIns().closeView(this.viewInfo,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.afterClose=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addEventListeners=function(){},a.removeEventListeners=function(){},t}(w)).prototype,"quickClose",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=B))||N);a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseLoginView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./NetMgr.ts","./UIMgr.ts","./BaseView.ts","./BaseLobbyCtrl.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,o,s,i,r,a,c,u,g;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator},function(e){i=e.Const},function(e){r=e.EventDispatcher},function(e){a=e.default},function(e){c=e.default},function(e){u=e.default},function(e){g=e.BaseLobbyCtrl},null],execute:function(){var l;o._RF.push({},"a77f4jEao1MpJFvDjqW6LYY","BaseLoginView",void 0);var f=s.ccclass;s.property,e("default",f("BaseLoginView")(l=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var s=o.prototype;return s.addEventListeners=function(){e.prototype.addEventListeners.call(this),r.getIns().on(i.Event.UI.SHOW_LOADING_GAME_UI,this.showLoadingGame,this),a.getIns().onEventMsg(a.getIns().getCmd().OnPlayerLogin,this.onPlayerLogin,this)},s.removeEventListeners=function(){e.prototype.removeEventListeners.call(this),r.getIns().off(i.Event.UI.SHOW_LOADING_GAME_UI,this.showLoadingGame,this),a.getIns().offEventMsg(a.getIns().getCmd().OnPlayerLogin,this.onPlayerLogin,this)},s.onPlayerLogin=function(){var e=n(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.getIns().enter(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.showLoadingGame=function(e,t){console.log("---BaseLoginView---showLoadingGame----data:",e),c.getIns().showView(i.CommonUIConfig.LoadingGame,{gameData:e,callback:t})},o}(u))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoot.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./NetMgr.ts","./PlayerMgr.ts","./sdk.ts","./UIMgr.ts","./AudioMgr.ts","./BaseLobbyCtrl.ts","./FpsMgr.ts","./FrameWork.ts","./AudioConst.ts","./GameCmd.ts","./UIConfig.ts","./GameConst.ts","./GameCtrl.ts","./proto.js","./proto.mjs_cjs=&original=.js","./GameUtils.ts"],(function(e){"use strict";var t,o,n,a,s,i,r,g,l,m,c,f,u,d,p,I,h,y,C,L,G,b,P,M;return{setters:[function(e){t=e.inheritsLoose,o=e.asyncToGenerator},function(e){n=e.cclegacy,a=e._decorator,s=e.Size,i=e.Component},function(e){r=e.Const},function(e){g=e.EventDispatcher},function(e){l=e.default},function(e){m=e.default},function(e){c=e.sdk},function(e){f=e.default},function(e){u=e.AudioMgr},function(e){d=e.BaseLobbyCtrl},function(e){p=e.default},function(e){I=e.FrameWork},function(e){h=e.AudioConst},function(e){y=e.GameCmd},function(e){C=e.default},function(e){L=e.GameSceneState,G=e.MODE_TYPE},function(e){b=e.GameCtrl},function(e){P=e.default},null,function(e){M=e.GameUtils}],execute:function(){var w;n._RF.push({},"ab2bee6CbZLWrs2ZyGTWq1V","GameRoot",void 0);var O=a.ccclass;a.property,e("GameRoot",O("GameRoot")(w=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.start=function(){this.addEvents(),this.initFrameWork()},a.initFrameWork=function(){var e=this;I.init({root:this.node,designResolutionSize:new s(1080,1080),cmd:y,gameUIConfig:C.GameView,alertUIConfig:C.Alert,protoList:[P],loginSuffixURL:"ludo",isHideCustLog:!0,uiConfigs:{LobbyGameSetPrefabPath:"prefab/lobby/game_set",LobbyOtherBtnPrefabPath:"prefab/lobby/OtherBtn",LobbyUserInfoPrefabPath:"prefab/common/UserInfo",LobbyBtnListPrefabPath:"prefab/common/LobbyBtnList",LobbyLobbyPlayersPrefabPath:"prefab/common/LobbyPlayers"},testLoginUrl:"https://dev-game.s00.tech",version:1,isShowLobbyPlayerName:!0,newLogo:"newLogo"},(function(){l.getIns().onEventMsg(y.OnPlayerLogin,e.onPlayerLogin,e),l.getIns().onEventMsg(y.OnGameReady,e.onGameReady,e),b.getIns().addEvents()}))},a.onGameReady=function(){},a.addEvents=function(){console.log("GameRoot addEvents-------"),g.getIns().on(r.Event.UI.LOAD_GAME_UI_COMPILE,this.onShowLoadGameView,this),g.getIns().on(r.Event.Common.CLICK_HELP_BUTTON,this.onClickHelpBtn,this),g.getIns().on(r.Event.Common.CLICK_SETTING_BUTTON,this.onClickSettingBtn,this),g.getIns().on(r.Event.Common.CLICK_BUTTON,this.onClickBtn,this),g.getIns().on(r.Event.Common.CLICK_USERINFO_BUTTON,this.showUserInfoView,this)},a.removeEvents=function(){g.getIns().off(r.Event.UI.LOAD_GAME_UI_COMPILE,this.onShowLoadGameView,this),g.getIns().off(r.Event.Common.CLICK_SETTING_BUTTON,this.onClickSettingBtn,this),g.getIns().off(r.Event.Common.CLICK_BUTTON,this.onClickBtn,this),l.getIns().offEventMsg(y.OnPlayerLogin,this.onPlayerLogin,this)},a.onClickHelpBtn=function(){console.log("onCLickHelpBtn----------------"),f.getIns().showView(C.Help)},a.onClickSettingBtn=function(){console.log("onClickSettingBtn--------------")},a.onClickBtn=function(e){console.log("onClickBtn==================="),(!e||"cide"!=e.target.name&&"chessbg"!=e.target.name)&&u.getIns().playSound(h.click)},a.onShowLoadGameView=function(){var e=o(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("gameData 00000 === ",JSON.stringify(t.gameData)),t.gameData.params.slice(0),o=M.cloneObj(t.gameData),console.log("gameData 11111 === ",JSON.stringify(o)),b.getIns().init(o),console.log("gameData 22222 === ",JSON.stringify(o)),console.log("开始显示游戏界面========================================"),e.next=9,f.getIns().closeAllViewExcept([]);case 9:return e.next=11,f.getIns().showView(C.GameView,{data:o});case 11:console.log("结束显示游戏界面========================================"),f.getIns().closeAllViewExcept([C.GameView]),b.getIns().startGame(),b.getIns().setHanleMessageComplete();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.showUserInfoView=function(){f.getIns().showView(C.LevelInfo)},a.onPlayerLogin=function(e){console.log("GameRoot onPlayerLogin--------",JSON.stringify(e));var t=this.parseLoginDefaultDisplay(),o=this.parseLoginGameModeInfo(t);e.game.params&&0!=e.game.params.length?b.getIns().model.params=e.game.params.slice(0):(console.log("GameRoot setParams == ",JSON.stringify(o)),b.getIns().reqSetType({type:o.mode,planeNum:o.planeNum,isItem:o.isItem})),b.getIns().uiCustomConfig&&c.notifyAppChangeGameStatus(r.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_ui_custom_config,{}),console.log("data.game.state == ",e.game.state),console.log("GameSceneState.idle == ",L.idle),e.game.state!=L.loaded&&e.game.state!=L.idle&&e.game.players&&0!=e.game.players.length?(console.log("GameRoot onPlayerLogin 1111111 "),this.onShowLoadGameView({gameData:e.game})):(console.log("GameRoot onPlayerLogin 0000000 "),d.getIns().enter(e))},a.parseLoginDefaultDisplay=function(){var e={},t=[0,1];return m.getIns().gameModeInfo&&(e=m.getIns().gameModeInfo)&&e.hasOwnProperty("defaultDisplay")&&(t=e.defaultDisplay),b.getIns().defaultDisplay=t,t},a.parseLoginGameModeInfo=function(e){var t={},o=0,n=2,a=0,s=15,i=0,r=[0,1,2,4,8,16];return console.log("sdk.getGameMode == ",c.getGameMode()),console.log("GameRoot parseLoginGameModeInfo PlayerMgr.getIns().gameModeInfo == ",JSON.stringify(m.getIns().gameModeInfo)),m.getIns().gameModeInfo&&(t=m.getIns().gameModeInfo)&&(t.hasOwnProperty("mode")&&(o=t.mode),t.hasOwnProperty("chessNum")&&(n=t.chessNum),t.hasOwnProperty("item")&&(a=t.item),t.hasOwnProperty("roundTime")&&(s=t.roundTime),t.hasOwnProperty("totalTime")&&t.totalTime,t.hasOwnProperty("reroll")&&(i=t.reroll),t.hasOwnProperty("price")&&(r=t.price),t.hasOwnProperty("gameUiCustomConfig")&&(b.getIns().uiCustomConfig=t.gameUiCustomConfig)),b.getIns().roundTime=s,-1==e.indexOf(o)&&(o=-1!=e.indexOf(G.RaceModeQuick)?G.RaceModeQuick:-1!=e.indexOf(G.RaceModeClassic)?G.RaceModeClassic:-1!=e.indexOf(G.RaceModeCompetition)?G.RaceModeCompetition:G.RaceModeQuick),b.getIns().reroll=i,b.getIns().price=r,{mode:o,planeNum:n,isItem:a}},a.update=function(e){m.getIns().gameModeInfo&&m.getIns().gameModeInfo.fps&&p.getIns().update(e)},n}(i))||w);n._RF.pop()}}}));

System.register("chunks:///_virtual/Http.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"abb50Tri7lLorRiRyGQYRbd","Http",void 0);e("default",function(){function e(){}return e.get=function(e,t,r){var s=new XMLHttpRequest;if(s.timeout=r||2e4,e.hasOwnProperty("responseType")&&(s.responseType=e.responseType),s.onreadystatechange=function(){var e;4===s.readyState&&(200===s.status?(e="arraybuffer"===s.responseType?s.response:s.responseText,t&&t(200,e)):t&&t(s.status,s.responseText))},s.onerror=function(){t&&t(501,"",e.url+" http ger error")},s.ontimeout=function(){t&&t(502,"",e.url+" http get timeout")},e.hasOwnProperty("headers"))for(var n in e.headers)s.setRequestHeader(n,e.headers[n]);s.open("GET",e.url,!0),s.send()},e.post=function(e,t,r){var s=new XMLHttpRequest;if(s.timeout=r||2e4,e.hasOwnProperty("responseType")&&(s.responseType=e.responseType),s.onreadystatechange=function(){var e;4===s.readyState&&(200===s.status?(e="arraybuffer"===s.responseType?s.response:s.responseText,t&&t(200,e)):t&&t(s.status,s.responseText))},s.onerror=function(){t&&t(502,e.url+" http post error")},s.ontimeout=function(){t&&t(503,e.url+" http post timeout")},s.open("POST",e.url,!0),s.setRequestHeader("Content-type","application/json"),e.hasOwnProperty("headers"))for(var n in e.headers)s.setRequestHeader(n,e.headers[n]);if(e.hasOwnProperty("data")){var o=JSON.stringify(e.data);s.send(o)}else s.send(null)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/NetMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseCmd.ts","./Const.ts","./Singleton.ts","./EventDispatcher.ts","./ProtoMgr.ts","./SocketMgr.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,s,i,a,o,r,c,h,l,u,g,I,d;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,s=t.assertThisInitialized},function(t){i=t.cclegacy,a=t.error,o=t.js},function(t){r=t.BaseCmd},function(t){c=t.Const,h=t.ReqResultType},function(t){l=t.default},function(t){u=t.EventDispatcher},function(t){g=t.default},function(t){I=t.SocketMgr},function(t){d=t.FrameWork}],execute:function(){i._RF.push({},"abd18FZFrZLoY7bgg6dHxzw","NetMgr",void 0);t("default",function(t){function i(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(s(e),"req",1),n(s(e),"callbackMap",o.createMap()),n(s(e),"msgCache",[]),n(s(e),"canDispatch",!0),n(s(e),"cmd",void 0),n(s(e),"updateHandlerId",void 0),n(s(e),"heartbeatInterverId",0),n(s(e),"heartbeatTimeoutId",0),n(s(e),"heartbeatTimeout",1e4),e}e(i,t);var l=i.prototype;return l.init=function(){var t=this;this.addEvents(),this.updateHandlerId&&clearInterval(this.updateHandlerId),this.updateHandlerId=setInterval((function(e){t.update()}),20)},l.connect=function(t){I.getIns().connect(t)},l.addEvents=function(){u.getIns().on(c.Event.SOCKET.CONNECT_SUC,this.onConnect,this),u.getIns().on(c.Event.SOCKET.CONNECTING,this.onConnecting,this),u.getIns().on(c.Event.SOCKET.CONNECT_FAIL,this.onConnectFail,this),u.getIns().on(c.Event.SOCKET.DISCONNECT,this.onClosed,this),u.getIns().on(c.Event.SOCKET.MESSAGE,this.onRecvMsg,this)},l.removeEvents=function(){u.getIns().off(c.Event.SOCKET.CONNECT_SUC,this.onConnect,this),u.getIns().off(c.Event.SOCKET.CONNECTING,this.onConnecting,this),u.getIns().off(c.Event.SOCKET.CONNECT_FAIL,this.onConnectFail,this),u.getIns().off(c.Event.SOCKET.DISCONNECT,this.onClosed,this),u.getIns().off(c.Event.SOCKET.MESSAGE,this.onRecvMsg,this)},l.onConnect=function(t){d.log("服务器连接成功...",t),u.getIns().emit(c.Event.Common.HIDE_REQUEST_MASK),this.reset(),this.heartbeat(),u.getIns().emit(c.Event.Net.CONNECT_SUC,t)},l.onConnecting=function(t){d.log("服务器连接中...",t),u.getIns().emit(c.Event.Net.CONNECTING,t)},l.onConnectFail=function(){d.log("服务器连接失败..."),u.getIns().emit(c.Event.Net.CONNECT_FAIL)},l.onClosed=function(t){d.log("与服务器连接断开...",t),u.getIns().emit(c.Event.Net.DISCONNECT,t)},l.onRecvMsg=function(t){var e=new DataView(t),n=new Uint8Array(t),s=e.getUint16(0,!1),i=e.getUint8(2),o=e.getUint32(3,!1),l=e.getUint16(7,!1),I=e.getUint16(9,!1),f=n.subarray(11),C=r[l]||this.cmd[l];C||a("not find msgId==>>>>>",l),i==h.yes&&(C+="Reply");var E=g.getIns().getDecodeMsgBuf(C,f),v={start:s,type:i,sn:o,fn:l,dataLen:I,msg:E,cmdName:C};if(l!=r.Heartbeat)if(r[l]||d.log("onRecvMsg=========>",C,E),this.callbackMap[o]&&i==h.yes){(null==E?void 0:E.resultCode)&&E.resultCode!=c.SERVER_RESULT_CODE.SUCCESS&&u.getIns().emit(c.Event.MSG.REQ_FAIL,E.resultCode,v);var m=this.callbackMap[o].callback;this.callbackMap[o].isMask&&u.getIns().emit(c.Event.Common.HIDE_REQUEST_MASK),m&&m(E),delete this.callbackMap[o]}else this.msgCache.push(v);else this.heartbeat()},l.clear=function(){this.callbackMap=o.createMap(),this.req=1,this.canDispatch=!1,this.msgCache=[],this.heartbeatInterverId&&clearInterval(this.heartbeatInterverId),this.heartbeatTimeoutId&&clearInterval(this.heartbeatTimeoutId)},l.reset=function(){this.callbackMap=o.createMap(),this.canDispatch=!0,this.msgCache=[],this.heartbeatInterverId&&clearInterval(this.heartbeatInterverId),this.heartbeatTimeoutId&&clearInterval(this.heartbeatTimeoutId)},l.heartbeat=function(){var t=this;this.heartbeatInterverId&&clearInterval(this.heartbeatInterverId),this.heartbeatTimeoutId&&clearInterval(this.heartbeatTimeoutId),this.heartbeatInterverId=setTimeout((function(){t.request(r.Heartbeat,{}),t.heartbeatTimeoutId=setTimeout((function(){t.close("心跳超時>>>>>>")}),t.heartbeatTimeout)}),this.heartbeatTimeout)},l.send=function(t,e){this.request(t,e)},l.request=function(t,e,n,s){void 0===s&&(s=!1);var i=h.yes,a=this.req++,o=t,l=(r[t]||this.cmd[t])+"API",f=g.getIns().getEnCodeMsgBuf(l,e);if(r[t]||d.log("request massge >>>>>>",t,l,JSON.stringify(e)),null!=f){var C=f.length,E=f.length+2+1+4+2+2,v=new ArrayBuffer(E),m=new Uint8Array(v),T=new DataView(v);T.setUint16(0,29298,!1),T.setUint8(2,i),T.setUint32(3,a,!1),T.setUint16(7,o,!1),T.setUint16(9,C,!1),m.set(f,11),I.getIns().sendData(v),s&&u.getIns().emit(c.Event.Common.SHOW_REQUEST_MASK),this.callbackMap[a]={callback:n,isMask:s},this.req>1e3&&(this.req=1)}else d.log("NetManager msgBuf === null")},l.setCmd=function(t){this.cmd=t},l.getCmd=function(){return this.cmd},l.close=function(t){d.log("NetManager closeSocket....",t),I.getIns().closeSocket(),this.clear()},l.update=function(){if(this.canDispatch&&this.msgCache.length>0){var t=this.msgCache.shift();u.getIns().emit(t.cmdName,t.msg)}},l.onEvent=function(t,e){u.getIns().on(t,e,this)},l.offEvent=function(t,e){u.getIns().off(t,e,this)},l.onEventMsg=function(t,e,n){var s=this.cmd[t];u.getIns().on(s,e,n)},l.offEventMsg=function(t,e,n){var s=this.cmd[t];u.getIns().off(s,e,n)},i}(l));i._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsPingMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./EventDispatcher.ts","./Http.ts","./PlayerMgr.ts","./sdk.ts","./FrameWork.ts"],(function(t){"use strict";var i,n,e,s,a,o,_,r,h,c;return{setters:[function(t){i=t.inheritsLoose,n=t.defineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy},function(t){a=t.Const},function(t){o=t.default},function(t){_=t.EventDispatcher},function(t){r=t.default},function(t){h=t.default},function(t){c=t.sdk},null],execute:function(){s._RF.push({},"aefeeVcZGxKJ669y5GS8MWP","StatisticsPingMgr",void 0);t("StatisticsPingMgr",function(t){function s(){for(var i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,n(e(i),"_min",0),n(e(i),"_max",0),n(e(i),"_average",0),n(e(i),"_times",0),n(e(i),"_sdkInfo",null),n(e(i),"_netType",0),n(e(i),"_count",0),i}i(s,t);var o=s.prototype;return o.init=function(t){this._sdkInfo=t,this.addEventListener(),c.getNetType()},o.addEventListener=function(){_.getIns().on(a.Event.MSG.SYNC_PING_VALUE,this.onUpdateNetMs,this),_.getIns().on(a.Event.Sdk.CHANGE_NET_STATUS,this.onNetChange,this)},o.removeEventListener=function(){_.getIns().off(a.Event.MSG.SYNC_PING_VALUE,this.onUpdateNetMs,this),_.getIns().on(a.Event.Sdk.CHANGE_NET_STATUS,this.onNetChange,this)},o.onUpdateNetMs=function(t){this.statistics(t.value),this._count++%20==0&&c.getNetType()},o.onNetChange=function(t){0==t.ret_code&&(this._netType=t.net_type)},o.statistics=function(t){(0==this._min||t<this._min)&&(this._min=t),this._times++,(0==this._max||t>this._max)&&(this._max=t),0==this._average?this._average=t:this._average=Math.floor((this._average+t)/2*100)/100},o.uploadPing=function(t){var i=this;if(this._sdkInfo&&this._sdkInfo.mg_api_cfg&&this._sdkInfo.mg_api_cfg.report_url){var n={url:this._sdkInfo.mg_api_cfg.report_url,data:{event:0,payload:JSON.stringify({app_id:this._sdkInfo.app_id,mg_id:this._sdkInfo.mg_id_str,round_id:t,uid:h.getIns().getSelfData().playerId,net_type:this._netType,min:this._min+"",max:this._max+"",avg:this._average+"",times:this._times+""})}};r.post(n,(function(t,e){console.log("uploadPing status == "+t+", txt == "+e+", params = "+JSON.stringify(n)),i.clear()}))}},o.clear=function(){this._max=0,this._min=0,this._average=0,this._times=0},s}(o));s._RF.pop()}}}));

System.register("chunks:///_virtual/IconManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./EventDispatcher.ts","./NetMgr.ts"],(function(e){"use strict";var t,a,n,o,r,i,c,s,l,g,h,d;return{setters:[function(e){t=e.inheritsLoose,a=e.defineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,i=e.assetManager,c=e.SpriteFrame,s=e.Texture2D,l=e.ImageAsset},function(e){g=e.default},function(e){h=e.EventDispatcher},function(e){d=e.default}],execute:function(){var u;o._RF.push({},"af1c1FziKZNvpM4KEgtwCdF","IconManager",void 0);var I=r.ccclass;r.property,e("IconManager",I("IconManager")(u=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,a(n(t),"_spriteFrmCache",{}),t}t(o,e);var r=o.prototype;return r.init=function(){console.log("IconManager init------------------------------"),h.getIns().on(d.getIns().getCmd().onPlayerLeave,this.onPlayerLeaveRoom,this)},r.reset=function(){h.getIns().off(d.getIns().getCmd().onPlayerLeave,this.onPlayerLeaveRoom,this)},r.onPlayerLeaveRoom=function(e){console.log("IconManager onPlayerLeaveRoom ================= ");var t=e.uniqueId;this.deletePlayerIcon(t)},r.deletePlayerIcon=function(e){console.log("deletePlayerIcon before === ",this._spriteFrmCache),delete this._spriteFrmCache[e],console.log("deletePlayerIcon after === ",this._spriteFrmCache)},r.getSpriteFrmById=function(e){var t=this._spriteFrmCache[e];return t&&console.log("IconManager has "+e+" sp-------"),t},r.loadIcon=function(e,t){var a=this;console.log("IconManager loadIcon =========================================="),i.loadRemote(t,{ext:".jpg"},(function(n,o){if(n)console.log("IconManager load avatar err == ",n);else if(o){if(console.log("IconManager load avatar assset ==== ",o),!n){var r=new c,i=new s;if(Math.abs(o.width-o.height)>=10||Math.abs(o.width/o.height-1)>=.1){var g=document.createElement("canvas");g.width=o.width,g.height=o.height;var h=g.getContext("2d"),d=new Image;d.src=t,d.onload=function(){h.drawImage(d,0,0,o.width,o.height);var t=document.createElement("canvas"),n=o.width<o.height?o.width:o.height;t.width=n,t.height=n;var c=t.getContext("2d"),s=h.getImageData((o.width-n)/2,(o.height-n)/2,n,n);c.putImageData(s,0,0);var g=new l;g.reset(t),i.image=g,r.texture=i,a._spriteFrmCache[e]=r}}else i.image=o,r.texture=i,a._spriteFrmCache[e]=r;console.log("IconManager loadIcon succ----------------------")}}else console.log("IconManager load avatar err........")}))},o}(g))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,i,o,r,c,s;return{setters:[function(e){n=e.inheritsLoose,t=e.defineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,c=e.Button,s=e.Component}],execute:function(){var a;o._RF.push({},"b17b0tjaUJO6LVHYfromxUR","UIBase",void 0);var l=r.ccclass;r.property,e("UIBase",l("UIBase")(a=function(e){function o(){for(var n,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=e.call.apply(e,[this].concat(r))||this,t(i(n),"view",{}),n}n(o,e);var r=o.prototype;return r.loadAllNodeInView=function(e,n){for(var t=0;t<e.children.length;t++)this.view[n+e.children[t].name]=e.children[t],this.loadAllNodeInView(e.children[t],n+e.children[t].name+"/")},r.onLoad=function(){},r.initViewNode=function(){this.view={},this.loadAllNodeInView(this.node,"")},r.addButtonListener=function(e,n,t){var i=this.view[e];i&&(i.getComponent(c)&&i.on("click",n,t))},r.hide=function(){this.node.active=!1},r.show=function(){this.node.active=!0},r.onDestroy=function(){this.view={}},o}(s))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayerItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./PlayerMgr.ts","./sdk.ts","./AudioMgr.ts","./FrameWork.ts","./AudioConst.ts","./GameConst.ts","./GameUICustomConfig.ts","./GameCtrl.ts","./UIBase.ts","./Cide.ts","./ThrowCidePnl.ts","./TurnAnimation.ts","./DragonEffectMgr.ts","./chess.ts","./Prop.ts","./RemotConfigEffect.ts","./Head.ts","./GameView.ts"],(function(e){"use strict";var t,n,o,i,r,s,a,l,h,c,u,d,p,f,g,m,_,P,y,v,w,I,C,x,b,S,R,k,T,N,A,D,E,M,G;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator},function(e){r=e.cclegacy,s=e._decorator,a=e.resources,l=e.Label,h=e.UITransform,c=e.Size,u=e.Mask,d=e.instantiate,p=e.v3,f=e.tween,g=e.Vec3},function(e){m=e.Const},function(e){_=e.default},function(e){P=e.sdk},function(e){y=e.AudioMgr},function(e){v=e.FrameWork},function(e){w=e.AudioConst},function(e){I=e.GamePlayerState},function(e){C=e.GameUICustomConfig},function(e){x=e.GameCtrl},function(e){b=e.UIBase},function(e){S=e.Cide},function(e){R=e.ThrowCidePnl},function(e){k=e.TurnAnimation},function(e){T=e.DragonEffectMgr,N=e.EffectConfig},function(e){A=e.Chess},function(e){D=e.Prop},function(e){E=e.RemotConfigEffect},function(e){M=e.Head},function(e){G=e.GameView}],execute:function(){var B;r._RF.push({},"b1bd2r9q5hDAqddNE4CwbiX","GamePlayerItem",void 0);var V=s.ccclass,q=(s.property,1e3);e("GamePlayerItem",V("GamePlayerItem")(B=function(e){function r(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(o(t),"_gameView",null),n(o(t),"_gameViewSc",null),n(o(t),"_chessPnl",null),n(o(t),"_players",[]),n(o(t),"_playerInfo",null),n(o(t),"_playerIndex",0),n(o(t),"_playerNodeIndex",0),n(o(t),"_head",null),n(o(t),"_throwCide",null),n(o(t),"_playerName",null),n(o(t),"_hasPointsPnl",null),n(o(t),"_pointNode",null),n(o(t),"_hasPoints",[]),n(o(t),"_homeSeatPos",[]),n(o(t),"_planes",[]),n(o(t),"_desPos",[]),n(o(t),"_graphics",null),n(o(t),"_points",[]),n(o(t),"_paths",[]),n(o(t),"_bombPath",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52]),n(o(t),"_otherRerollTimerId",null),n(o(t),"_turnAnimation",null),n(o(t),"planeMoveDt",.2),n(o(t),"bombMoveDt",.075),n(o(t),"magnetMoveDt",.075),n(o(t),"_rerollTimeoutCb",null),n(o(t),"_remoteDragonEffectPf",null),t}t(r,e);var s=r.prototype;return s.loadRemoteDragonEffectPf=function(){var e=this;this._remoteDragonEffectPf||a.load("prefab/effect/RemotConfigEffect",(function(t,n){t&&console.log("GamePlayerItem loadRemoteDragonEffectPf err == ",t),console.log("GamePlayerItem loadRemoteDragonEffectPf suc"),e._remoteDragonEffectPf=n}))},s.init=function(){this.initViewNode(),this.loadRemoteDragonEffectPf()},s.setForbidden=function(e){this._playerInfo.isForbidden=e,this._paths=this._gameViewSc.getPathByPlayerIndex(this._playerIndex,this._playerInfo.isForbidden)},s.addRerollCount=function(){this._playerInfo.rerollCount++},s.getRerollCount=function(){return this._playerInfo.rerollCount},s.initViewNode=function(){e.prototype.initViewNode.call(this),console.log("GamePlayerItem initViewNode------------------"),console.log("GamePlayerItem initViewNode views == ",this.view),this._playerName=this.view.name.getComponent(l),this._head=this.view.head.addComponent(M),this._head.init(!0,this),this._throwCide=this.view.throwCidePnl.addComponent(R),this._hasPointsPnl=this.view.hasPointsPnl,this._pointNode=this.view["hasPointsPnl/pointCide0"],this._pointNode.addComponent(S),this._pointNode.active=!1,this._turnAnimation=this.view.turnAniNode.getComponent(k),this._turnAnimation.clearTurn(),this.addEvent()},s.addEvent=function(){},s.removeEvent=function(){},s.onDestroy=function(){console.log("GamePlayerItem onDestroy==============="),e.prototype.onDestroy.call(this),this.unscheduleAllCallbacks(),this.removeEvent()},s.initData=function(e,t){this._playerInfo=e,this._gameView=t,this._throwCide.init(this._playerInfo),this._gameViewSc=t.getComponent(G),this._chessPnl=this._gameViewSc._chesspnl,this._players=this._gameViewSc._playerNodes,this._playerIndex=this._playerInfo.playerIndex,this._playerNodeIndex=x.getIns().playerIndexToPlayerNodeIndex(this._playerIndex),this._head.loadPlayerIcon(this._playerInfo,0),this._head.setPlayerId(this._playerInfo.uniqueId),this._playerInfo.state==I.escaped||this._playerInfo.state==I.leaveEscaped?this._head.setEscaped(!0):this._head.setEscaped(!1),this._graphics=this._gameViewSc._graphics,this._paths=this._gameViewSc.getPathByPlayerIndex(this._playerIndex,this._playerInfo.isForbidden),this.setName(this._playerInfo.name),this.initDesPos(),x.getIns().isCompetitionMode()?this.initPlane(this._playerInfo.planes,this._paths,this._playerInfo.planePositions):this.initPlane(this._playerInfo.planes,this._paths,[]),this._throwCide.setPlayer(this)},s.initDesPos=function(){this._desPos=this._gameViewSc._desPosArray[this._playerNodeIndex]},s.initPlane=function(e,t,n){var o=this.getGamePlaneNum();console.log("gamePlaneNum == ",o);for(var i=0;i<4;i++){var r=this.view["homeChessPnl/seat"+i+"/chess"],s=P.getViewConfig();if(s&&s.nft_avatar&&0==s.nft_avatar.hide&&this.isBoolAvatarOrNft(this._playerInfo)){if(r.getChildByName("head").active=!0,1==_.getIns().gameModeInfo.chessType||2==_.getIns().gameModeInfo.chessType){var a=r.getChildByName("head");a.setPosition(0,40.5),a.getChildByName("icon-bg").active=!0;var l=a.getChildByName("mask");l.getComponent(h).contentSize=new c(160,160),l.getComponent(u).type=u.Type.RECT}var d=r.getChildByName("head").addComponent(M);d.init(!1,this),d.loadPlayerIcon(this._playerInfo,1),d.setPlayerId(this._playerInfo.uniqueId),this._playerInfo.state==I.escaped||this._playerInfo.state==I.leaveEscaped?d.setEscaped(!0):d.setEscaped(!1)}else r.getChildByName("head").active=!1;var p=r.getComponent(A),f=this._gameViewSc.convetOtherNodeSpaceAR(r,this._gameViewSc._chesspnl);console.log("plane pos == ",JSON.stringify(f)),r.setPosition(f),r.parent=this._gameViewSc._chesspnl,this._homeSeatPos.push(f),2==o&&i>1?p.hide():this._planes.push(p)}for(var g=0;g<this._planes.length;g++){var m=this._planes[g];m.init(this,this._playerIndex,g,t);var y=0;if(x.getIns().isCompetitionMode())y=n[g];else{var v=e[g];y=this._paths[v]}if(0==y)m.gridPosition=0;else if(this.isPlaneInDestination(y)){var w=2==x.getIns().getPlaneNum()?4:0,C=this._desPos[g+w];m.gridPosition=y,m._isInDes=!0,m.setSmallMode(),m.setPosition(C)}else{var b=this.getPosByGridPosition(y);m.gridPosition=y,m.setPosition(b)}}},s.isPlaneInDestination=function(e){return(!x.getIns().isCompetitionMode()||!this._playerInfo.isForbidden)&&e==this._paths[this._paths.length-1]},s.setManaged=function(e,t){var n;this._playerInfo&&(this._playerInfo.uniqueId==e&&e!=_.getIns().getSelfData().uniqueId&&(null===(n=this._head)||void 0===n||n.setManaged(t)))},s.rerollTimeOutHandle=function(){this._throwCide._reroll.hide()},s.checkOnlyOneOrNotAutoMove=function(e){if(0==e&&this.isSelf()){for(var t=0;t<this._planes.length;t++){var n=this._planes[t];n.onCanClick(),n.node.setSiblingIndex(q)}var o=this._planes.slice(0);if(o.sort((function(e,t){return t.node.position.y-e.node.position.y})),o.forEach((function(e){e.node.setSiblingIndex(q)})),1==this._points.length){for(var i=0,r=0;r<this._planes.length;r++){1==this._planes[r]._aniRoot.active&&i++}if(1==i||0==i)return!0}else{for(var s=0,a=0;a<this._planes.length;a++){1==this._planes[a]._aniRoot.active&&s++}if(0==s)return!0}}return!1},s.refreshPlaneClickState=function(e){if(0==e){if(this.isSelf()){for(var t=0;t<this._planes.length;t++){var n=this._planes[t];n.onCanClick(),n.node.setSiblingIndex(q)}var o=this._planes.slice(0);o.sort((function(e,t){return t.node.position.y-e.node.position.y})),o.forEach((function(e){e.node.setSiblingIndex(q)})),this.checkAutoReqMove()}}else for(var i=0;i<this._planes.length;i++){this._planes[i].onCannotClick()}},s.setPlaneStateCant=function(){for(var e=0;e<this._planes.length;e++){this._planes[e].onCannotClick()}},s.hasRemoteRollEffect=function(){var e=!1;if(this._remoteDragonEffectPf&&x.getIns().gameUiCustomConfig&&x.getIns().gameUiCustomConfig.isPlayerRollDiceEffectValid(this._playerInfo.playerId)){var t=x.getIns().gameUiCustomConfig.getPlayerRollDiceEffectConfig(this._playerInfo.playerId);if(t)if(C.dragonMap.has(t.dragonSkeletonUrl))C.dragonMap.get(t.dragonSkeletonUrl)&&(e=!0)}return e},s.createRemoteRollEffect=function(){var e=x.getIns().gameUiCustomConfig.getPlayerRollDiceEffectConfig(this._playerInfo.playerId);if(e&&C.dragonMap.has(e.dragonSkeletonUrl)){var t=C.dragonMap.get(e.dragonSkeletonUrl);if(t){var n=d(this._remoteDragonEffectPf);return n.getComponent(E).init(t),n}}},s.onPlayerThrowDiceNormal=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,o,i,r,s,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.point,o=t.timeout,i=t.dice,r=t.bomb,t.isReroll,t.seq,this._playerName.node.active=!1,this._throwCide.hideCide(),y.getIns().playSound(w.throw),s=this.hasRemoteRollEffect(),console.log("hasRelmoteRollEffect: "+s),!s){e.next=20;break}return a=this.createRemoteRollEffect(),l=a.getComponent(E),a.parent=this._throwCide.node,a.position=p(0,0,0),e.next=18,l.playEffectAndWaitEnd();case 18:e.next=22;break;case 20:return e.next=22,T.getIns().playEffectAndWaitEnd(N.diceThrow,this._throwCide.node,this._throwCide._diceNode.position,1.3);case 22:if(this._throwCide.showCide(),this._throwCide.playArrowAniByDice(i),6==n&&T.getIns().playEffect(N.six,this._throwCide._cide.node),!r){e.next=36;break}return this._throwCide.stopDiceAnim(),this._points.push(n),this.addPoint(n),this._throwCide.endPlayDiceAnim(n),e.next=32,this.sleep(1);case 32:this.clearTurn(),y.getIns().playSound(w.miss),e.next=41;break;case 36:this._head.startProgress(o),this._throwCide.stopDiceAnim(),this._points.push(n),this.addPoint(n),this._throwCide.endPlayDiceAnim(n);case 41:return 0==i&&(this._throwCide._canThrow=!1),this.refreshPlaneClickState(i),this._throwCide.setDiceColor(i),e.next=46,this.sleep(1);case 46:this.handleComplete();case 47:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.isSelf=function(){return this._playerInfo.uniqueId==_.getIns().getSelfData().uniqueId},s.onPlayerThrowDiceReroll=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,o,r,s,a,l,h,c,u,d,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.point,o=t.timeout,r=t.dice,t.bomb,s=t.isReroll,a=t.seq,this._playerName.node.active=!1,this._throwCide.hideCide(),y.getIns().playSound(w.throw),this._throwCide.stopArrowAni(),v.log("清理重摇气泡----"),this._throwCide._reroll.clearReroll(),!this.hasRemoteRollEffect()){e.next=22;break}return l=this.createRemoteRollEffect(),h=l.getComponent(E),l.parent=this._throwCide._cide.node,l.position=p(0,0,0),e.next=20,h.playEffectAndWaitEnd();case 20:e.next=24;break;case 22:return e.next=24,T.getIns().playEffectAndWaitEnd(N.diceThrow,this._throwCide.node,this._throwCide._diceNode.position,1.3);case 24:return this._throwCide.showCide(),6==n&&T.getIns().playEffect(N.six,this._throwCide._cide.node),this._throwCide.stopDiceAnim(),s?(this.addRerollCount(),this._points[this._points.length-1]=n,this.initPoints(this._points.slice(0))):(this._points.push(n),this.addPoint(n)),this._throwCide.endPlayDiceAnim(n),this._rerollTimeoutCb=null,v.log("显示重摇气泡------"),this._throwCide._reroll.show(),v.log("当前重摇气泡的显示状态为  ",this._throwCide._reroll.node.active),this._throwCide._reroll.setSeq(a,this.getRerollCount()),this._head.startProgress(o),this._throwCide.playArrowAniByDice(r),0==r?this._throwCide._canThrow=!1:this.isSelf()&&(this._throwCide._canThrow=!0),c=!1,0==r&&(c=this.checkOnlyOneOrNotAutoMove(r)),u=this.hasBoom(),this._throwCide._reroll.setClickCallback(i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.log("点击重摇-----"),f._throwCide._reroll.hide(),f._throwCide._reroll.clearTimeout(),f._throwCide.playArrowAniByDice(0),f._throwCide._canThrow=!1,f.setPlaneStateCant(),x.getIns().requestReroll(a,f.getRerollCount(),!0),v.log("onPlayerThrowDiceReroll click reroll................."),f.handleComplete();case 9:case"end":return e.stop()}}),e)})))),d=function(){var e=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.log("重摇超时-----"),f._head.clearTimeout(),f._head.startProgress(o),f._throwCide._reroll.hide(),f._throwCide.playArrowAniByDice(r),r>0&&(f._throwCide._canThrow=!0),!u){e.next=16;break}return y.getIns().playSound(w.miss),f.isSelf()&&x.getIns().requestReroll(a,f.getRerollCount(),!1),e.next=11,f.sleep(.3);case 11:return f.clearTurn(),y.getIns().playSound(w.miss),console.log("onPlayerThrowDiceReroll needBomb handeComplete ......................................."),f.handleComplete(),e.abrupt("return");case 16:return 0==r&&(f._throwCide._canThrow=!1),x.getIns().requestReroll(a,f.getRerollCount(),!1),f.refreshPlaneClickState(r),f._throwCide.setDiceColor(r),e.next=22,f.sleep(.2);case 22:console.log("onPlayerThrowDiceReroll handeComplete ......................................."),f.handleComplete();case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this.isSelf()&&(this._rerollTimeoutCb=d,this._throwCide._reroll.startProgress(x.getIns().rerollTimeout,i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)})))),c||u||0==r||this.refreshPlaneClickState(r),u&&1==r&&(this._throwCide._canThrow=!1)),this._throwCide.setDiceColor(r),console.log("onPlayerThrowDiceReroll handeComplete ......................................."),this.handleComplete(),e.abrupt("return");case 47:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onPlayerThrowDice=function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.getIns().reroll){e.next=5;break}return e.next=3,this.onPlayerThrowDiceReroll(t);case 3:e.next=7;break;case 5:return e.next=7,this.onPlayerThrowDiceNormal(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.checkAutoReqMove=function(){if(1==this._points.length){for(var e=0,t=-1,n=0;n<this._planes.length;n++){1==this._planes[n]._aniRoot.active&&(e++,t=n)}1==e&&this._planes[t]&&this._planes[t].requestMove(this._points[0])}},s.sleep=function(e){return new Promise((function(t,n){setTimeout((function(){t(null)}),1e3*e)}))},s.clearTipExcept=function(e){for(var t=0;t<this._planes.length;t++)this._planes[t]._planeIndex!=e&&this._planes[t].clearTips()},s.onPlayerMove=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,o,i,r,s,a,l,h,c,u,d,p,f,g,y,v,w,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onPlayerMove ====== ",JSON.stringify(t)),n=t.plane,o=t.point,i=t.position,r=t.timeout,s=t.type,a=t.destination,l=t.dice,t.item,t.targetId,h=t.targetUniqueId,c=t.targetPlane,x.getIns().reroll&&this._throwCide._reroll.clearReroll(),this.removePoint(o),this._throwCide.stopArrowAni(),this._throwCide._canThrow=!1,this._head.startProgress(r),this._planes[n].gridPosition==i&&console.log("_plane.gridPosition === position"),this._planes.forEach((function(e){e.clearTips()})),e.next=22,this.movePlaneToPosition(n,i);case 22:if(3!=s){e.next=28;break}return u=this.getPlayerByUniqueId(h),e.next=27,u.movePlaneToHome(c);case 27:x.getIns().isCompetitionMode()&&(this.setForbidden(!1),this._gameViewSc.setForbiddenByPlayerIndex(this._playerIndex,!1));case 28:if(4!=s){e.next=33;break}return e.next=31,this.planeToDes(n);case 31:P.notifyAppChangeGameStatus(m.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_piece_arrive_end,{uid:_.getIns().encodeUniqueIdByAppId(this._playerInfo.uniqueId,this._playerInfo.appId,this._playerInfo.playerId),pieceIndex:n}),T.getIns().playEffect(N.partyPop,this._gameViewSc._chesspnl);case 33:if(5!=s){e.next=53;break}if(d=null,!(p=this._gameViewSc.findProp(i,1))){e.next=40;break}d=p.node,e.next=44;break;case 40:return console.log("gold dice prop not find position == ",i),console.log("gamePlayerItem onPlayerMove handleComplete ======================================================================================="),this.handleComplete(),e.abrupt("return");case 44:if(!d){e.next=52;break}return p.startAni(),e.next=48,this.moveGoldDiceToPlayer(d);case 48:console.log("delect goldDice destination == ",i),this._gameViewSc.deleteProp(i,1),d.destroy(),T.getIns().playEffect(N.goldDice,this._throwCide._diceNode);case 52:this._throwCide.showGoldDice();case 53:if(6!=s){e.next=76;break}if(!(f=this._gameViewSc.findProp(i,2))){e.next=59;break}console.log("find bomb in position == ",i),e.next=63;break;case 59:return console.error("bomb prop is no find position == ",i),console.log("gamePlayerItem onPlayerMove handleComplete ======================================================================================="),this.handleComplete(),e.abrupt("return");case 63:return f.node.setSiblingIndex(q),console.log("move bomb from "+i+" to "+a),g=this.getBombNeedMovePath(i,a),console.log("bomb needMovePath === ",g),e.next=69,this.missileEffect(f.node,g.slice(0));case 69:if(this._gameViewSc.deleteProp(i,2),f.node.destroy(),!(y=this.getPlayerByUniqueId(h))){e.next=76;break}return e.next=75,y.movePlaneToHome(c);case 75:x.getIns().isCompetitionMode()&&(this.setForbidden(!1),this._gameViewSc.setForbiddenByPlayerIndex(this._playerIndex,!1));case 76:if(7!=s){e.next=93;break}return v=this._planes[n],w=this.getNeedMovePathPos(v,i,a),e.next=81,this.magnetEffect(v.node,this._graphics,w);case 81:if(v.gridPosition=a,!(I=this._gameViewSc.findProp(i,3))){e.next=89;break}console.log("delect magnet destination == ",i),this._gameViewSc.deleteProp(i,3),I.node.destroy(),e.next=93;break;case 89:return console.error("magnet prop is no find position == ",i),console.log("gamePlayerItem onPlayerMove handleComplete ======================================================================================="),this.handleComplete(),e.abrupt("return");case 93:0==l?(this._throwCide.stopArrowAni(),this._throwCide._canThrow=!1):(this._throwCide.playArrowAni(),this._throwCide._canThrow=!0,2==l?this._throwCide.showGoldDice():this._throwCide._isGold||this._throwCide.showNormalDice()),this.isSelf()&&this.flashPlaneSelectd(),this._gameViewSc.updateAllPlanesZindex(),this._points.length>0&&this.isSelf()&&this.updatePlaneIndex(),console.log("gamePlayerItem onPlayerMove handleComplete ======================================================================================="),this.handleComplete();case 99:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.updatePlaneIndex=function(){for(var e=0;e<this._planes.length;e++){this._planes[e].node.setSiblingIndex(q)}var t=this._planes.slice(0);t.sort((function(e,t){return t.node.position.y-e.node.position.y})),t.forEach((function(e){e.node.setSiblingIndex(q)}))},s.flashPlaneSelectd=function(){this._points.length>0?this._planes.forEach((function(e){e.onCanClick()})):this._planes.forEach((function(e){e.onCannotClick()})),this.checkAutoReqMove()},s.getOtherPlayerPlane=function(e,t){var n=this.getPlayerByUniqueId(e);return n?n._planes[t]:n},s.getPlayerByUniqueId=function(e){for(var t=null,n=0;n<this._players.length;n++)if(this._players[n]._playerInfo&&this._players[n]._playerInfo.uniqueId==e){t=this._players[n];break}return t},s.setName=function(e){this._playerName.string=_.getIns().trimNameString(decodeURIComponent(e),12)},s.turnToPlayer=function(e,t,n,o){if(console.log("GamePlayerItem turn"),console.log("timeout == ",e),console.log("points == ",t),console.log("dice == ",n),console.log("items == ",o),this.initPoints(t),this.startProgress(e),this._throwCide.turnToPlayer(n),this.isSelf()?y.getIns().playSound(w.myTurn):y.getIns().playSound(w.otherTurn),t&&t.length>0&&this._playerInfo&&this.isSelf()){for(var i=0;i<this._planes.length;i++){var r=this._planes[i];r.onCanClick(),r.node.setSiblingIndex(q)}this.updatePlaneIndex(),this.checkAutoReqMove()}this._turnAnimation.showTurn(),console.log("GamePlayerItem onRoundStart handleComplete..........................."),this.handleComplete()},s.clearTurn=function(){this._playerInfo?(console.log("GamePlayerItem clearTrun..."),this._turnAnimation.clearTurn(),this._points=[],this.clearAllPoints(),this._playerName.node.active=!0,this._head.clearTimeout(),this._throwCide.clearTurn(),this._planes.forEach((function(e){e._canClick=!1,e.setNormalMode(),e.setCanSelect(!1),e.clearTips()}))):console.log("GamePlayerItem clearTurn fail no playerInfo")},s.initPoints=function(e){console.log("initPoints === ",e),e=e||[],this._points=e,this.clearAllPoints();for(var t=0;t<e.length;t++)this.addPoint(e[t])},s.clearAllPoints=function(){for(;this._hasPoints.length>0;){var e=this._hasPoints.pop();e&&e.node.destroy()}this._hasPoints=[]},s.hasBoom=function(){if(3!=this._hasPoints.length)return!1;for(var e=0;e<this._hasPoints.length;e++)if(6!=this._hasPoints[e].point)return!1;return!0},s.replacePoint=function(e){if(this._hasPoints){var t=this._hasPoints[this._hasPoints.length-1];t&&t.setNumber(e)}},s.addPoint=function(e){console.log("addPoint === ",e);var t=d(this._pointNode);t.parent=this._pointNode.parent;var n=t.getComponent(S);n.init(this._playerInfo),n&&(this._hasPoints.push(n),n.setNumber(e)),this._hasPoints.length<=6?n.show():n.hide()},s.removePoint=function(e){console.log("GamePlayerItem removePoint ==== ",e),console.log("this._points 000 == ",JSON.stringify(this._points));for(var t=0;t<this._points.length;t++)if(e==this._points[t]){this._points.splice(t,1);break}for(var n=0;n<this._hasPoints.length;n++){var o=this._hasPoints[n];if(o.point==e){this._hasPoints.splice(n,1),o.node.destroy();break}}this.initPoints(this._points.slice(0)),console.log("this._points 111 == ",JSON.stringify(this._points))},s.handleProp=function(e){},s.startProgress=function(e){this._head.startProgress(e)},s.getGamePlaneNum=function(){return x.getIns().getPlaneNum()},s.playerEscape=function(){var e=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this._planes.length)){e.next=14;break}if(!(n=this._planes[t])){e.next=11;break}if(n._isInDes=!1,n._scaleAndOff=!1,n.hideTips(),n.setCanSelect(!1),0==n.gridPosition){e.next=11;break}return e.next=11,this.movePlaneToHome(n._planeIndex);case 11:t++,e.next=1;break;case 14:this._head.setEscaped(!0),console.log("GamePlayerItem playerEscape handleComplete-----------------------"),this.handleComplete();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.movePlaneToPosition=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var o,i,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this._planes[t],this.getPosByGridPosition(o.gridPosition),o.scaleToNormal(),console.log("movePlaneToPosition000 planeIndex = "+o._planeIndex+", gridPosition = "+o.gridPosition),0!=o.gridPosition){e.next=13;break}return i=this.getPosByGridPosition(n),console.log("move from home to position = "+n),console.log("pos == "+JSON.stringify(i)),o.gridPosition=n,e.next=11,this.moveGrid(o.node,i,this.planeMoveDt).catch((function(e){console.log(e)}));case 11:e.next=17;break;case 13:return r=o.gridPosition,s=n,e.next=17,this.movePlaneFromGridToGrid(o,r,s);case 17:console.log("movePlaneToPosition111 planeIndex = "+o._planeIndex+", gridPosition = "+o.gridPosition);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.getPosByGridPosition=function(e){return this._gameViewSc.convetOtherNodeSpaceAR(this._gameViewSc._allBoardGridNodes[e],this._gameViewSc._chesspnl)},s.movePlaneToHome=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),(o=this._planes[t])._isInDes=!1,o._scaleAndOff=!1,o.hideTips(),i=this._homeSeatPos[t],n){e.next=11;break}return e.next=9,this.moveGridToHome(o.node,i,.5).catch((function(e){console.log("movePlaneToHome err === ",e)}));case 9:e.next=13;break;case 11:return e.next=13,this.moveGridToHomeWithRotate(o.node,i,.5).catch((function(e){console.log("movePlaneToHome err === ",e)}));case 13:o.setNormalMode(),console.log("movePlayToHome scale == ",JSON.stringify(o.node.getScale())),y.getIns().playSound(w.home),o.gridPosition=0;case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.moveGridToHome=function(){var e=i(regeneratorRuntime.mark((function e(t,n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setSiblingIndex(q),e.abrupt("return",new Promise((function(e,i){f(t).call((function(){y.getIns().playSound(w.move)})).to(o,{position:n},{easing:"expoOut"}).call((function(){e(!0)})).start()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.moveGridToHomeWithRotate=function(){var e=i(regeneratorRuntime.mark((function e(t,n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setSiblingIndex(q),e.abrupt("return",new Promise((function(e,i){f(t).call((function(){y.getIns().playSound(w.move)})).to(o,{position:n,eulerAngles:new g(0,0,360)},{easing:"expoOut"}).call((function(){e(!0)})).start()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.waitTime=function(e){return new Promise((function(t,n){setTimeout((function(){t(!0)}),1e3*e)}))},s.movePlaneFromGridToGrid=function(){var e=i(regeneratorRuntime.mark((function e(t,n,o){var i,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!=o){e.next=6;break}return t.gridPosition=o,e.next=4,this.waitTime(.3);case 4:return console.log("movePlaneFromGridToGrid curGridPosition ===== desGridPosition "),e.abrupt("return");case 6:i=this.getNeedMovePath(t,n,o),console.log("movePlaneFrom "+n+" to "+o),console.log("needPath ==== "+JSON.stringify(i)),i.length>8&&console.error("movePlaneFromGridToGrid path err =========================================="),t.gridPosition=o,r=0;case 12:if(!(r<i.length)){e.next=19;break}return s=this.getPosByGridPosition(i[r]),e.next=16,this.moveGrid(t.node,s,this.planeMoveDt).catch((function(e){console.log("moveGrid err...........")}));case 16:r++,e.next=12;break;case 19:case"end":return e.stop()}}),e,this)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.getNeedMovePath=function(e,t,n){return x.getIns().isCompetitionMode()&&(this._playerInfo.isForbidden||e.gridIsInForbiddenPathNotInNormalPath())?this.getNeedCirclePath(t,n):this.getNeedNormalPath(t,n)},s.getNeedNormalPath=function(e,t){for(var n=this._gameViewSc.getNormalPathByPlayerIndex(this._playerIndex),o=[],i=0,r=0,s=0;s<n.length;s++)n[s]==e&&(i=s),n[s]==t&&(r=s);for(var a=i+1;a<=r;a++)o.push(n[a]);return o},s.getNeedCirclePath=function(e,t){if(e==t)return[];var n=this._gameViewSc.getPathByPlayerIndex(this._playerIndex,this._playerInfo.isForbidden);n=n.slice(1);for(var o=0,i=0;i<n.length;i++)if(n[i]==e){o=i;break}for(var r=[],s=[],a=o+1;a<n.length;a++)r.push(n[a]);r=r.concat(n);for(var l=0;l<r.length;l++){if(r[l]==t){s.push(r[l]);break}s.push(r[l])}return s},s.getNeedMovePathPos=function(e,t,n){for(var o=this.getNeedMovePath(e,t,n),i=[],r=0;r<o.length;r++){var s=this.getPosByGridPosition(o[r]);i.push(s)}return i},s.getBombNeedMovePath=function(e,t){console.log("getBombNeedMovePath curGridPosition == "+e+", desGridPosition == "+t);for(var n=0,o=0;o<this._bombPath.length;o++)if(this._bombPath[o]==e){n=o;break}for(var i=[],r=[],s=n+1;s<this._bombPath.length;s++)i.push(this._bombPath[s]);i=i.concat(this._bombPath);for(var a=0;a<i.length;a++){if(i[a]==t){r.push(i[a]);break}r.push(i[a])}console.log("getBombNeedMovePath needPath === ",JSON.stringify(r));for(var l=[],h=0;h<r.length;h++){var c=this.getPosByGridPosition(r[h]);l.push(c)}return console.log("getBombNeedMovePath pathPos == ",JSON.stringify(l)),l},s.moveGrid=function(){var e=i(regeneratorRuntime.mark((function e(t,n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setSiblingIndex(q),e.abrupt("return",new Promise((function(e,i){f(t).call((function(){y.getIns().playSound(w.move)})).to(o,{position:n},{easing:"expoOut"}).call((function(){e(!0)})).start()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.magnetEffect=function(){var e=i(regeneratorRuntime.mark((function e(t,n,o){var i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<o.length)){e.next=9;break}return r=o.slice(i,o.length),console.log("newPaths === ",r),e.next=6,this.magnetMove(t,o[i],n,r).catch((function(e){console.log("log e == ",e)}));case 6:i++,e.next=1;break;case 9:this.clearLine(n);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.magnetMove=function(){var e=i(regeneratorRuntime.mark((function e(t,n,o,i){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,s){f(t).to(r.magnetMoveDt,{position:n},{onUpdate:function(e,n){var s=i.slice(0);s.unshift(t.getPosition()),r.drawLine(o,s)},onComplete:function(){r.drawLine(o,i)}}).call((function(){y.getIns().playSound(w.magnet),e(!0)})).start()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,o,i){return e.apply(this,arguments)}}(),s.drawLine=function(e,t){e.clear();for(var n=0;n<t.length;n++)0==n?e.moveTo(t[n].x,t[n].y):e.lineTo(t[n].x,t[n].y);e.stroke()},s.clearLine=function(e){e.clear()},s.missileEffect=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getComponent(D).stopAni(),o=0;case 2:if(!(o<n.length)){e.next=9;break}return i=n[o],e.next=6,this.moveMissile(t,i).catch((function(e){console.log("missileEffect move error----",e)}));case 6:o++,e.next=2;break;case 9:return y.getIns().playSound(w.bomb),e.next=12,this.playMissileBombEffect(t);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.moveMissile=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){f(t).to(o.bombMoveDt,{position:n}).call((function(){e(!0)})).start()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.playMissileBombEffect=function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.getIns().playEffect(N.bomb,t.parent,t.position);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.bombPlaneToHome=function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.movePlaneToHome(t.getPlaneIndex());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.handleComplete=function(){x.getIns().setHanleMessageComplete()},s.planeToDes=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._planes[t],o=2==x.getIns().getPlaneNum()?4:0,i=this._desPos[t+o],e.next=5,this.moveGrid(n.node,i,.3).catch((function(e){console.log("planeToDes err == ",e)}));case 5:n._isInDes=!0,n.setSmallMode(),y.getIns().playSound(w.pass);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onPlaneRequestMove=function(e){},s.onPlaneRequestMoveSuc=function(e){},s.onPlaneSelected=function(e,t){if(e==x.getIns()._myPlayerIndex)for(var n=0;n<this._planes.length;n++)t!=this._planes[n]._planeIndex&&this._planes[n].hideTips()},s.moveGoldDiceToPlayer=function(){var e=i(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._gameViewSc.convetOtherNodeSpaceAR(this._throwCide._cide.node,this._gameViewSc._chesspnl),e.abrupt("return",new Promise((function(e,o){f(t).to(.5,{position:n}).call((function(){e(!0)})).start()})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onClickAvatar=function(){console.log("onClickPlayerHead..........."),console.log("player uid == ",this._playerInfo.uniqueId),this._playerInfo.uniqueId&&(console.log("mg_common_self_click_game_player_icon ",JSON.stringify({uid:this._playerInfo.uniqueId})),P.notifyAppChangePlayerStatus(m.Event.Sdk.MG2APP_PLAYER_STATUS_LIST.mg_common_self_click_game_player_icon,{uid:_.getIns().encodeUniqueId(this._playerInfo.uniqueId)}))},s.onAppCreateOrderResult=function(e){this.isSelf()&&this._rerollTimeoutCb&&0==e.result&&(console.log("GamePlayerItem onAppCreateOrderResult result == ",e.result),this._rerollTimeoutCb(),this._rerollTimeoutCb=null)},s.isBoolAvatarOrNft=function(e){var t=P.getViewConfig();if(t&&t.nft_avatar&&0==t.nft_avatar.hide)return!!(e.nftData&&e.nftData.nftPayloads&&e.nftData.nftPayloads.length>=1&&e.nftData.nftPayloads[0].RichMediaUrl)},r}(b))||B);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameModel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlayerMgr.ts"],(function(a){"use strict";var t,e,r,s;return{setters:[function(a){t=a.defineProperty},function(a){e=a.cclegacy,r=a._decorator},function(a){s=a.default}],execute:function(){var n;e._RF.push({},"b1d7cyfUtRM4ocXcu9nmql3","GameModel",void 0);var i=r.ccclass;r.property,a("GameModel",i("GameModel")(n=function(){function a(){t(this,"data",null),t(this,"params",[]),t(this,"currentRoundData",null)}var e=a.prototype;return e.getSelfPlayerData=function(){var a=s.getIns().getSelfData().uniqueId;if(this.data&&this.data.players)for(var t=0;t<this.data.players.length;t++){var e=this.data.players[t];if(e.uniqueId==a)return e}},e.getPlayerByIndex=function(a){for(var t=0;t<this.data.players.length;t++)if(this.data.players[t].playerIndex==a)return this.data.players[t]},e.reset=function(){this.data=null,this.currentRoundData=null},e.initGameData=function(a){if(2==a.players.length)for(var t=0;t<a.players.length;t++)a.players[t].playerIndex=0==t?0:2;else for(var e=0;e<a.players.length;e++)a.players[e].playerIndex=e;this.data=a,a.params&&0!=a.params.length?this.params=a.params.slice(0):this.params=[0,2,0],console.log("initGameData this.params == ",JSON.stringify(this.params)),console.log("initGameData ------- ",this.data)},e.updateGameData=function(a){if(console.log("updateGameData>>>>>>>>>>>>>>>>>>>>>",a),a=JSON.parse(JSON.stringify(a)),console.log("updateGameData 111 >>>>>>>>>>>>>>>>>>>>>",a),this.data)for(var t in a)console.log(" 111 data["+t+"] == ",a[t]),this.data.hasOwnProperty(t),this.data[t]=a[t];else for(var e in this.data={},a)console.log(" 000 data["+e+"] == ",a[e]),this.data[e]=a[e];console.log("updateGameData this.data ==== ",this.data)},e.updatePlayerState=function(a,t){if(this.data&&this.data.players)for(var e=0;e<this.data.players.length;e++){var r=this.data.players[e];r.uniqueId==a&&(r.state=t)}},e.updatePlayerInfo=function(a,t){if(t){var e=this.getPlayerByIndex(a);for(var r in t)e[r]=t[r]}},e.getSeq=function(){if(this.data)return this.data.seq},e.setSeq=function(a){this.data&&(this.data.seq=a)},a}())||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/HomeSeat.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(e){"use strict";var t,s,n,i,o,c,a,l,r,h,u,_;return{setters:[function(e){t=e.inheritsLoose,s=e.defineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,c=e.Vec3,a=e.resources,l=e.Texture2D,r=e.SpriteFrame,h=e.Sprite,u=e.Button},function(e){_=e.UIBase}],execute:function(){var p;i._RF.push({},"b323dEIKodCvbMVFQ0R5q9e","HomeSeat",void 0);var d=o.ccclass;o.property,e("HomeSeat",d("HomeSeat")(p=function(e){function i(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,s(n(t),"_chess",null),s(n(t),"_playerIndex",0),s(n(t),"_selectScale",1.2),s(n(t),"_normalScale",1),s(n(t),"_tempVec3",new c(1,1,1)),s(n(t),"isAtHome",!0),s(n(t),"planeIndex",0),s(n(t),"_chessFsPaths",["ui/battle/feixing_m_red_01","feixing_m_green_01","feixing_m_yellow_01","feixing_m_blue_01"]),t}t(i,e);var o=i.prototype;return o.onDestroy=function(){e.prototype.onDestroy.call(this),this.unscheduleAllCallbacks()},o.init=function(e){this.initViewNode(),this._playerIndex=e,this.loadSeatFs(this._playerIndex,this._chess)},o.initViewNode=function(){e.prototype.initViewNode.call(this),this._chess=this.view.chess,this.addButtonListener("chess",this.onClickChess,this)},o.setPlaneIndex=function(e){this.planeIndex=e},o.getPlaneIndex=function(){return this.planeIndex},o.loadSeatFs=function(e,t){var s=this._chessFsPaths[e];a.load(s,(function(e,n){if(e)console.log("loadSeatFs path == "+s+" err",e);else{var i=new l;i.image=n;var o=new r;o.texture=i,t.getComponent(h).spriteFrame=o}}))},o.getIndex=function(){return this._playerIndex},o.setSelectMode=function(){this._tempVec3.set(1,1,1),c.multiplyScalar(this._tempVec3,this._tempVec3,this._selectScale),this.node.setScale(this._tempVec3),this._chess.getComponent(u).interactable=!0},o.setNormalMode=function(){this._tempVec3.set(1,1,1),this.node.setScale(this._tempVec3),this._chess.getComponent(u).interactable=!1},o.hideChess=function(){this._chess.active=!1},o.showChess=function(){this._chess.active=!0},o.onClickChess=function(){console.log("clickChess")},i}(_))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageCom.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./Lang.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,r,o,i,s,a,c,u,g,p,l,y,f,h,d,k,m,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createClass,s=e.asyncToGenerator},function(e){a=e.cclegacy,c=e._decorator,u=e.Enum,g=e.CCString,p=e.CCInteger,l=e.assetManager,y=e.Label,f=e.Component,h=e.path},function(e){d=e.Const},function(e){k=e.EventDispatcher},function(e){m=e.LanguageList,C=e.Lang},null],execute:function(){var L,_,b,v,w,E,x,j,A,D;a._RF.push({},"b3d0d67Bx1EookOwIBrc6gA","LanguageCom",void 0);var I=c.ccclass,G=c.property,O=c.executeInEditMode,P=u(Object.keys(m).reduce((function(e,t,n,r){return e[t]=n,e}),{}));e("LanguageCom",(L=I("LanguageCom"),_=O(!0),b=G(g),v=G(p),w=G(g),E=G({type:P}),L(x=_((A=t((j=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"_key",A,o(t)),r(o(t),"_lang",D,o(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=s(regeneratorRuntime.mark((function e(){var t,n,r,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=15;break;case 9:t=e.sent;case 10:n=null,null==t?(r=h.join(window.Editor.Project.path,"assets/resources/config/language.json"),o=window.require("fs").readFileSync(r,"utf-8"),i=JSON.parse(o),n=i[this.key]):n=t[this.key],n?(s=m[P[this.lang]],this.node.getComponent(y).string=s?n[s]:""):this.node.getComponent(y).string="",e.next=16;break;case 15:this.node.getComponent(y).string=C.getText(this.key);case 16:k.getIns().on(d.Event.UI.CHANGE_LANGUAGE,this.refresh,this);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadUrlJson=function(e){return new Promise((function(t,n){l.loadRemote(e,(function(e,r){e?n(null):t(r.json)}))}))},a.onDestroy=function(){k.getIns().off(d.Event.UI.CHANGE_LANGUAGE,this.refresh,this)},a.refresh=function(e){e&&(this.key=e),console.log("更新按钮语言>>>>>>>>>>>>>>>>>>>>",C.getText(this.key)),this.node.getComponent(y).string=C.getText(this.key)},i(t,[{key:"key",get:function(){return this._key},set:function(e){this._key=e,this.onLoad()}},{key:"lang",get:function(){return this._lang},set:function(e){this._lang=e,this.onLoad()}}]),t}(f)).prototype,"_key",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=t(j.prototype,"_lang",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),t(j.prototype,"key",[w],Object.getOwnPropertyDescriptor(j.prototype,"key"),j.prototype),t(j.prototype,"lang",[E],Object.getOwnPropertyDescriptor(j.prototype,"lang"),j.prototype),x=j))||x)||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/OtherButtonCom.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./AudioMgr.ts","./BaseCommon.ts"],(function(t){"use strict";var n,e,o,i,s,r,u,a,c,C,h,l,g,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,u=t.Node,a=t.Toggle,c=t.assetManager,C=t.Component},function(t){h=t.Const},function(t){l=t.EventDispatcher},function(t){g=t.AudioMgr},function(t){p=t.BaseCommon}],execute:function(){var m,d,f,v,E,S,I;s._RF.push({},"b3fc6CrhkRLuIWjzLtnoIzX","OtherButtonCom",void 0);var _=r.ccclass,N=r.property;t("OtherButtonCom",(m=_("OtherButtonCom"),d=N(u),f=N(u),m((S=n((E=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,o(i(n),"helpNode",S,i(n)),o(i(n),"soundNode",I,i(n)),n}e(n,t);var s=n.prototype;return s.start=function(){l.getIns().on(h.Event.Common.CHANGE_MUSIC_STATE,this.onChangeMusic,this),l.getIns().on(h.Event.Common.CHANGE_SOUND_STATE,this.onChangeSound,this);var t=g.getIns().isOpenSound();this.soundNode.getComponent(a).isChecked=!t},s.onClickHelp=function(t){l.getIns().emit(h.Event.Common.CLICK_HELP_BUTTON,t)},s.onClickSetting=function(t){var n,e=null===(n=t.target.getComponent(a).checkMark.getComponent(p))||void 0===n?void 0:n.SpritePath;if(c.resources.getInfoWithPath(e)){var o=t.target.getComponent(a).isChecked;g.getIns().saveSoundState(o)}else l.getIns().emit(h.Event.Common.CLICK_SETTING_BUTTON,t)},s.onChangeMusic=function(t){},s.onChangeSound=function(t){this.soundNode.getComponent(a).isChecked=!t},s.onDestroy=function(){l.getIns().off(h.Event.Common.CHANGE_MUSIC_STATE,this.onChangeMusic,this),l.getIns().off(h.Event.Common.CHANGE_SOUND_STATE,this.onChangeSound,this)},n}(C)).prototype,"helpNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(E.prototype,"soundNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=E))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioConst.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var u,n,s;return{setters:[function(o){u=o.defineProperty},function(o){n=o.cclegacy,s=o._decorator}],execute:function(){n._RF.push({},"b8abendwkBM5r7Boo9YwEVO","AudioConst",void 0);s.ccclass,s.property;var d=o("AudioConst",(function(){}));u(d,"click","audio/sound/click"),u(d,"otherTurn","audio/sound/otherTurn"),u(d,"myTurn","audio/sound/myTurn"),u(d,"CD","audio/sound/CD"),u(d,"throw","audio/sound/throw"),u(d,"miss","audio/sound/miss"),u(d,"move","audio/sound/move"),u(d,"home","audio/sound/home"),u(d,"magnet","audio/sound/magnet"),u(d,"bomb","audio/sound/bomb"),u(d,"pass","audio/sound/pass"),u(d,"win","audio/sound/win"),n._RF.pop()}}}));

System.register("chunks:///_virtual/Alert.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Lang.ts","./BaseView.ts"],(function(e){"use strict";var t,n,l,i,r,a,c,o,s,u,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty,a=e.asyncToGenerator},function(e){c=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label},function(e){b=e.Lang},function(e){p=e.default}],execute:function(){var f,h,g,C,y,m,k,v,d,x,_;c._RF.push({},"b8fe5lg16pJ+6v9/QVUe77m","Alert",void 0);var w=o.ccclass,T=o.property;e("Alert",(f=w("Alert"),h=T(s),g=T(s),C=T(s),y=T(s),f((v=t((k=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,l(i(t),"conent",v,i(t)),l(i(t),"btnCancel",d,i(t)),l(i(t),"btnSure",x,i(t)),l(i(t),"txtTitle",_,i(t)),r(i(t),"cancelCallback",void 0),r(i(t),"sureCallback",void 0),t}n(t,e);var c=t.prototype;return c.init=function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.txtTitle.getComponent(u).string=t.title||b.getText("title_tips"),this.conent.getComponent(u).string=t.content,t.cancelInfo?(this.btnCancel.active=!0,this.cancelCallback=t.cancelInfo.callback,this.btnCancel.getChildByName("btn_text").getComponent(u).string=t.cancelInfo.text||b.getText("btn_cancel")):(this.btnCancel.active=!1,this.cancelCallback=null),t.sureInfo?(this.sureCallback=t.sureInfo.callback,this.btnSure.getChildByName("btn_text").getComponent(u).string=t.sureInfo.text||b.getText("btn_sure")):this.sureCallback=null;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.onCancel=function(){this.cancelCallback&&this.cancelCallback(),this.closeSelf()},c.onSure=function(){this.sureCallback&&this.sureCallback(),this.closeSelf()},t}(p)).prototype,"conent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(k.prototype,"btnCancel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"btnSure",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(k.prototype,"txtTitle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/Util.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./CustomButton.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,o,a,r,i,u,c,s,d,m,l;return{setters:[function(t){e=t.defineProperty,n=t.asyncToGenerator},function(t){o=t.cclegacy,a=t.isValid,r=t.UITransform,i=t.Sprite,u=t.assetManager,c=t.SpriteFrame,s=t.Texture2D,d=t.instantiate},function(t){m=t.CustomButton},function(t){l=t.FrameWork}],execute:function(){o._RF.push({},"bf6cfcNJnlOd4xiJHhZ3dh2","Util",void 0);var f=t("default",function(){function t(){}return t.formatDate=function(t){t=t||Date.now();var e=new Date(t),n=e.getMonth()+1,o=e.getDate(),a=e.getHours(),r=e.getMinutes(),i=e.getSeconds();return(n<10?"0"+n:n)+"月"+(o<10?"0"+o:o)+"日"+(a<10?"0"+a:a)+"时"+(r<10?"0"+r:r)+"分"+(i<10?"0"+i:i)+"秒"+e.getMilliseconds()},t.adptSize=function(t,e,n){if(a(t)){n=n||t.node.getComponent(r).contentSize.width,t.spriteFrame=e,t.sizeMode=i.SizeMode.RAW;var o=t.node.getComponent(r).contentSize,u=n/Math.min(o.width,o.height);t.node.getComponent(r).setContentSize(o.width*u,o.height*u)}},t.loadRemoteLogo=function(){var t=n(regeneratorRuntime.mark((function t(e,n){var o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.remoteLogoMap.has(e)){t.next=3;break}return n&&n(this.remoteLogoMap.get(e)),t.abrupt("return");case 3:u.loadRemote(e,{ext:".jpg"},(function(t,a){if(!t){var r=new c,i=new s;return i.image=a,r.texture=i,r.packable=!1,o.remoteLogoMap.set(e,r),void(n&&n(r))}n&&n(null)}));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.loadRemoteFrame=function(t,e,n){var o=this;this.IconMap.has(e)?a(t)&&this.adptSize(t,this.IconMap.get(e),n):u.loadRemote(e,{ext:".jpg"},(function(a,r){if(!a){var i=new c,u=new s;if(o.IconMap.set(e,i),u.image=r,i.texture=u,i.packable=!1,!t||!t.node||!t.node.parent)return;o.adptSize(t,i,n),console.log("----Util---loadRemoteFrame----!err---url:",e)}}))},t.loadNftRemoteFrame=function(t,e,n,o,r,i){var d=this;this.IconMap.has(e)?a(t)&&(this.adptSize(t,this.IconMap.get(e),n),1==i?r&&a(r)&&(r.active=!0):r&&a(r)&&(r.active=!1)):u.loadRemote(e,{ext:".jpg"},(function(a,u){if(a)return r&&(r.active=!1),void d.loadNftRemoteFrame(t,o,n,o,r,!1);var m=new c,l=new s;d.IconMap.set(e,m),l.image=u,m.texture=l,m.packable=!1,t&&t.node&&t.node.parent&&(d.adptSize(t,m,n),1==i?r&&(r.active=!0):r&&(r.active=!1),console.log("---Util----loadNftRemoteFrame---!err--url:",e))}))},t.getStringLen=function(t){for(var e=t.length,n=0,o=0;n<e;)t.charCodeAt(n)<=126?o+=1:o+=2,n++;return o},t.loadCutomLobbyRecordBtn=function(t){a(t)&&l.bundle.load("prefabs/CustomButton",(function(e,n){if(!e){var o=d(n);o.getComponent(m).init("custom_lobby_record_btn"),o.name="@ctrl_custom_lobby_record_btn",t.addChild(o)}}))},t.loadCutomLobbyRankBtn=function(t){a(t)&&l.bundle.load("prefabs/CustomButton",(function(e,n){if(!e){var o=d(n);o.getComponent(m).init("custom_lobby_rank_btn"),o.name="@ctrl_custom_lobby_rank_btn",t.addChild(o)}}))},t.loadCutomGameRecordBtn=function(t){a(t)&&l.bundle.load("prefabs/CustomButton",(function(e,n){if(!e){var o=d(n);o.getComponent(m).init("custom_game_record_btn"),o.name="@ctrl_custom_game_record_btn",t.addChild(o)}}))},t.loadCutomGameRankBtn=function(t){a(t)&&l.bundle.load("prefabs/CustomButton",(function(e,n){if(!e){var o=d(n);o.getComponent(m).init("custom_game_rank_btn"),o.name="@ctrl_custom_game_rank_btn",t.addChild(o)}}))},t}());e(f,"IconMap",new Map),e(f,"remoteLogoMap",new Map),o._RF.pop()}}}));

System.register("chunks:///_virtual/Const.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ViewConst.ts"],(function(_){"use strict";var m,e,o,c;return{setters:[function(_){m=_.defineProperty},function(_){e=_.cclegacy},function(_){o=_.LayerType,c=_.ViewType}],execute:function(){var n;_({EnvType:void 0,PingValueType:void 0,PlayerStatus:void 0,ReqResultType:void 0}),e._RF.push({},"c23f9cCyFhLtLLZC0yrzh/Q","Const",void 0);var a,s,E,g,t=_("Const",(function(){}));m(t,"Event",{Sdk:{INIT_SUCCESS:"SDK_INIT_SUCCESS",INIT_FAILE:"SDK_INIT_FAILE",LOGIN_SUCCESS:"SDK_LOGIN_SUCCESS",LOGIN_FAILE:"SDK_LOGIN_FAILE",GET_STATE_FAILE:"SDK_GET_STATE_FAILE",CHANGE_NET_STATUS:"SDK_CHANGE_NET_STATUS",GET_SDK_LOGIN_CODE_FAILE:"SDK_GET_SDK_LOGIN_CODE_FAILE",UPDATE_SDK_LOGIN_CODE:"SDK_UPDATE_SDK_LOGIN_CODE",NTF_GAME_2_APP_FAIL:"SDK_NTF_GAME_2_APP_FAIL",NTF_STATE_CHANGE:"SDK_NTF_STATE_CHANGE",NTF_GAME_LOAD_COMPLETED_FAILE:"SDK_NTF_GAME_LOAD_COMPLETED_FAILE",NTF_GAME_LOAD_START_FAILE:"SDK_NTF_GAME_LOAD_START_FAILE",MG2APP_PLAYER_STATUS_LIST:{mg_common_player_in:"mg_common_player_in",mg_common_player_ready:"mg_common_player_ready",mg_common_player_captain:"mg_common_player_captain",mg_common_player_playing:"mg_common_player_playing",mg_common_player_change_seat:"mg_common_player_change_seat",mg_common_self_click_game_player_icon:"mg_common_self_click_game_player_icon",mg_common_self_turn_status:"mg_common_self_turn_status"},APP2MG_SELF_STATUS_LIST:{app_common_self_in:"app_common_self_in",app_common_self_ready:"app_common_self_ready",app_common_self_playing:"app_common_self_playing",app_common_self_captain:"app_common_self_captain",app_common_self_kick:"app_common_self_kick",app_common_self_end:"app_common_self_end",app_common_open_bg_music:"app_common_open_bg_music",app_common_open_sound:"app_common_open_sound",app_common_open_vibrate:"app_common_open_vibrate",app_common_game_sound_volume:"app_common_game_sound_volume",app_common_game_setting_select_info:"app_common_game_setting_select_info",app_common_game_add_ai_players:"app_common_game_add_ai_players",app_common_game_reconnect:"app_common_game_reconnect",app_common_self_click_poop:"app_common_self_click_poop",app_common_self_click_good:"app_common_self_click_good",app_common_game_create_order_result:"app_common_game_create_order_result",app_common_game_back_lobby:"app_common_game_back_lobby",app_common_game_ui_custom_config:"app_common_game_ui_custom_config"},MG2APP_GAME_STATUS_LIST:{mg_common_game_state:"mg_common_game_state",mg_common_game_settlement:"mg_common_game_settle",mg_common_key_word_to_hit:"mg_common_key_word_to_hit",mg_common_game_asr:"mg_common_game_asr",mg_common_public_message:"mg_common_public_message",mg_common_self_click_join_btn:"mg_common_self_click_join_btn",mg_common_self_click_cancel_join_btn:"mg_common_self_click_cancel_join_btn",mg_common_self_click_ready_btn:"mg_common_self_click_ready_btn",mg_common_self_click_cancel_ready_btn:"mg_common_self_click_cancel_ready_btn",mg_common_self_click_start_btn:"mg_common_self_click_start_btn",mg_common_self_click_share_btn:"mg_common_self_click_share_btn",mg_common_self_click_game_settle_close_btn:"mg_common_self_click_game_settle_close_btn",mg_common_self_click_game_settle_again_btn:"mg_common_self_click_game_settle_again_btn",mg_common_self_click_poop:"mg_common_self_click_poop",mg_common_self_click_good:"mg_common_self_click_good",mg_common_game_sound_list:"mg_common_game_sound_list",mg_common_game_sound:"mg_common_game_sound",mg_common_game_bg_music_state:"mg_common_game_bg_music_state",mg_common_game_sound_state:"mg_common_game_sound_state",mg_common_self_microphone:"mg_common_self_microphone",mg_common_self_headphone:"mg_common_self_headphone",mg_common_app_common_self_x_resp:"mg_common_app_common_self_x_resp",mg_common_game_add_ai_players:"mg_common_game_add_ai_players",mg_common_game_countdown_time:"mg_common_game_countdown_time",mg_common_game_network_state:"mg_common_game_network_state",mg_common_game_load_percent:"mg_common_game_load_percent",mg_common_game_click_custom_lobby_record_btn:"mg_common_game_click_custom_lobby_record_btn",mg_common_game_click_custom_lobby_rank_btn:"mg_common_game_click_custom_lobby_rank_btn",mg_common_game_click_custom_game_record_btn:"mg_common_game_click_custom_game_record_btn",mg_common_game_click_custom_game_rank_btn:"mg_common_game_click_custom_game_rank_btn",mg_common_alert:"mg_common_alert",mg_common_game_fps:"mg_common_game_fps",mg_common_game_player_icon_position:"mg_common_game_player_icon_position",mg_common_game_create_order:"mg_common_game_create_order",mg_common_game_ui_custom_config:"mg_common_game_ui_custom_config",mg_common_game_piece_arrive_end:"mg_common_game_piece_arrive_end",mg_common_game_player_color:"mg_common_game_player_color",mg_common_game_player_managed_state:"mg_common_game_player_managed_state"}},SOCKET:{MESSAGE:"SOCKET_MSG",RECONNECT:"SOCKET_RECONNECT",CONNECTING:"SOCKET_CONNECTING",CONNECT_SUC:"SOCKET_CONNECT_SUC",CONNECT_FAIL:"SOCKET_CONNECT_FAIL",DISCONNECT:"SOCKET_DISCONNECT",SERVER_PING:"SOCKET_SERVER_PING"},Net:{RECONNECT:"NET_RECONNECT",CONNECTING:"NET_CONNECTING",CONNECT_SUC:"NET_CONNECT_SUC",CONNECT_FAIL:"NET_CONNECT_FAIL",DISCONNECT:"NET_DISCONNECT",SERVER_PING:"NET_SERVER_PING"},Common:{SHOW_REQUEST_MASK:"COMMON_SHOW_REQUEST_MASK",HIDE_REQUEST_MASK:"COMMON_HIDE_REQUEST_MASK",CLICK_HELP_BUTTON:"COMMON_CLICK_HELP_BUTTON",CLICK_SETTING_BUTTON:"COMMON_CLICK_SETTING_BUTTON",CLICK_USERINFO_BUTTON:"COMMON_CLICK_USERINFO_BUTTON",CLICK_BUTTON:"COMMON_CLICK_BUTTON",CHANGE_MUSIC_STATE:"COMMON_CHANGE_MUSIC_STATE",CHANGE_SOUND_STATE:"COMMON_CHANGE_SOUND_STATE",CHANGE_VIBRATE_STATE:"COMMON_CHANGE_VIBRATE_STATE",APP_COMMON_GAME_SOUND_VOLUME:"APP_COMMON_GAME_SOUND_VOLUME",APP_COMMON_GAME_SETTING_SELECT_INFO:"APP_COMMON_GAME_SETTING_SELECT_INFO",APP_COMMON_GAME_ADD_AI_PLAYERS:"APP_COMMON_GAME_ADD_AI_PLAYERS",ON_EFFECT_FRAME_EVENT:"ON_EFFECT_FRAME_EVENT"},UI:{SHOW_ALERT_UI:"UI_SHOW_ALERT_UI",SHOW_GAME_UI:"UI_SHOW_GAME_UI",SHOW_LOADING_GAME_UI:"UI_SHOW_LOADING_GAME_UI",UPDATE_ACCOUNT:"UI_UPDATE_ACCOUNT",LOAD_GAME_UI_COMPILE:"UI_LOAD_GAME_UI_COMPILE",CLICK_APPRAIS:"CLICK_APPRAIS",APP_CREATE_ORDER_RESULT:"APP_CREATE_ORDER_RESULT",APP_GAME_UI_CUSTOM_CONFIG:"APP_GAME_UI_CUSTOM_CONFIG",LOBBY:{ButtonType:{join:"UI_LOBBY_BUTTONTYPE_JOIN",ready:"UI_LOBBY_BUTTONTYPE_READY",cancel_ready:"UI_LOBBY_BUTTONTYPE_CANCEL_READY",start:"UI_LOBBY_BUTTONTYPE_START",exit:"UI_LOBBY_BUTTONTYPE_EXIT"},LOGIN_SUC:"UI_LOBBY_LOGIN_SUC",UPDATE_BUTTON_STATUS:"UI_LOBBY_UPDATE_BUTTON_STATUS",ENTER_PLAYER:"UI_LOBBY_ENTER_PLAYER",LEAVE_PLAYER:"UI_LOBBY_LEAVE_PLAYER",UPDATE_CAPTAIN:"UI_LOBBY_UPDATE_CAPTAIN",UPDATE_PLAYER_REDAY:"UI_LOBBY_UPDATE_PLAYER_REDAY",UPDATE_KICK_BTN:"UI_LOBBY_UPDATE_KICK_BTN"},CHANGE_LANGUAGE:"CHANGE_LANGUAGE"},MSG:{REQ_FAIL:"REQ_FAIL",HTTP_REQ_FAIL:"HTTP_REQ_FAIL",SYNC_PING_VALUE:"SYNC_PING_VALUE"},Data:{UPDATE_GAME_DATA:"UPDATE_GAME_DATA"}}),m(t,"LOADSTEP",{1:{step:1,percent:0,desc:"SDK初始化开始",code:0},2:{step:2,percent:10,desc:"SDK初始化完成",code:0},3:{step:3,percent:20,desc:"初始化完成声音列表和多语言列表",code:0},4:{step:4,percent:30,desc:"HTTP 验证开始",code:0},5:{step:5,percent:50,desc:"HTTP 验证完成",code:0},6:{step:6,percent:60,desc:"socket 链接",code:0},7:{step:7,percent:80,desc:"socket 链接成功",code:0},8:{step:8,percent:90,desc:"socket 登录",code:0},9:{step:9,percent:100,desc:"socket 登录成功",code:0}}),m(t,"FrameWorkBundleName","framework_res"),m(t,"SERVER_RESULT_CODE",{SUCCESS:0,CODE_OVERDUE:105005,LOGIN_FAILE:100100,ROOM_PLAYER_OVERFLOW:100202,ROOM_START_GAME_PLAYER_NO_REDAY:100503,ROOM_START_GAME_PLAYER_DEFICIENCY:100504}),m(t,"errorCode",((n={})[1e5]={msg:"通用错误"},n[100001]={msg:"http 缺失code参数"},n[100002]={msg:"http 缺失roomID 参数"},n[100003]={msg:"http 缺失appID 参数"},n[100004]={msg:"http 缺失openID 参数"},n[100005]={msg:"code 效验失败或者过期"},n[100006]={msg:"sdk 请求错误"},n[100007]={msg:"sdk 参数错误"},n[100008]={msg:"数据库查询错误"},n[100009]={msg:"数据库插入错误"},n[100010]={msg:"数据库修改错误"},n[100100]={msg:" 登陆错误"},n[100200]={msg:" 加入房间错误"},n[100201]={msg:" 战斗时房间不能加入"},n[100202]={msg:" 房间人数已满"},n[100203]={msg:" 重复加入"},n[100204]={msg:" 位置上有人"},n[100300]={msg:" 退出错误"},n[100301]={msg:" 不在游戏位"},n[100302]={msg:" 准备或游戏状态不能退出"},n[100400]={msg:" 准备错误"},n[100401]={msg:" 取消准备错误"},n[100500]={msg:" 开始游戏错误"},n[100501]={msg:" 游戏已开始"},n[100502]={msg:" 队长才能开始游戏"},n[100503]={msg:" 有人未准备"},n[100504]={msg:" 开始游戏的人数不足"},n[100600]={msg:" 踢人错误"},n[100601]={msg:" 队长才能踢人"},n[100602]={msg:" 战斗房间不能踢人"},n[100603]={msg:" 不能踢自己"},n[100700]={msg:" 换队长错误"},n[100800]={msg:" 逃跑错误"},n[100801]={msg:" 逃跑时游戏已结束"},n[100802]={msg:" 逃跑时玩家已不在游戏中"},n[100900]={msg:" 解散错误"},n[100901]={msg:" 解散时游戏已结束"},n[100902]={msg:" 队长才能解散"},n[101001]={msg:" 其他玩家操作中"},n[101002]={msg:" 队长才能切换游戏模式"},n[101003]={msg:" 只有队长才能添加AI！"},n[105012]={msg:" 请求update_sstoken 失败"},n[105107]={msg:" update_sstoken sdk代理错误，返回http状态码非200"},n[105108]={msg:" update_sstoken 代理错误"},n)),m(t,"CanControlledName","@ctrl_"),m(t,"CommonUIConfig",{Alert:{desc:"弹窗",name:"alert",resPath:"prefabs/Alert",isFixedView:!0,layerType:o.alert,viewType:c.popup,zIndex:1,bundleName:"framework_res"},RequestMaskView:{desc:"屏蔽触摸界面",name:"RequestMaskView",resPath:"prefabs/RequestMaskView",isFixedView:!0,layerType:o.top,viewType:c.view,zIndex:1,bundleName:"framework_res"},MobileInfoView:{desc:"手机信息显示",name:"MobileInfoView",resPath:"prefabs/MobileInfoView",layerType:o.top,viewType:c.none,isFixedView:!0,zIndex:1,bundleName:"framework_res"},LoadingGame:{desc:"加载游戏界面",name:"LoadingGame",resPath:"prefabs/LoadingGameView",layerType:o.popup,viewType:c.view,zIndex:1,bundleName:"framework_res"},Login:{desc:"登录界面",name:"LoginView",resPath:"prefabs/LoginView",layerType:o.view,viewType:c.view,zIndex:1,bundleName:"framework_res"},Lobby:{desc:"大厅界面",name:"LobbyView",resPath:"prefabs/LobbyView",layerType:o.view,viewType:c.view,zIndex:1,bundleName:"framework_res"},MVP:{desc:"MVP",name:"MVP",resPath:"prefabs/nft/mvp",sdkViewConfigName:"game_mvp",layerType:o.popup,viewType:c.view,zIndex:1,bundleName:"framework_res"}}),m(t,"EnvPrefix",{Pro:"",Sim:"sim-",Fat:"fat-",Dev:"dev-"}),function(_){_[_.yes=1]="yes",_[_.no=2]="no"}(a||(a=_("ReqResultType",{}))),function(_){_[_.Pro=1]="Pro",_[_.Sim=2]="Sim",_[_.Fat=3]="Fat",_[_.Dev=4]="Dev"}(s||(s=_("EnvType",{}))),function(_){_[_.find=0]="find",_[_.common=1]="common",_[_.inferior=2]="inferior"}(E||(E=_("PingValueType",{}))),function(_){_[_.idle=0]="idle",_[_.ready=1]="ready",_[_.loadrd=2]="loadrd",_[_.escaped=3]="escaped",_[_.escaped_and_leave=4]="escaped_and_leave",_[_.auto=5]="auto"}(g||(g=_("PlayerStatus",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseCommon.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./Lang.ts","./Env.ts","./Util.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,u,c,g,l,f,m,p,h,d,C,L,S,v,P,y,B,I,k;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator},function(e){s=e.cclegacy,u=e._decorator,c=e.CCBoolean,g=e.CCString,l=e.resources,f=e.isValid,m=e.Component,p=e.Sprite,h=e.assetManager,d=e.Button,C=e.EventHandler},function(e){L=e.Const,S=e.EnvType},function(e){v=e.EventDispatcher},function(e){P=e.Lang,y=e.LanguageList},function(e){B=e.default},function(e){I=e.default},function(e){k=e.FrameWork}],execute:function(){var b,x,E,F,_,w,U,R,W,z,T,D,M;s._RF.push({},"c4271JfOgpGXLiAMB508ThK","BaseCommon",void 0);var A=u.ccclass,J=u.property;u.executeInEditMode,e("BaseCommon",(b=A("BaseCommon"),x=J(c),E=J(c),F=J(c),_=J(g),b((M=D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"isClick",R,r(t)),i(r(t),"isLanguage",W,r(t)),i(r(t),"isUrlPath",z,r(t)),i(r(t),"SpritePath",T,r(t)),t}o(t,e);var n=t.prototype;return n.onLoad=function(){var e=a(regeneratorRuntime.mark((function e(){var t,n,o,i,r,a,s,u,c,g,l,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isClick&&((t=this.node.getComponent(d))||(t=this.node.addComponent(d)),n=new C,t.transition=d.Transition.SCALE,n.handler="onClick",n.target=this.node,n.component="BaseCommon",t.clickEvents[0]=n),!this.isUrlPath){e.next=21;break}return(o=this.node.getComponent(p))||(o=this.node.addComponent(p)),i=k.loginSuffixURL,k.loadJsonURL&&(i=k.loadJsonURL),r=null,a=k.sdkInfo,s="logo",k.newLogo&&(s=k.newLogo),u="",u=a&&a.dynamic_config&&a.dynamic_config.resource_domain?a.dynamic_config.resource_domain+"/game/"+i+"/"+s+"/"+P.getLanguageImageSuffix(P.curLanguageStr):"https://"+L.EnvPrefix[S[B.getIns().getType()]]+"sud-static.sudden.ltd/game/"+i+"/"+s+"/"+P.getLanguageImageSuffix(P.curLanguageStr),k.log("logo url == ",u+".png"),e.next=16,this.loadUrlSpriteFrame(u);case 16:r=e.sent,k.log("remote logo == ",r),r&&f(o)?o.spriteFrame=r:(c=this.SpritePath,this.isLanguage?(c=c+"/"+P.getLanguageImageSuffix(P.curLanguageStr),console.log("use local logo resource path == ",c),(g=h.resources.getInfoWithPath(c))||(k.log("BaseCommon.ts 缺少语言文件:",c),c=this.SpritePath+"/"+P.getLanguageImageSuffix(y.en_us),g=h.resources.getInfoWithPath(c))):g=h.resources.getInfoWithPath(c),g&&this.loadSpriteFrame(c,o)),e.next=22;break;case 21:this.SpritePath&&((l=this.node.getComponent(p))||(l=this.node.addComponent(p)),m=this.SpritePath,this.isLanguage?(m=m+"/"+P.getLanguageImageSuffix(P.curLanguageStr),(v=h.resources.getInfoWithPath(m))||(k.log("BaseCommon.ts 缺少语言文件:",m),m=this.SpritePath+"/"+P.getLanguageImageSuffix(y.en_us),v=h.resources.getInfoWithPath(m))):v=h.resources.getInfoWithPath(m),v&&this.loadSpriteFrame(m,l));case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.loadSpriteFrame=function(e,t){l.load(e+"/spriteFrame",(function(e,n){e||f(t)&&(t.spriteFrame=n)}))},n.loadUrlSpriteFrame=function(e){return new Promise((function(t,n){I.loadRemoteLogo(e+".png",(function(e){t(e)}))}))},n.onClick=function(e){var n=e.target;v.getIns().emit(t.BaseCommonButtonClickEvent,n)},t}(m),t(D,"BaseCommonButtonClickEvent","BaseCommonButtonClickEvent"),R=n((U=M).prototype,"isClick",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=n(U.prototype,"isLanguage",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=n(U.prototype,"isUrlPath",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=n(U.prototype,"SpritePath",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=U))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtils.ts",["cc"],(function(t){"use strict";var r,c;return{setters:[function(t){r=t.cclegacy,c=t._decorator}],execute:function(){var e;r._RF.push({},"c674cG/wvxKnJYufsQouP8c","GameUtils",void 0);var n=c.ccclass;c.property,t("GameUtils",n("GameUtils")(e=function(){function t(){}return t.cloneObj=function(t){var r=JSON.stringify(t);t=JSON.parse(r);var c={};for(var e in t instanceof Array&&(c=[]),t){var n=t[e];c[e]="object"==typeof n?this.cloneObj(n):n}return c},t}())||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(e){"use strict";var t,r,a,n,f,i,c;return{setters:[function(e){t=e.inheritsLoose,r=e.defineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,f=e.error,i=e.js},function(e){c=e.default}],execute:function(){n._RF.push({},"c75f9FIqhZAcLo8dPoGpzv+","EventDispatcher",void 0);e("EventDispatcher",function(e){function n(){for(var t,n=arguments.length,f=new Array(n),c=0;c<n;c++)f[c]=arguments[c];return t=e.call.apply(e,[this].concat(f))||this,r(a(t),"_eventCacheMap",i.createMap()),r(a(t),"_bufferMap",i.createMap()),r(a(t),"isAutoClearBufferMap",!0),r(a(t),"autoClearBufferTime",1),t}t(n,e);var c=n.prototype;return c.emit=function(e){for(var t=this._eventCacheMap[e],r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];if(t&&t.length>0){for(var f=null,i=0;i<t.length;i++)(f=t[i]).func.apply(f.target,a);for(var c=t.length-1;c>=0;c--)(f=t[c]).once&&t.splice(c,1)}else{var o=this._bufferMap[e];o||(o=[],this._bufferMap[e]=o),o.push(a),this.isAutoClearBufferMap&&this.autoClearBuffer(e)}},c.autoClearBuffer=function(e){var t=this;setTimeout((function(){t._bufferMap[e]&&delete t._bufferMap[e]}),1e3*this.autoClearBufferTime)},c.clearCacheBuffer=function(e){this._bufferMap[e]&&delete this._bufferMap[e]},c.on=function(e,t,r){e?this._on(e,t,r,!1):f("EventDispatcher on eventName 不合法",e,t)},c.onOnce=function(e,t,r){this._on(e,t,r,!0)},c._on=function(e,t,r,a){var n=this._eventCacheMap[e];n||(n=[]);var f=!0;if(n&&n.length>0)for(var i=0;i<n.length;i++){var c=n[i];c.target==r&&c.func==t&&(f=!1)}if(f&&(n.push({target:r,func:t,once:a}),this._eventCacheMap[e]=n),Object.getOwnPropertyNames(this._bufferMap).length>0){var o=this._bufferMap[e];if(o){for(var u=0;u<o.length;u++){var s=o[u],h=[e].concat(s);this.emit.apply(this,h)}delete this._bufferMap[e]}}},c.off=function(e,t,r){var a=this._eventCacheMap[e];if(a)if(t&&r)for(var n=0;n<a.length;n++){var f=a[n];f.target==r&&f.func&&a.splice(n,1)}else delete this._eventCacheMap[e]},c.targetOff=function(e){for(var t in this._eventCacheMap)for(var r=this._eventCacheMap[t],a=r.length-1;a>=0;a--){r[a][a].target==e&&r.splice(a,1)}},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/MobileInfoView.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./BaseView.ts"],(function(n){"use strict";var e,t,r,o,i,s,a,c,u,l,p,f,v,d,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized,i=n.defineProperty,s=n.asyncToGenerator},function(n){a=n.cclegacy,c=n._decorator,u=n.Label,l=n.Color,p=n.resources,f=n.JsonAsset},function(n){v=n.Const},function(n){d=n.EventDispatcher},function(n){h=n.default}],execute:function(){var g,m,w,y,_;a._RF.push({},"ca044zXSDJD1L9nEpldTEvn","MobileInfoView",void 0);var b=c.ccclass,E=c.property;n("MobileInfoView",(g=b("MobileInfoView"),m=E(u),g((_=e((y=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s))||this,r(o(e),"version",_,o(e)),i(o(e),"numColors",[new l(34,255,29),new l(255,222,0),new l(255,0,0)]),i(o(e),"jsonData",void 0),e}t(e,n);var a=e.prototype;return a.load=function(){var n=s(regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadJson("config/version");case 2:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),a.loadJson=function(){var n=s(regeneratorRuntime.mark((function n(e){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){p.load(e,f,(function(e,r){if(e)t.version.node.active=!1;else{var o=r.json.version,i=r.json.minVersion;t.version.string="v"+o+"_"+i,n(null)}}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),a.onLoad=function(){},a.addEventListeners=function(){d.getIns().on(v.Event.MSG.SYNC_PING_VALUE,this.onUpdateNetMs,this)},a.removeEventListeners=function(){d.getIns().off(v.Event.MSG.SYNC_PING_VALUE,this.onUpdateNetMs,this)},a.init=function(){},a.onUpdateNetMs=function(n){this.nodes["root/@ctrl_ping/ms"].getComponent(u).string=n.value+"ms",this.nodes["root/@ctrl_ping/ms"].getComponent(u).color=this.numColors[n.type]},e}(h)).prototype,"version",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseLobbyCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./NetMgr.ts","./RoomMgr.ts","./UIMgr.ts","./BaseLobbyModel.ts","./FrameWork.ts"],(function(e){"use strict";var t,n,s,a,o,i,r,g,l,h,c,u,y,d;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,s=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator},function(e){i=e.cclegacy,r=e._decorator},function(e){g=e.Const},function(e){l=e.default},function(e){h=e.default},function(e){c=e.default},function(e){u=e.default},function(e){y=e.default},function(e){d=e.FrameWork}],execute:function(){var m;i._RF.push({},"ca48dxh0UFPv5jTeZt3FoCr","BaseLobbyCtrl",void 0);var f=r.ccclass;r.property,e("BaseLobbyCtrl",f("BaseLobbyCtrl")(m=function(e){function i(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(s(t),"_model",void 0),t}t(i,e);var r=i.prototype;return r.addEventListeners=function(){h.getIns().onEventMsg(h.getIns().getCmd().OnPlayerReady,this.onPlayerReady,this),h.getIns().onEventMsg(h.getIns().getCmd().OnPlayerEnter,this.onPlayerEnter,this),h.getIns().onEventMsg(h.getIns().getCmd().OnGameReady,this.onGameReady,this),h.getIns().onEventMsg(h.getIns().getCmd().OnGameStart,this.onGameStart,this),h.getIns().onEventMsg(h.getIns().getCmd().OnPlayerLeave,this.onPlayerLeave,this),h.getIns().onEventMsg(h.getIns().getCmd().OnChangeCaptain,this.onChangeCaptain,this),h.getIns().onEventMsg(h.getIns().getCmd().OnPlayerEscape,this.onPlayerEscape,this),h.getIns().onEventMsg(h.getIns().getCmd().OnPlayerChangeSeat,this.onPlayerChangeSeat,this),h.getIns().onEventMsg(h.getIns().getCmd().OnGameFinish,this.onGameFinish,this),h.getIns().onEventMsg(h.getIns().getCmd().OnUpdateAccountAttributes,this.onUpdateAccountAttributes,this),h.getIns().onEventMsg(h.getIns().getCmd().OnPlayerLogin,this.onPlayerLogin,this),h.getIns().getCmd().OnPlayerSetType&&h.getIns().onEventMsg(h.getIns().getCmd().OnPlayerSetType,this.onPlayerSetType,this)},r.removeEventListeners=function(){h.getIns().offEventMsg(h.getIns().getCmd().OnPlayerReady,this.onPlayerReady,this),h.getIns().offEventMsg(h.getIns().getCmd().OnPlayerEnter,this.onPlayerEnter,this),h.getIns().offEventMsg(h.getIns().getCmd().OnGameReady,this.onGameReady,this),h.getIns().offEventMsg(h.getIns().getCmd().OnGameStart,this.onGameStart,this),h.getIns().offEventMsg(h.getIns().getCmd().OnPlayerLeave,this.onPlayerLeave,this),h.getIns().offEventMsg(h.getIns().getCmd().OnChangeCaptain,this.onChangeCaptain,this),h.getIns().offEventMsg(h.getIns().getCmd().OnPlayerEscape,this.onPlayerEscape,this),h.getIns().offEventMsg(h.getIns().getCmd().OnPlayerChangeSeat,this.onPlayerChangeSeat,this),h.getIns().offEventMsg(h.getIns().getCmd().OnGameFinish,this.onGameFinish,this),h.getIns().offEventMsg(h.getIns().getCmd().OnUpdateAccountAttributes,this.onUpdateAccountAttributes,this),h.getIns().offEventMsg(h.getIns().getCmd().OnPlayerLogin,this.onPlayerLogin,this),h.getIns().getCmd().OnPlayerSetType&&h.getIns().offEventMsg(h.getIns().getCmd().OnPlayerSetType,this.onPlayerSetType,this)},r.requestLoadingGameCompile=function(e){h.getIns().request(h.getIns().getCmd().Loaded,{},(function(){e&&e()}))},r.enter=function(e){0==e.game.state?this.model.enterLobby(e.game):this.model.enterLoadingGame(e.game,!0)},r.onPlayerReady=function(e){this.model.playerReady(e)},r.resetPlayerStatus=function(){this.model.resetPlayerStatus()},r.exit=function(){this.removeEventListeners()},r.backLobby=function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.lobbyUIConfig){e.next=7;break}return e.next=3,u.getIns().showView(d.lobbyUIConfig);case 3:return e.next=5,u.getIns().closeAllViewExcept([d.lobbyUIConfig]);case 5:e.next=11;break;case 7:return e.next=9,u.getIns().showView(g.CommonUIConfig.Lobby);case 9:return e.next=11,u.getIns().closeAllViewExcept([g.CommonUIConfig.Lobby]);case 11:this.model.updateButtonStatus(),t&&c.getIns().ready();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.onPlayerEnter=function(e){e.player&&(e.player.name=e.player.name||""),this.model.playerJoinLobby(e)},r.onGameReady=function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.model.gameStartReady(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.onGameStart=function(e){this.model.gameStart(e)},r.onPlayerLeave=function(e){this.model.leavePlayer(e)},r.onPlayerEscape=function(e){this.model.setPlayerEscape(e)},r.onPlayerChangeSeat=function(e){this.model.setPlayerChangeSeat(e)},r.onGameFinish=function(){this.model.resetPlayerStatus()},r.onChangeCaptain=function(e){this.model.setCaptain(e.uniqueId,e.playerId,e.appId)},r.onUpdateAccountAttributes=function(e){e.account.name=e.account.name,this.model.updateAccountAttributes(e)},r.onPlayerLogin=function(e){this.model.setPlayerLogin(e)},r.onPlayerSetType=function(e){this.model.setGameType(e)},a(i,[{key:"model",get:function(){return this._model||(this._model=new y),this._model}}]),i}(l))||m);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./EventDispatcher.ts","./NetMgr.ts","./PlayerMgr.ts","./sdk.ts","./UIMgr.ts","./Env.ts","./BaseLobbyCtrl.ts","./StatisticsPingMgr.ts","./FrameWork.ts","./GameCmd.ts","./UIConfig.ts","./GameConst.ts","./GameModel.ts","./LobbyConst.ts","./GameCommonMessage.ts","./GameUICustomConfig.ts"],(function(e){"use strict";var t,n,s,a,o,i,r,l,d,u,c,g,h,m,f,I,y,p,_,S,M,C,G,P,E,v,O,T;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,s=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator},function(e){i=e.cclegacy,r=e._decorator},function(e){l=e.Const,d=e.EnvType},function(e){u=e.default},function(e){c=e.EventDispatcher},function(e){g=e.default},function(e){h=e.default},function(e){m=e.sdk},function(e){f=e.default},function(e){I=e.default},function(e){y=e.BaseLobbyCtrl},function(e){p=e.StatisticsPingMgr},function(e){_=e.FrameWork},function(e){S=e.GameCmd},function(e){M=e.default},function(e){C=e.GameEvent,G=e.GameSceneState,P=e.MODE_TYPE},function(e){E=e.GameModel},function(e){v=e.default},function(e){O=e.GameCommonMessage},function(e){T=e.GameUICustomConfig}],execute:function(){var A;i._RF.push({},"cc0b4cF5b5Mq7gXoZLb1LaE","GameCtrl",void 0);var x=r.ccclass;r.property,e("GameCtrl",x("GameCtrl")(A=function(e){function i(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(s(t),"model",new E),n(s(t),"_myPlayerIndex",0),n(s(t),"_currPlayerIndex",0),n(s(t),"_roundTime",15),n(s(t),"_defaultDisplay",[]),n(s(t),"_reroll",0),n(s(t),"_rerollTimeout",3),n(s(t),"_price",[0,1,2,4,8,16]),n(s(t),"_uiCustomConfig",0),n(s(t),"_gameUiCustomConfig",null),n(s(t),"_handleMessageId",null),n(s(t),"_msgCatch",[]),n(s(t),"_canHandleMsg",!1),n(s(t),"_playerIdToChessColor",new Map),n(s(t),"isGameStart",!1),t}t(i,e);var r=i.prototype;return r.init=function(e){this.setGameData(e),this._myPlayerIndex=this.getMyPlayerIndex(),this._msgCatch=[],this._canHandleMsg=!1,console.log("GameCtrl init this._myPlayerIndex == ",this._myPlayerIndex)},r.setGameData=function(e){console.log("gamectrl setGameData ==================="),this.model.reset(),this._playerIdToChessColor.clear(),this.model.initGameData(e)},r.setGameDataFromLogin=function(e){this.model.updateGameData(e)},r.addEvents=function(){g.getIns().onEventMsg(S.OnGameStart,this.onHandleGameStart,this),g.getIns().onEventMsg(S.OnGameFinish,this.onHandleGameFinish,this),g.getIns().onEventMsg(S.OnPlayerMove,this.onHandlePlayerMove,this),g.getIns().onEventMsg(S.OnRoundStart,this.onHandleRoundStart,this),g.getIns().onEventMsg(S.OnPlayerEscape,this.onHandlePlayerEscape,this),g.getIns().onEventMsg(S.OnPlayerThrowDice,this.onHandlePlayerThrowDice,this),g.getIns().onEventMsg(S.OnPlayerSetManaged,this.onPlayerSetManaged,this),g.getIns().onEventMsg(S.OnUpdateAccountAttributes,this.onUpdateAccountAttributes,this),g.getIns().onEventMsg(S.OnPlayerSetType,this.onPlayerSetType,this),g.getIns().onEventMsg(S.OnPlayerAddItem,this.onPlayerAddItem,this),c.getIns().on(l.Event.Common.APP_COMMON_GAME_SETTING_SELECT_INFO,this.onAppSettingSelectInfo,this),c.getIns().on(l.Event.UI.APP_GAME_UI_CUSTOM_CONFIG,this.updateGameUiCustomConfig,this)},r.removeEvents=function(){g.getIns().offEventMsg(S.OnGameStart,this.onHandleGameStart,this),g.getIns().offEventMsg(S.OnGameFinish,this.onHandleGameFinish,this),g.getIns().offEventMsg(S.OnPlayerMove,this.onHandlePlayerMove,this),g.getIns().offEventMsg(S.OnRoundStart,this.onHandleRoundStart,this),g.getIns().offEventMsg(S.OnPlayerEscape,this.onHandlePlayerEscape,this),g.getIns().offEventMsg(S.OnPlayerThrowDice,this.onHandlePlayerThrowDice,this),g.getIns().offEventMsg(S.OnPlayerSetManaged,this.onPlayerSetManaged,this),g.getIns().offEventMsg(S.OnUpdateAccountAttributes,this.onUpdateAccountAttributes,this),g.getIns().offEventMsg(S.OnPlayerSetType,this.onPlayerSetType,this),g.getIns().offEventMsg(S.OnPlayerAddItem,this.onPlayerAddItem,this),c.getIns().off(l.Event.Common.APP_COMMON_GAME_SETTING_SELECT_INFO,this.onAppSettingSelectInfo,this),c.getIns().off(l.Event.UI.APP_GAME_UI_CUSTOM_CONFIG,this.updateGameUiCustomConfig,this)},r.updateGameUiCustomConfig=function(e){this.uiCustomConfig&&(this.gameUiCustomConfig=T.create(e),T.preloadAll(this.gameUiCustomConfig.getAllUrls()),T.preloadAllEffects(this.gameUiCustomConfig.getAllEffects()),c.getIns().emit(C.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG))},r.onAppSettingSelectInfo=function(e){if(console.log("onAppSettingSelectInfo data == ",JSON.stringify(e)),e&&e[_.loginSuffixURL]){var t=e[_.loginSuffixURL].mode,n=e[_.loginSuffixURL].chessNum,s=e[_.loginSuffixURL].item;if(console.log("type == ",t),console.log("planeNum == ",n),console.log("isItem == ",s),0!=t&&1!=t&&2!=t)return void console.error("GameCtrl onAppSettingSelectInfo type == ",t);if(2!=n&&4!=n)return void console.error("GameCtrl onAppSettingSelectInfo planeNum == ",n);if(0!=s&&1!=s)return void console.error("GameCtrl onAppSettingSelectInfo isItem == ",s);this.reqSetType({type:t,planeNum:n,isItem:s})}},r.reqSetType=function(e){g.getIns().request(S.SetType,e,(function(e){console.log("reqSetType callback resultData == ",JSON.stringify(e)),e.resultCode==l.SERVER_RESULT_CODE.SUCCESS||console.error("reqSetType fail retCode === ",e.reusltCode)}))},r.onPlayerSetType=function(e){this.model.params=[e.type,e.planeNum,e.isItem],c.getIns().emit(C.PLAYER_SET_TYPE,e)},r.onPlayerAddItem=function(e){c.getIns().emit(C.PLAYER_ADD_ITEM,e)},r.onHandleGameStart=function(e){console.log("接收到 onGameStart 消息============"),this.isGameStart=!0,this._msgCatch.push({method:this.onGameStart,data:e})},r.onHandleGameFinish=function(e){console.log("接收到 onGameFinish 消息===========msg:",e),console.log("接收到 onGameFinish 消息===========this.isGameStart:",this.isGameStart),0==this.isGameStart?(f.getIns().closeAllViewExcept([]),p.getIns().uploadPing(e.roundId),f.getIns().showView(M.GameOver,{data:e}),e&&e.results&&e.results[0]&&O.getIns().sendGameOverMessage(decodeURIComponent(e.results[0].name),e.results[0].uniqueId),h.getIns().sendGameOverData(this.getSdkSendData(e.results,e.roundId))):this._msgCatch.push({method:this.onGameFinish,data:e}),this.isGameStart=!1},r.onHandlePlayerMove=function(e){this._msgCatch.push({method:this.onPlayerMove,data:e})},r.onHandleRoundStart=function(e){console.log("收到onRoundStart消息 data == ",JSON.stringify(e)),this._msgCatch.push({method:this.onRoundStart,data:e})},r.onHandlePlayerThrowDice=function(e){console.log("收到玩家扔骰子 data == ",JSON.stringify(e)),this._msgCatch.push({method:this.onPlayerThrowDice,data:e})},r.onHandlePlayerEscape=function(e){console.log("收到玩家逃跑 data == ",JSON.stringify(e)),this._msgCatch.push({method:this.onPlayerEscape,data:e})},r.setHanleMessageComplete=function(){this._canHandleMsg=!0},r.handleMessage=function(){if(this._canHandleMsg&&this._msgCatch.length>0){this._canHandleMsg=!1;var e=this._msgCatch.shift(),t=e.method,n=e.data;t.call(this,n)}},r.reconnectGame=function(){console.log("断线重连进入游戏"),this.enterGame()},r.onGameStart=function(e){console.log("游戏开始消息>>>>>>>>>>>>>>>>>>>>>>>",e),console.log("游戏开始消息处理完毕>>>>>>>>>>>>>>>>>>>>>>>",e),this.model.data.state=G.playing,O.getIns().sendGameStartMessage(),this.setHanleMessageComplete()},r.startGame=function(){var e=this;console.log("startGame============================"),this._handleMessageId&&clearInterval(this._handleMessageId),this._handleMessageId=setInterval((function(){e.handleMessage()}),20),this.enterGame()},r.enterGame=function(){var e=o(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.model.data=JSON.parse(JSON.stringify(this.model.data)),console.log("enterGame this.model.data == ",this.model.data),console.log("enterGame this.model.data.playerIndex == ",this.model.data.playerIndex),2==this.model.data.players.length&&(1!=this.model.data.playerIndex&&2!=this.model.data.playerIndex||(this.model.data.playerIndex=2)),this.model.data.timeout,this.model.data.dice,this.model.data.points,this.model.data.playerIndex,this._currPlayerIndex=this.model.data.playerIndex,console.log("enterGame currPlayerIndex == ",this._currPlayerIndex),t=0;t<this.model.data.players.length;t++)this.model.data.players[t]&&this._playerIdToChessColor.set(this.model.data.players[t].uniqueId,this.model.data.players[t].playerIndex);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getSdkSendData=function(e,t){for(var n=[],s=0;s<e.length;s++){var a=e[s];n.push({uid:h.getIns().encodeUniqueId(a.uniqueId),rank:a.rank,award:a.award,score:a.score,isEscaped:a.isEscaped,killerId:"",isAI:a.isAI,isManaged:a.isManaged,extras:a.extras})}return{gameMode:m.getGameMode(),gameRoundId:t,results:n}},r.onGameFinish=function(e){console.log("游戏结算消息>>>>>>>>>>>>>>>>>>>>>>>",e),p.getIns().uploadPing(e.roundId),c.getIns().emit(C.GAME_VIEW_ON_GAME_FINISH,{}),this.reset(),e&&e.results&&e.results[0]&&O.getIns().sendGameOverMessage(decodeURIComponent(e.results[0].name),e.results[0].uniqueId),h.getIns().sendGameOverData(this.getSdkSendData(e.results,e.roundId));for(var t=null,n=0,s=0;s<e.results.length;s++)1==e.results[s].rank&&(n+=1,t=e.results[s]);if(console.log("--GameView-----onGameFinish---rank1Count:",n),1==n){var a=m.getViewConfig();a&&a.game_mvp&&0==a.game_mvp.hide?(t&&f.getIns().showView(l.CommonUIConfig.MVP,{winPlayerInfo:t,mvpResult:[],duration:3}),setTimeout((function(){f.getIns().showView(M.GameOver,{data:e})}),3e3)):f.getIns().showView(M.GameOver,{data:e})}else f.getIns().showView(M.GameOver,{data:e})},r.reset=function(){this._canHandleMsg=!1,this._msgCatch=[],this.model.data.state=G.idle,this.model.currentRoundData=null,this.model.reset(),this._myPlayerIndex=-1,this._currPlayerIndex=-1,this._handleMessageId&&clearInterval(this._handleMessageId)},r.onUpdateAccountAttributes=function(e){console.log("更新玩家信息 == ",JSON.stringify(e)),c.getIns().emit(v.UPDATE_ACCOUNT,{account:e.account})},r.onPlayerSetManaged=function(e){console.log("GameCtrl onPlayerSetManaged === ",JSON.stringify(e)),c.getIns().emit(C.GAME_VIEW_ON_PLAYER_SET_MANAGED,e)},r.setManaged=function(){},r.onPlayerThrowDice=function(e){console.log("onPlayerThrowDice>>>>>>>>>>>>",e);var t=this._currPlayerIndex;console.log("onPlayerThrowDice playerIndex == ",t),c.getIns().emit(C.GAME_VIEW_ON_PLAYER_THROW_DICE,e)},r.onPlayerEscape=function(e){console.log("onPlayerEscape>>>>>>>>>>>>>>>",e),O.getIns().sendEscapedMessage(e.uniqueId),c.getIns().emit(C.GAME_VIEW_PLAYER_ESCAPE,e)},r.onRoundStart=function(e){console.log("GameCtrl onRoundStart ==== ",JSON.stringify(e)),2==this.model.data.players.length&&1==e.playerIndex&&(e.playerIndex=2),this.model.currentRoundData=e,this._currPlayerIndex=e.playerIndex;var t={playerIndex:e.playerIndex,timeout:e.timeout,dice:e.dice,items:e.items||[],bomb:e.bomb||0,points:[]};c.getIns().emit(C.GAME_VIEW_ON_ROUND_START,t)},r.onPlayerMove=function(e){var t=this._currPlayerIndex;console.log("GameCtrl handle onPlayerMove currentPlayerIndex ==== ",this._currPlayerIndex),c.getIns().emit(C.GAME_VIEW_ON_PLAYER_MOVE,{playerIndex:t,data:e})},r.getPlayerByIndex=function(e){return this.model.data.players[e].uid},r.stopGame=function(){this.removeEvents(),this.close(),this.model=new E,this._canHandleMsg=!1,this._msgCatch=[],this._handleMessageId&&clearInterval(this._handleMessageId),this.model.currentRoundData=null,this._myPlayerIndex=-1,this._currPlayerIndex=-1},r.backRoom=function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getIns().closeView(M.GameView);case 2:return e.next=4,y.getIns().backLobby(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.close=function(){},r.getType=function(){return this.model.params[0]},r.getPlaneNum=function(){return this.model.params[1]},r.getIsItem=function(){return this.model.params[2]},r.getMyPlayerIndex=function(){console.log("my id == ",h.getIns().getSelfData().uniqueId),console.log("players == ",JSON.stringify(this.model.data.players));for(var e=0;e<this.model.data.players.length;e++){var t=this.model.data.players[e];if(h.getIns().getSelfData().uniqueId==t.uniqueId)return t.playerIndex}return 0},r.playerIndexToPlayerNodeIndex=function(e){return console.log("playerIndexToPlayerNodeIndex ===== this._myPlayerIndex == "+this._myPlayerIndex+", playerIndex == "+e),(4-this._myPlayerIndex+e)%4},r.playerIndexToPlayerInfo=function(e){for(var t=0;t<this.model.data.players.length;t++){var n=this.model.data.players[t];if(n.playerIndex==e)return n}},r.requestMove=function(e,t,n){console.log("GameCtrl requestMove planeIndex == "+e+", point == "+t+" "),g.getIns().request(S.Move,{plane:e,point:t},(function(e){console.log("request Move resultData == ",JSON.stringify(e)),n&&n(e)}))},r.requestThrowDice=function(e){console.log("requestThrowDice================================="),I.getIns().getType()==d.Pro||I.getIns().getType()==d.Sim?g.getIns().request(S.ThrowDice,{},(function(e){console.log("request throw dice resultData == ",JSON.stringify(e))})):g.getIns().request(S.ThrowDice,{point:e||0},(function(e){console.log("request throw dice resultData == ",JSON.stringify(e))}))},r.requestSetManaged=function(e){console.log("requestSetManaged isManaged = "+e),g.getIns().request(S.SetManaged,{isManaged:e},(function(e){console.log("requestSetManaged resultData == ",JSON.stringify(e))}))},r.requestBomb=function(e){void 0===e&&(e=!1),g.getIns().request(S.Reroll,{isReroll:e},(function(e){console.log("requestBomb resultData == ",JSON.stringify(e))}))},r.requestReroll=function(e,t,n){void 0===n&&(n=!1);var s=t>=this.price.length?this.price[this.price.length-1]:this.price[t],a={cmd:"reroll_the_dice",fromUid:h.getIns().getSelfData().playerId,toUid:h.getIns().getSelfData().playerId,value:s,payload:JSON.stringify({seq:e})};n?m.notifyAppChangeGameStatus(l.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_create_order,a):this.requestBomb(n)},r.isCompetitionMode=function(){return!(!i.getIns().defaultDisplay.indexOf(P.RaceModeCompetition)||i.getIns().model.params[0]!=P.RaceModeCompetition)},a(i,[{key:"roundTime",get:function(){return this._roundTime},set:function(e){this._roundTime=e}},{key:"defaultDisplay",get:function(){return this._defaultDisplay},set:function(e){this._defaultDisplay=e}},{key:"reroll",get:function(){return this._reroll},set:function(e){this._reroll=e}},{key:"rerollTimeout",get:function(){return this._rerollTimeout},set:function(e){this._rerollTimeout=e}},{key:"price",get:function(){return this._price},set:function(e){this._price=e}},{key:"uiCustomConfig",get:function(){return this._uiCustomConfig},set:function(e){this._uiCustomConfig=e}},{key:"gameUiCustomConfig",get:function(){return this._gameUiCustomConfig},set:function(e){this._gameUiCustomConfig=e}}]),i}(u))||A);i._RF.pop()}}}));

System.register("chunks:///_virtual/checkerboard.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,c,n;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,c=r._decorator,n=r.Component}],execute:function(){var o;t._RF.push({},"cced2dcqr1BVJcH0X4H2MwZ","checkerboard",void 0);var i=c.ccclass;c.property,r("Checkerboard",i("Checkerboard")(o=function(r){function t(){return r.apply(this,arguments)||this}e(t,r);var c=t.prototype;return c.start=function(){},c.init=function(){},c.addChess=function(){},t}(n))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/setingAndHelp.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./UIMgr.ts","./AudioMgr.ts","./FrameWork.ts","./UIConfig.ts","./GameInfo.ts"],(function(t){"use strict";var n,e,o,i,u,r,s,d,a,c,l,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.defineProperty,i=t.assertThisInitialized,u=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t._decorator,d=t.Node,a=t.Component},function(t){c=t.default},function(t){l=t.AudioMgr},null,function(t){p=t.default},function(t){f=t.default}],execute:function(){var g,S,h,I,y;r._RF.push({},"d59461UluBC/Lq6agLO/daK","setingAndHelp",void 0);var v=s.ccclass,A=s.property;t("SetingAndHelp",(g=v("SetingAndHelp"),S=A(d),g((y=n((I=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,o(i(n),"isSoundOpen",!0),u(i(n),"hideSoundNode",y,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){this.updateSoundBtn(f.getIns().soundState)},r.onClickHelp=function(){c.getIns().showView(p.Help)},r.onClickSeting=function(){f.getIns().soundState=!f.getIns().soundState,this.updateSoundBtn(f.getIns().soundState)},r.updateSoundBtn=function(t){t?(this.hideSoundNode.active=!1,l.getIns().openSound()):(this.hideSoundNode.active=!0,l.getIns().hideSound())},n}(a)).prototype,"hideSoundNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=I))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/CommonEffectConfig.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./EventDispatcher.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,o,a,f,r,c,i,s,m,p;return{setters:[function(t){e=t.defineProperty,n=t.inheritsLoose},function(t){o=t.cclegacy,a=t._decorator,f=t.assetManager,r=t.instantiate,c=t.dragonBones},function(t){i=t.Const},function(t){s=t.default},function(t){m=t.EventDispatcher},function(t){p=t.FrameWork}],execute:function(){var l;o._RF.push({},"d8403DigOtH0IPXl38C4qBD","CommonEffectConfig",void 0);var u=a.ccclass,E=(a.property,t("CommonEffectConfig",(function(){})));e(E,"nft_common_start",{path:"prefabs/effect/nft_common_start",animName:"newAnimation"}),e(E,"nft1",{path:"prefabs/effect/nft1",animName:"0"}),e(E,"nft21",{path:"prefabs/effect/nft2",animName:"1"}),e(E,"nft22",{path:"prefabs/effect/nft2",animName:"2"}),e(E,"nft23",{path:"prefabs/effect/nft2",animName:"3"});t("CommonDragonEffectMgr",u("CommonDragonEffectMgr")(l=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.playEffect=function(t,e,n){var o=this;if(e&&t){f.resources;p.bundle.load(t.path,(function(a,f){if(a)console.log("DragonEffectMgr load "+t+" err == ",a);else{var s=r(f);if(s){s.setParent(e);var p=s.getChildByName("dragon").getComponent(c.ArmatureDisplay);p.addEventListener(c.EventObject.FRAME_EVENT,(function(t){console.log("------playEffect 动画帧事件 ------name:",t.name),m.getIns().emit(i.Event.Common.ON_EFFECT_FRAME_EVENT,t.name)}),o),p.addEventListener(c.EventObject.COMPLETE,(function(t){1==n&&t.type==c.EventObject.COMPLETE&&(console.log("complete ................"),s.destroy())}),o),p.playAnimation(t.animName,n)}}}))}else console.error("playEffect parent or effectInfo is null -----")},e}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/UpdatePanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,l,o,a,u,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,u=e.ProgressBar,c=e.Node,p=e.Component}],execute:function(){var b,f,s,y,g,d,m,z,P,h,w,B,L,v,_,k,U,D,F,j,A;l._RF.push({},"d896fFhBk9A57gLMvEj3KZ7","UpdatePanel",void 0);var M=o.ccclass,R=o.property;e("UpdatePanel",(b=M("UpdatePanel"),f=R(a),s=R(u),y=R(a),g=R(u),d=R(a),m=R(c),z=R(c),P=R(c),h=R(c),b((L=r((B=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,n(i(r),"info",L,i(r)),n(i(r),"fileProgress",v,i(r)),n(i(r),"fileLabel",_,i(r)),n(i(r),"byteProgress",k,i(r)),n(i(r),"byteLabel",U,i(r)),n(i(r),"close",D,i(r)),n(i(r),"checkBtn",F,i(r)),n(i(r),"retryBtn",j,i(r)),n(i(r),"updateBtn",A,i(r)),r}return t(r,e),r.prototype.onLoad=function(){},r}(p)).prototype,"info",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(B.prototype,"fileProgress",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(B.prototype,"fileLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(B.prototype,"byteProgress",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(B.prototype,"byteLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(B.prototype,"close",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(B.prototype,"checkBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(B.prototype,"retryBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(B.prototype,"updateBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=B))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/Cide.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventDispatcher.ts","./sdk.ts","./FrameWork.ts","./GameConst.ts","./GameUICustomConfig.ts","./GameCtrl.ts","./UIBase.ts"],(function(e){"use strict";var i,t,n,o,a,s,g,m,_,l,c,r,u,d,f,C,h,p;return{setters:[function(e){i=e.inheritsLoose,t=e.defineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Color,g=e.Button,m=e.EventHandler,_=e.Sprite,l=e.resources,c=e.Texture2D,r=e.SpriteFrame},function(e){u=e.EventDispatcher},function(e){d=e.sdk},null,function(e){f=e.GameEvent},function(e){C=e.GameUICustomConfig},function(e){h=e.GameCtrl},function(e){p=e.UIBase}],execute:function(){var I;o._RF.push({},"d92e1gRcZpEsoo2UsHl3aJx","Cide",void 0);var U=a.ccclass;a.property,e("Cide",U("Cide")(I=function(e){function o(){for(var i,o=arguments.length,a=new Array(o),g=0;g<o;g++)a[g]=arguments[g];return i=e.call.apply(e,[this].concat(a))||this,t(n(i),"_numNode",null),t(n(i),"_normalColor",new s(255,255,255,255)),t(n(i),"_goldColor",new s(255,243,107,255)),t(n(i),"_numFsPaths",["ui/battle/feixing_game_icon_01_2","ui/battle/feixing_game_icon_01_3","ui/battle/feixing_game_icon_01_4","ui/battle/feixing_game_icon_01_5","ui/battle/feixing_game_icon_01_6","ui/battle/feixing_game_icon_01_7"]),t(n(i),"_normal_dice_bg_path","ui/battle/feixing_game_icon_01"),t(n(i),"_gold_dice_bg_path","ui/battle/feixing_game_icon_01_8"),t(n(i),"point",0),t(n(i),"_playerInfo",null),i}i(o,e);var a=o.prototype;return a.onDestroy=function(){e.prototype.onDestroy.call(this)},a.onEnable=function(){u.getIns().on(f.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG,this.onUpdateCustomUIConfig,this)},a.onDisable=function(){u.getIns().on(f.GAME_VIEW_UPDATE_CUSTOM_UI_CONFIG,this.onUpdateCustomUIConfig,this)},a.onUpdateCustomUIConfig=function(){},a.initViewNode=function(){e.prototype.initViewNode.call(this),this._numNode=this.view.num;var i=this.getComponent(g),t=new m;t.target=this.node,t.component="Cide",t.handler="onClickPointNode",t.customEventData=JSON.stringify({}),i.clickEvents.push(t)},a.init=function(e){this._playerInfo=e;var i=d.getViewConfig();i&&i.game_chess&&i.game_chess.custom&&(this._numFsPaths=["ui/battle/changeTex/feixing_game_icon_01_2","ui/battle/changeTex/feixing_game_icon_01_3","ui/battle/changeTex/feixing_game_icon_01_4","ui/battle/changeTex/feixing_game_icon_01_5","ui/battle/changeTex/feixing_game_icon_01_6","ui/battle/changeTex/feixing_game_icon_01_7"],this._normal_dice_bg_path="ui/battle/changeTex/feixing_game_icon_01",this._gold_dice_bg_path="ui/battle/changeTex/feixing_game_icon_01huang"),this.initViewNode()},a.hideNumber=function(){this._numNode.active=!1},a.showNumber=function(){this._numNode.active=!0},a.setGoldColor=function(){var e=this;if(this._playerInfo&&h.getIns().gameUiCustomConfig&&h.getIns().gameUiCustomConfig.isPlayerDiceBgGoldValid(this._playerInfo.playerId)){var i=h.getIns().gameUiCustomConfig.getPlayerByUid(this._playerInfo.playerId);C.loadRemoteSpriteFrame(this.node.getComponent(_),i.diceBgGold,(function(i){i||e.loadDiceBg(e.node,e._gold_dice_bg_path)}))}else h.getIns().gameUiCustomConfig&&h.getIns().gameUiCustomConfig.diceBgGold?C.loadRemoteSpriteFrame(this.node.getComponent(_),h.getIns().gameUiCustomConfig.diceBgGold,(function(i){i||e.loadDiceBg(e.node,e._gold_dice_bg_path)})):this.loadDiceBg(this.node,this._gold_dice_bg_path)},a.setNormalColor=function(){var e=this;if(this._playerInfo&&h.getIns().gameUiCustomConfig&&h.getIns().gameUiCustomConfig.isPlayerDiceBgValid(this._playerInfo.playerId)){var i=h.getIns().gameUiCustomConfig.getPlayerByUid(this._playerInfo.playerId);C.loadRemoteSpriteFrame(this.node.getComponent(_),i.diceBg,(function(i){i||e.loadDiceBg(e.node,e._normal_dice_bg_path)}))}else h.getIns().gameUiCustomConfig&&h.getIns().gameUiCustomConfig.diceBg?C.loadRemoteSpriteFrame(this.node.getComponent(_),h.getIns().gameUiCustomConfig.diceBg,(function(i){i||e.loadDiceBg(e.node,e._normal_dice_bg_path)})):this.loadDiceBg(this.node,this._normal_dice_bg_path)},a.setNumber=function(e){var i=this;if((e<1||e>6)&&console.log("set cide sprite number is err , num == ",e),this.point=e,this._playerInfo&&h.getIns().gameUiCustomConfig&&h.getIns().gameUiCustomConfig.isPlayerDiceValid(this._playerInfo.playerId)){var t=h.getIns().gameUiCustomConfig.getPlayerByUid(this._playerInfo.playerId),n=[t.dice01,t.dice02,t.dice03,t.dice04,t.dice05,t.dice06][e-1];C.loadRemoteSpriteFrame(this._numNode.getComponent(_),n,(function(t){t||i.loadNumFrame(i._numNode,i._numFsPaths[e-1])}))}else if(h.getIns().gameUiCustomConfig&&h.getIns().gameUiCustomConfig.isAllDiceUrlValid()){var o=[h.getIns().gameUiCustomConfig.dice01,h.getIns().gameUiCustomConfig.dice02,h.getIns().gameUiCustomConfig.dice03,h.getIns().gameUiCustomConfig.dice04,h.getIns().gameUiCustomConfig.dice05,h.getIns().gameUiCustomConfig.dice06];C.loadRemoteSpriteFrame(this._numNode.getComponent(_),o[e-1],(function(t){t||i.loadNumFrame(i._numNode,i._numFsPaths[e-1])}))}else this.loadNumFrame(this._numNode,this._numFsPaths[e-1])},a.loadNumFrame=function(e,i){this.loasNumberSp(e,i)},a.loadDiceBg=function(e,i){l.load(i,(function(i,t){if(i)console.log("load asset err == ",i);else{var n=new c;n.image=t;var o=new r;o.texture=n,e&&e.getComponent(_)&&(e.getComponent(_).spriteFrame=o)}}))},a.loasNumberSp=function(e,i){l.load(i,(function(i,t){if(i)console.log("load asset err == ",i);else if(e&&"num"==e.name){var n=new c;n.image=t;var o=new r;o.texture=n,e&&e.getComponent(_)&&(e.getComponent(_).spriteFrame=o)}}))},a.onClickPointNode=function(e,i){},o}(p))||I);o._RF.pop()}}}));

System.register("chunks:///_virtual/ViewConst.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var o,p;e({LayerType:void 0,ViewType:void 0}),t._RF.push({},"d92fbvSFN1GLZcCfxbFQPu7","ViewConst",void 0),function(e){e[e.bottom=0]="bottom",e[e.view=1]="view",e[e.popup=2]="popup",e[e.alert=3]="alert",e[e.tip=4]="tip",e[e.top=5]="top"}(o||(o=e("LayerType",{}))),function(e){e[e.none=0]="none",e[e.view=1]="view",e[e.popup=2]="popup"}(p||(p=e("ViewType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformMgr.ts","./md5.js","./md5.mjs_cjs=&original=.js","./PlayerMgr.ts","./EmptySdk.ts","./FSMSdk.ts","./FrameWork.ts"],(function(n){"use strict";var t,e,i,o,a,s,u,c;return{setters:[function(n){t=n.defineProperty},function(n){e=n.cclegacy},function(n){i=n.default},function(n){o=n.default},null,function(n){a=n.default},function(n){s=n.default},function(n){u=n.default},function(n){c=n.FrameWork}],execute:function(){e._RF.push({},"dc4c9LrHsVOl75mvWLM0Egm","sdk",void 0);var f=n("sdk",function(){function n(){}return n.reLogin=function(){this.instance.reLogin()},n.initSdk=function(){i.getIns().isMiniGame()?this.instance=new u:this.instance=new s,this.instance.initSdk()},n.login=function(){this.instance.login()},n.getSDKInfo=function(){var n=this;return new Promise((function(t,e){n.instance.getSDKInfo((function(n){t(n)}))}))},n.mgLog=function(n,t){var e={tag:"SudMGP-MG",level:"error",state:t,msg:JSON.stringify(n)};this.instance.mgLog(JSON.stringify(e),(function(){console.log("mgLog 上传成功!!!")}))},n.notifyAppChangePlayerStatus=function(n,t,e){var i=e||a.getIns().getSelfData().uniqueId,s="";if(i){var u=a.getIns().getPlayerDataById(i);i=u.playerId,s=u.appId==c.sdkInfo.app_id?c.sdkInfo.app_id:u.appId}if(s==c.sdkInfo.app_id);else try{i=o(i)}catch(n){}var f=JSON.stringify(t);this.instance.notifyAppChangePlayerStatus(i,n,f)},n.notifyAppChangeGameStatus=function(n,t){var e=JSON.stringify(t);this.instance.notifyAppChangeGameStatus(n,e)},n.getNetType=function(){this.instance.getNetStatus()},n.getState=function(n,t){this.instance.getState(n,t)},n.getGameViewSize=function(){var n=this;return new Promise((function(t,e){n.instance.getViewSize((function(n){t(n)}))}))},n.notifyGameLoadCompleted=function(){this.instance.notifyGameLoadCompleted()},n.notifyGameStarted=function(){this.instance.notifyGameStarted()},n.getGameCfg=function(){var n=this;return new Promise((function(t,e){n.instance.getGameCfg((function(n){t(n)}))}))},n.expireCode=function(){this.instance.expireCode()},n.setDebugLog=function(n){this.instance.setDebug(n)},n.getViewConfig=function(){var n;return(null===(n=this.instance.gameConfig)||void 0===n?void 0:n.ui)||{}},n.getGameMode=function(){return this.instance.gameConfig.gameMode||1},n.getGameSoundVolume=function(){return this.instance.gameConfig.gameSoundVolume},n.getGameSoundControl=function(){return this.instance.gameConfig.gameSoundControl},n}());t(f,"instance",null),e._RF.pop()}}}));

System.register("chunks:///_virtual/Prop.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./FrameWork.ts"],(function(t){"use strict";var e,i,r,o,n,s,p,c,a,u,l,h,y,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.defineProperty,s=t.createClass},function(t){p=t.cclegacy,c=t._decorator,a=t.Sprite,u=t.SpriteFrame,l=t.Vec3,h=t.Tween,y=t.tween,f=t.Component},function(t){d=t.FrameWork}],execute:function(){var _,g,m,b,P,T,w;p._RF.push({},"dd39ahZrVpCwoTHlLdSLub2","Prop",void 0);var V=c.ccclass,v=c.property;t("Prop",(_=V("Prop"),g=v(a),m=v([u]),_((T=e((P=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),p=0;p<i;p++)s[p]=arguments[p];return e=t.call.apply(t,[this].concat(s))||this,r(o(e),"bg",T,o(e)),r(o(e),"sps",w,o(e)),n(o(e),"_gridPosition",0),n(o(e),"_propType",0),n(o(e),"_tempVec1",new l(0,5,0)),n(o(e),"_tempVec2",new l(0,-5,0)),n(o(e),"_tempVec3",new l(1.1,1.1,1.1)),n(o(e),"_tempVec4",new l(1,1,1)),e}i(e,t);var p=e.prototype;return p.onLoad=function(){},p.onDestroy=function(){h.stopAllByTarget(this.node),d.log("Prop destroy.....")},p.init=function(t,e){this.propType=t,this._gridPosition=e,this.bg.spriteFrame=this.sps[this.propType-1],this.startAni()},p.startAni=function(){if(this&&this.node){var t=Math.floor(100*Math.random())%10/10;y(this.node).by(.3,{position:this._tempVec1}).by(.3,{position:this._tempVec2}).to(.3,{scale:this._tempVec3}).to(.3,{scale:this._tempVec4}).delay(t).union().repeatForever().start()}},p.stopAni=function(){h.stopAllByTarget(this.node)},s(e,[{key:"propType",get:function(){return this._propType},set:function(t){this._propType=t}},{key:"gridPosition",get:function(){return this._gridPosition},set:function(t){this._gridPosition=t}}]),e}(f)).prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"sps",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=P))||b));p._RF.pop()}}}));

System.register("chunks:///_virtual/GameOtherButtons.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./EventDispatcher.ts","./sdk.ts","./AudioMgr.ts","./BaseCommon.ts","./FrameWork.ts"],(function(t){"use strict";var e,n,i,o,s,a,g,r,h,m,c,l,d,_,C,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,g=t.SpriteFrame,r=t.Node,h=t.Sprite,m=t.Toggle,c=t.assetManager,l=t.Component},function(t){d=t.Const},function(t){_=t.EventDispatcher},function(t){C=t.sdk},function(t){u=t.AudioMgr},function(t){p=t.BaseCommon},null],execute:function(){var v,b,f,N,y,S,B;s._RF.push({},"df75c9gQ9RKpJnJtJrjWmpm","GameOtherButtons",void 0);var E=a.ccclass,T=a.property;t("GameOtherButtons",(v=E("GameOtherButtons"),b=T(g),f=T(r),v((S=e((y=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(o(e),"nodesettingSF",S,o(e)),i(o(e),"soundNode",B,o(e)),e}n(e,t);var s=e.prototype;return s.start=function(){_.getIns().on(d.Event.Common.CHANGE_MUSIC_STATE,this.onChangeMusic,this),_.getIns().on(d.Event.Common.CHANGE_SOUND_STATE,this.onChangeSound,this),this.node.getComponent(h).enabled=!1;var t=u.getIns().isOpenSound();this.soundNode.getComponent(m).isChecked=!t;var e=C.getViewConfig(),n=!0,i=!0;e&&e.game_setting_btn&&e.game_setting_btn.hide&&(n=!1),e&&e.game_help_btn&&e.game_help_btn.hide&&(i=!1),0==n&&0==i?this.node.active=!1:(this.node.getChildByName("@ctrl_game_setting_btn-001").getComponent(h).spriteFrame=this.nodesettingSF[0],this.node.active=!0)},s.onClickHelp=function(t){_.getIns().emit(d.Event.Common.CLICK_HELP_BUTTON,t)},s.onClickSetting=function(t){var e,n=null===(e=t.target.getComponent(m).checkMark.getComponent(p))||void 0===e?void 0:e.SpritePath;if(c.resources.getInfoWithPath(n)){var i=t.target.getComponent(m).isChecked;u.getIns().saveSoundState(i)}else _.getIns().emit(d.Event.Common.CLICK_SETTING_BUTTON,t)},s.onChangeMusic=function(t){},s.onChangeSound=function(t){this.soundNode.getComponent(m).isChecked=!t},s.onDestroy=function(){_.getIns().off(d.Event.Common.CHANGE_MUSIC_STATE,this.onChangeMusic,this),_.getIns().off(d.Event.Common.CHANGE_SOUND_STATE,this.onChangeSound,this)},s.onClickSetting001=function(t){var e=!0,n=!0,i=C.getViewConfig();i&&i.game_setting_btn&&i.game_setting_btn.hide?(e=!1,this.node.getChildByName("@ctrl_game_setting_btn").active=!1):(this.node.getChildByName("@ctrl_game_setting_btn").active=!this.node.getChildByName("@ctrl_game_setting_btn").active,0==this.node.getChildByName("@ctrl_game_setting_btn").active&&(e=!1)),i&&i.game_help_btn&&i.game_help_btn.hide?(n=!1,this.node.getChildByName("@ctrl_game_help_btn").active=!1):(this.node.getChildByName("@ctrl_game_help_btn").active=!this.node.getChildByName("@ctrl_game_help_btn").active,0==this.node.getChildByName("@ctrl_game_help_btn").active&&(n=!1)),0==e&&0==n?(this.node.getChildByName("@ctrl_game_setting_btn-001").getComponent(h).spriteFrame=this.nodesettingSF[0],this.node.getComponent(h).enabled=!1):(this.node.getChildByName("@ctrl_game_setting_btn-001").getComponent(h).spriteFrame=this.nodesettingSF[1],this.node.getComponent(h).enabled=!0)},s.onCloseOtherBtn=function(){1==this.node.getChildByName("@ctrl_game_setting_btn").active&&(this.node.getChildByName("@ctrl_game_setting_btn").active=!1),1==this.node.getChildByName("@ctrl_game_help_btn").active&&(this.node.getChildByName("@ctrl_game_help_btn").active=!1),this.node.getChildByName("@ctrl_game_setting_btn-001").getComponent(h).spriteFrame=this.nodesettingSF[0],this.node.getComponent(h).enabled=!1},e}(l)).prototype,"nodesettingSF",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(y.prototype,"soundNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=y))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/FrameWork.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseCmd.ts","./ViewConst.ts","./Const.ts","./Singleton.ts","./PlatformMgr.ts","./EventDispatcher.ts","./Lang.ts","./Http.ts","./ProtoMgr.ts","./NetMgr.ts","./RoomMgr.ts","./PlayerMgr.ts","./sdk.ts","./ResMgr.ts","./UIMgr.ts","./BaseView.ts","./Env.ts","./Log.ts","./AudioMgr.ts","./Util.ts","./BaseLobbyCtrl.ts","./BaseLobbyModel.ts","./BaseLobbyView.ts","./StatisticsPingMgr.ts","./FpsMgr.ts"],(function(e){"use strict";var t,n,o,r,i,a,s,u,g,l,c,f,d,m,p,h,_,L,I,v,S,C,R,b,y,E,P,w,U,k,M,T,x,A,F,N,D,G,O,B,V,H,j,J,W;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,o=e.asyncToGenerator},function(e){r=e.cclegacy,i=e.js,a=e.assetManager,s=e.game,u=e.Game,g=e.Button,l=e.EventHandler,c=e.log,f=e.sys,d=e.macro,m=e.director,p=e.Camera,h=e.gfx,_=e.Color,L=e.Sprite,I=e.SpriteFrame,v=e.Texture2D,S=e.resources,C=e.JsonAsset,R=e.Label},function(t){b=t.BaseCmd,e("BaseCmd",t.BaseCmd)},function(t){var n={};n.LayerType=t.LayerType,n.ViewType=t.ViewType,e(n)},function(t){y=t.Const,E=t.EnvType,P=t.PingValueType;var n={};n.Const=t.Const,n.PingValueType=t.PingValueType,n.PlayerStatus=t.PlayerStatus,e(n)},function(t){w=t.default,e("Singleton",t.default)},function(t){U=t.default,e("PlatformMgr",t.default)},function(t){k=t.EventDispatcher,e("EventDispatcher",t.EventDispatcher)},function(t){M=t.Lang,T=t.LanguageList,e("Lang",t.Lang)},function(t){x=t.default,e("Http",t.default)},function(t){A=t.default,e("ProtoMgr",t.default)},function(t){F=t.default,e("NetMgr",t.default)},function(t){e("RoomMgr",t.default)},function(t){N=t.default,e("PlayerMgr",t.default)},function(t){D=t.sdk,e("sdk",t.sdk)},function(t){G=t.default,e("ResMgr",t.default)},function(t){O=t.default,e("UIMgr",t.default)},function(t){e("BaseView",t.default)},function(t){B=t.default,e("Env",t.default)},function(t){V=t.default,e("Log",t.default)},function(t){H=t.AudioMgr,e("AudioMgr",t.AudioMgr)},function(t){j=t.default,e("Util",t.default)},function(t){J=t.BaseLobbyCtrl,e("BaseLobbyCtrl",t.BaseLobbyCtrl)},function(t){e("BaseLobbyModel",t.default)},function(t){e("BaseLobbyView",t.default)},function(e){W=e.StatisticsPingMgr},function(t){e("FpsMgr",t.default)}],execute:function(){e("FrameWorkBaseUIConfig",void 0),r._RF.push({},"e0f52+2j2dNUK4wERZp1LEm","FrameWork",void 0);var q,z=console.log||c;!function(e){e.LobbyRulePrefabPath="LobbyRulePrefabPath",e.LobbyBtnListPrefabPath="LobbyBtnListPrefabPath",e.LobbyUserInfoPrefabPath="LobbyUserInfoPrefabPath",e.LobbyOtherBtnPrefabPath="LobbyOtherBtnPrefabPath",e.LobbyLobbyPlayersPrefabPath="LobbyLobbyPlayersPrefabPath",e.LobbyPlayerItemPrefabPath="LobbyPlayerItemPrefabPath",e.AlertUIConfig="AlertUIConfig"}(q||(q=e("FrameWorkBaseUIConfig",{})));var K=e("FrameWork",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.init=function(){var e=o(regeneratorRuntime.mark((function e(t,o){var r,i,a,s,u,g,l,c,I,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.getScene().getComponentInChildren(L)&&(m.getScene().getComponentInChildren(L).node.active=!1),this.initParams=t,this.loginSuffixURL=t.loginSuffixURL,this.version=t.version?t.version:0,this.isShowLobbyPlayerName=t.isShowLobbyPlayerName,this.newLogo=t.newLogo||"",t.loadJsonURL&&(this.loadJsonURL=t.loadJsonURL),this.testLoginUrl=t.testLoginUrl,this.projectName=this.loginSuffixURL.replace("/","_"),this.gameUIConfig=t.gameUIConfig,this.lobbyUIConfig=t.lobbyUIConfig||n.lobbyUIConfig,this.alertUIConfig=t.alertUIConfig||(null===(r=t.uiConfigs)||void 0===r?void 0:r.AlertUIConfig),t.uiConfigs&&(this.uiConfigs=t.uiConfigs),this.addEvents(),this.resetFunction(t),D.initSdk(),D.notifyAppChangeGameStatus(y.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,y.LOADSTEP[1]),A.getIns().setProtoFiles(t.protoList),F.getIns().init(),F.getIns().setCmd(t.cmd),O.getIns().init(t.root),O.alertUIConfig=t.alertUIConfig||(null===(i=t.uiConfigs)||void 0===i?void 0:i.AlertUIConfig),O.getIns().setDesignResolutionSize(t.designResolutionSize),N.getIns().init(),e.next=26,G.getIns().loadBundle("framework_res");case 26:return this.bundle=e.sent,e.next=29,this.loadRes(t);case 29:return e.next=31,D.getGameViewSize();case 31:return a=e.sent,n.log("FrameWork init sdk.getGameViewSize===>",a),O.getIns().updateAdpatModel(a),e.next=36,D.getGameCfg();case 36:return s=e.sent,n.log("FrameWork init sdk.getGameCfg===>",s),(u=D.getViewConfig())&&u.game_bg&&u.game_bg.hide?f.platform!=f.Platform.DESKTOP_BROWSER&&f.platform!=f.Platform.MOBILE_BROWSER||(d.ENABLE_TRANSPARENT_CANVAS=!0,(g=m.getScene().getChildByPath("Canvas/Camera").getComponent(p)).clearFlags=h.ClearFlagBit.ALL,g.clearColor=new _(0,0,0,0)):k.getIns().emit("SHOW_SCENE_BG",{show:!0}),e.next=42,D.getSDKInfo();case 42:return(l=e.sent)&&l.dynamic_config&&"string"==typeof l.dynamic_config&&(l.dynamic_config=JSON.parse(l.dynamic_config)),n.log("FrameWork init sdk.getSDKInfo===>",JSON.stringify(l)),this.sdkInfo=l,B.getIns().setEnv(l.env_type),D.notifyAppChangeGameStatus(y.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,y.LOADSTEP[2]),t.loginSuffixURL,t.loadJsonURL&&t.loadJsonURL,e.next=52,this.loadJsonFile("config/soundlist");case 52:return c=e.sent,console.log("soundList == ",c),H.getIns().init(c.soundList,l),e.next=57,this.loadJsonFile("config/language");case 57:return M.config=e.sent,(I=this.getLocalStorageLanguageConfig())&&(M.config=I),D.notifyAppChangeGameStatus(y.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_load_percent,y.LOADSTEP[3]),v=this.getLanguageUrl(l),n.log("remoteLangUrl == ",v),this.getRemoteLanguageConfig(v),console.log("Lang.config === ",M.config),D.setDebugLog(B.getIns().isDebug()),M.setCurLanguage(l.language),M.setVoiceIdentifyTextLanguages(l.asr_text_language_list||[T.zh_cn]),M.setVoiceIdentifyNumLanguages(l.asr_number_language_list||[T.zh_cn]),e.next=71,this.updateGlobalLabelFont();case 71:O.getIns().showView(y.CommonUIConfig.MobileInfoView),O.getIns().showView(y.CommonUIConfig.Login),J.getIns().addEventListeners(),n.log("===================框架初始化完成===================="),o&&o(),this.connectServer(this.getServerLoginInfo(l)),W.getIns().init(l),O.getIns().preLoadAlert();case 79:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getLocalStorageLanguageConfig=function(){var e=localStorage.getItem("languageConfig");return e?JSON.parse(e):null},n.setLocalStorageLanguageConfig=function(e){localStorage.setItem("languageConfig",JSON.stringify(e))},n.getLanguageUrl=function(e){return e&&e.dynamic_config&&e.dynamic_config.resource_domain?this.timestamp(e.dynamic_config.resource_domain+"/game/"+(n.loadJsonURL||n.loginSuffixURL)+"/language.json"):this.timestamp("https://"+y.EnvPrefix[E[e.env_type]]+"sud-static.sudden.ltd/game/"+(n.loadJsonURL||n.loginSuffixURL)+"/language.json")},n.timestamp=function(e){return e=e+"?timestamp="+(new Date).getTime()},n.getServerLoginInfo=function(e){var t=e.mg_api_cfg||{game_login_url:"",app_server_info_url:"",report_url:"",app_auth_info_url:""},n=(e.dynamic_config,e.app_auth||{authorization_secret:""}),o=e.app_id,r="",i="";return e.dynamic_config&&e.dynamic_config.login_url?(r=e.dynamic_config.login_url+"/"+this.loginSuffixURL+"/login",i=e.dynamic_config.login_url.replace("http","ws")+"/websocket"):(r=e.game_login_url+"/"+this.loginSuffixURL+"/login",i=(e.cust_tcp_login_url||e.game_login_url).replace("http","ws")+"/websocket"),{http_login_url:r,tcp_login_url:i,app_server_info_url:e.app_server_info_url,bundle_id:e.bundle_id||"",platform:e.platform||0,app_id:o,app_auth_info_url:t.app_auth_info_url,authorization_secret:n.authorization_secret}},n.getLoginUrlInfo=function(e){return"http"==e?B.getIns().getType()==E.Dev?":5000":"":"tcp"==e&&B.getIns().getType()==E.Dev?":5100":""},n.loadRes=function(){var e=o(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCommonSpriteFrame("ui/default_sprite_splash");case 2:return this.defalutSpriteFrame=e.sent,e.next=5,this.loadJsonFile(t.gameCfgPath||"config/gameCfg");case 5:n=e.sent,D.instance.gameConfig.ui=n.ui;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.loadCommonSpriteFrame=function(){var e=o(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){n.bundle.load(t,(function(t,n){var r=new I,i=new v;i.image=n,r.texture=i,t?o(null):e(r)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadJsonFile=function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){S.load(t,C,(function(o,r){o?n("找不到配置文件"+t):e(r.json)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadUrlJson=function(){var e=o(regeneratorRuntime.mark((function e(t,n){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("加载远程json:",t),e.abrupt("return",new Promise((function(e,i){a.loadRemote(t,function(){var i=o(regeneratorRuntime.mark((function o(i,a){var s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!i){o.next=10;break}if(console.log("加载远程json"+t+"错误",i),s=null,!n){o.next=7;break}return o.next=6,r.loadJsonFile(n);case 6:s=o.sent;case 7:e(s),o.next=20;break;case 10:if(console.log("加载远程json成功",a.json),!a||!a.json){o.next=15;break}e(a.json),o.next=20;break;case 15:if(!n){o.next=19;break}return o.next=18,r.loadJsonFile(n);case 18:a=o.sent;case 19:e(a);case 20:case"end":return o.stop()}}),o)})));return function(e,t){return i.apply(this,arguments)}}())})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.getRemoteLanguageConfig=function(e){var t=this;a.loadRemote(e,(function(e,o){if(e)n.log("load remote language config err ",e);else if(o&&o.json)for(var r in console.log("----FrameWork-----getRemoteLanguageConfig---json:",o),console.log("----FrameWork-----getRemoteLanguageConfig---json.json:",o.json),o.json){if(null!=o.json[r][n.sdkInfo.language])return M.config=o.json,t.setLocalStorageLanguageConfig(M.config),console.log("----FrameWork-----getRemoteLanguageConfig---Lang.config:",M.config),M.setCurLanguage(n.sdkInfo.language),!0;break}else;}))},n.getRemoteConfig=function(){var e=o(regeneratorRuntime.mark((function e(t,n,r){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=""),void 0===r&&(r=10),console.log("加载远程json:",t),e.abrupt("return",new Promise((function(e,a){x.get({url:t},function(){var t=o(regeneratorRuntime.mark((function t(o,r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!=o){t.next=4;break}e(JSON.parse(r)),t.next=10;break;case 4:if(a=null,!n){t.next=9;break}return t.next=8,i.loadJsonFile(n);case 8:a=t.sent;case 9:e(a);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),r)})));case 4:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),n.updateGlobalLabelFont=function(){var e=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){M.curLanguageStr!=T.zh_cn&&M.curLanguageStr!=T.zh_sg?(R.prototype.onLoad=function(){M.isRightToLeft(M.curLanguageStr)&&this.horizontalAlign!=R.HorizontalAlign.CENTER&&(this.horizontalAlign=R.HorizontalAlign.RIGHT),this.isCustFile||(this.useSystemFont=!0)},e(null)):(R.prototype.onLoad=function(){this.isCustFile||(this.useSystemFont=!0)},e(null))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.addEvents=function(){s.on(u.EVENT_HIDE,this.onOutGame,this),s.on(u.EVENT_SHOW,this.onBackGame,this),k.getIns().on(y.Event.Common.SHOW_REQUEST_MASK,this.onShowRequsetMaks,this),k.getIns().on(y.Event.Common.HIDE_REQUEST_MASK,this.onHideRequsetMaks,this),k.getIns().on(y.Event.Net.CONNECT_SUC,this.onConnectSuccess,this),k.getIns().on(y.Event.MSG.REQ_FAIL,this.onRequestResultFail,this),k.getIns().on(y.Event.MSG.HTTP_REQ_FAIL,this.onHttpRequestResultFail,this)},n.removeEvents=function(){k.getIns().off(y.Event.Common.SHOW_REQUEST_MASK,this.onShowRequsetMaks,this),k.getIns().off(y.Event.Common.HIDE_REQUEST_MASK,this.onHideRequsetMaks,this),k.getIns().off(y.Event.Net.CONNECT_SUC,this.onConnectSuccess,this),k.getIns().off(y.Event.MSG.REQ_FAIL,this.onRequestResultFail,this),k.getIns().off(y.Event.MSG.HTTP_REQ_FAIL,this.onHttpRequestResultFail,this)},n.onHttpRequestResultFail=function(e,t){t?O.getIns().tip({text:"errorCode="+e+","+t}):O.getIns().tip({text:"errorCode="+e})},n.onRequestResultFail=function(e,t){var n=y.errorCode[e],o=(null==n?void 0:n.msg)||"未知错误";e==y.SERVER_RESULT_CODE.ROOM_PLAYER_OVERFLOW?O.getIns().alert({content:M.getText("tips_seat_full"),sureInfo:{callback:function(){}}}):(e==y.SERVER_RESULT_CODE.ROOM_START_GAME_PLAYER_DEFICIENCY||e==y.SERVER_RESULT_CODE.ROOM_START_GAME_PLAYER_NO_REDAY)&&O.getIns().alert({content:M.getText("tips_unable_startgame"),sureInfo:{callback:function(){}}}),B.getIns().isDebug()&&O.getIns().tip({text:t.cmdName+"=> "+e+":"+o}),D.mgLog({resultCode:e,msg:o})},n.openPing=function(){var e=this;this.sendPingHanderId||(this.sendPingHanderId=setInterval((function(){var t=Date.now();F.getIns().request(b.Ping,{},(function(){var n=Date.now()-t,o=Math.ceil(n/2),r={value:o,type:e.getPingValueType(o)};k.getIns().emit(y.Event.MSG.SYNC_PING_VALUE,r)}),!1)}),1e3))},n.getPingValueType=function(e){return e<100?P.find:e<=200?P.common:P.inferior},n.onConnectSuccess=function(){this.initParams.isClosePing||this.openPing()},n.closePing=function(){this.sendPingHanderId&&(clearInterval(this.sendPingHanderId),this.sendPingHanderId=0)},n.reLogin=function(){var e=o(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getSDKInfo();case 2:t=e.sent,this.sdkInfo=t,n.log("reLogin===>",t),B.getIns().setEnv(t.env_type),D.setDebugLog(B.getIns().isDebug()),M.setCurLanguage(t.language),this.connectServer(this.getServerLoginInfo(t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.log=function(){var e;this.tagLog="FrameWorkLog",(e=console).log.apply(e,arguments),this.tagLog=""},n.resetFunction=function(e){var t=this,n=function(){};(n.prototype=g.prototype)._onTouchEnded=function(e){this._interactable&&this.enabledInHierarchy&&(this._pressed&&(l.emitEvents(this.clickEvents,e),this.node.emit(g.EventType.CLICK,this)),this._pressed=!1,this._updateState(),e&&(e.propagationStopped=!0),k.getIns().emit(y.Event.Common.CLICK_BUTTON,e))},window.__errorHandler=function(e,n,o,r){var i="[["+j.formatDate()+" errMsg start:\n                  "+o+" \n error:"+r+"  \n                  errMsg end]]";D.mgLog({msg:i,resultCode:1}),t.upLoadStr(i)},e.isHideCustLog&&!U.getIns().isMiniGame()||(console.log=function(){for(var e,n="[["+j.formatDate()+" "+t.tagLog+"]]",o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];z.apply(void 0,[n].concat(r)),(e=V.getIns()).save.apply(e,[n].concat(r))})},n.upLoadStr=function(e){var t=N.getIns().loginGameData.reportLogUrl;x.post({url:t,data:{gameType:this.projectName,playerId:N.getIns().getSelfData().playerId,log:e}},(function(){z("上传日志成功.....")}))},n.getServerLogStr=function(e){x.post({url:N.getIns().loginGameData.reportLogUrl+"/"+this.projectName+"/"},(function(t,n){200==t&&e&&e(n)}))},n.connectServer=function(e){N.getIns().connectServer(e)},n.onShowRequsetMaks=function(){O.getIns().showView(y.CommonUIConfig.RequestMaskView)},n.onHideRequsetMaks=function(){O.getIns().closeView(y.CommonUIConfig.RequestMaskView)},n.onOutGame=function(){n.log("onOutGame 进入后台")},n.onBackGame=function(){n.log("onBackGame 返回前台")},n}(w));n(K,"defalutSpriteFrame",void 0),n(K,"bundle",null),n(K,"gameUIConfig",void 0),n(K,"lobbyUIConfig",void 0),n(K,"alertUIConfig",void 0),n(K,"tagLog",""),n(K,"initParams",void 0),n(K,"sendPingHanderId",0),n(K,"projectName",""),n(K,"loginSuffixURL",""),n(K,"loadJsonURL",null),n(K,"closeRequestMaskId",0),n(K,"showRequestMaskNum",0),n(K,"testLoginUrl",""),n(K,"uiConfigs",i.createMap()),n(K,"sdkInfo",void 0),n(K,"version",0),n(K,"isShowLobbyPlayerName",!1),n(K,"newLogo",""),r._RF.pop()}}}));

System.register("chunks:///_virtual/userInfo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NetMgr.ts","./PlayerMgr.ts","./FrameWork.ts","./GameCmd.ts","./GameInfo.ts"],(function(e){"use strict";var t,n,i,o,r,s,l,a,u,c,f,p,g,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.defineProperty},function(e){s=e.cclegacy,l=e._decorator,a=e.Label,u=e.ProgressBar,c=e.JsonAsset,f=e.Component},function(e){p=e.default},function(e){g=e.default},null,function(e){m=e.GameCmd},function(e){v=e.default}],execute:function(){var h,b,d,_,A,y,C,I,L,x,z,E,w;s._RF.push({},"e3bd5hAW+tCzJqnn00EOXIV","userInfo",void 0);var J=l.ccclass,U=l.property;e("Level",(h=J("Level"),b=U(a),d=U(a),_=U(a),A=U(u),y=U(c),h((L=t((I=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,i(o(t),"level_name",L,o(t)),i(o(t),"star_num",x,o(t)),i(o(t),"progress_label",z,o(t)),i(o(t),"progress",E,o(t)),i(o(t),"configJson",w,o(t)),r(o(t),"_levelConfig",null),t}n(t,e);var s=t.prototype;return s.onLoad=function(){this._levelConfig=this.configJson.json},s.onDestroy=function(){this.removeEventListeners()},s.start=function(){console.log("userInfo start =========== "),this.onUpdateAccountAttributes({account:g.getIns().getSelfData()}),this.addEventListeners()},s.addEventListeners=function(){p.getIns().onEventMsg(m.OnUpdateAccountAttributes,this.onUpdateAccountAttributes,this)},s.removeEventListeners=function(){p.getIns().offEventMsg(m.OnUpdateAccountAttributes,this.onUpdateAccountAttributes,this)},s.onUpdateAccountAttributes=function(e){if(console.log("更新玩家信息",JSON.stringify(e)),e.account){v.getIns().AccountInfo=e.account;for(var t=0,n=0;n<this._levelConfig.name.length;n++)if(e.Account.medal<this._levelConfig.name[n].exp){t=n;break}t>0&&t--,this.level_name=e.Account.name,this.star_num.string=this._levelConfig.name[t].star+"",this.progress_label.string=e.Account.medal-this._levelConfig.name[t].exp+" / "+(this._levelConfig.name[t+1].exp-this._levelConfig.name[t].exp),this.progress.progress=(e.Account.medal-this._levelConfig.name[t].exp)/(this._levelConfig.name[t+1].exp-this._levelConfig.name[t].exp)}},t}(f)).prototype,"level_name",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(I.prototype,"star_num",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(I.prototype,"progress_label",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(I.prototype,"progress",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(I.prototype,"configJson",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=I))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/proto.js",["./cjs-loader.mjs"],(function(e,t){"use strict";var n;return{setters:[function(e){n=e.default}],execute:function(){e("default",void 0),n.define(t.meta.url,(function(t,r,i,o,a){var l,u,s,p,c,d;n.createRequireWithReqMap({},r);u=protobuf,s=u.Reader,p=u.Writer,c=u.util,(d=u.roots.default||(u.roots.default={})).pb=((l={}).Account=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.playerId="",e.prototype.name="",e.prototype.avatar="",e.prototype.medal=0,e.prototype.gender="",e.prototype.appId="",e.prototype.nftData=null,e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.uid&&Object.hasOwnProperty.call(e,"uid")&&t.uint32(8).int64(e.uid),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(18).string(e.playerId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(34).string(e.avatar),null!=e.medal&&Object.hasOwnProperty.call(e,"medal")&&t.uint32(40).int32(e.medal),null!=e.gender&&Object.hasOwnProperty.call(e,"gender")&&t.uint32(50).string(e.gender),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(58).string(e.appId),null!=e.nftData&&Object.hasOwnProperty.call(e,"nftData")&&d.pb.NftData.encode(e.nftData,t.uint32(66).fork()).ldelim(),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(74).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.Account;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.uid=e.int64();break;case 2:r.playerId=e.string();break;case 3:r.name=e.string();break;case 4:r.avatar=e.string();break;case 5:r.medal=e.int32();break;case 6:r.gender=e.string();break;case 7:r.appId=e.string();break;case 8:r.nftData=d.pb.NftData.decode(e,e.uint32());break;case 9:r.uniqueId=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uid&&e.hasOwnProperty("uid")&&!(c.isInteger(e.uid)||e.uid&&c.isInteger(e.uid.low)&&c.isInteger(e.uid.high)))return"uid: integer|Long expected";if(null!=e.playerId&&e.hasOwnProperty("playerId")&&!c.isString(e.playerId))return"playerId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.avatar&&e.hasOwnProperty("avatar")&&!c.isString(e.avatar))return"avatar: string expected";if(null!=e.medal&&e.hasOwnProperty("medal")&&!c.isInteger(e.medal))return"medal: integer expected";if(null!=e.gender&&e.hasOwnProperty("gender")&&!c.isString(e.gender))return"gender: string expected";if(null!=e.appId&&e.hasOwnProperty("appId")&&!c.isString(e.appId))return"appId: string expected";if(null!=e.nftData&&e.hasOwnProperty("nftData")){var t=d.pb.NftData.verify(e.nftData);if(t)return"nftData."+t}return null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!c.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof d.pb.Account)return e;var t=new d.pb.Account;if(null!=e.uid&&(c.Long?(t.uid=c.Long.fromValue(e.uid)).unsigned=!1:"string"==typeof e.uid?t.uid=parseInt(e.uid,10):"number"==typeof e.uid?t.uid=e.uid:"object"==typeof e.uid&&(t.uid=new c.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.name&&(t.name=String(e.name)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.medal&&(t.medal=0|e.medal),null!=e.gender&&(t.gender=String(e.gender)),null!=e.appId&&(t.appId=String(e.appId)),null!=e.nftData){if("object"!=typeof e.nftData)throw TypeError(".pb.Account.nftData: object expected");t.nftData=d.pb.NftData.fromObject(e.nftData)}return null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.uid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.uid=t.longs===String?"0":0;n.playerId="",n.name="",n.avatar="",n.medal=0,n.gender="",n.appId="",n.nftData=null,n.uniqueId=""}return null!=e.uid&&e.hasOwnProperty("uid")&&("number"==typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?c.Long.prototype.toString.call(e.uid):t.longs===Number?new c.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.medal&&e.hasOwnProperty("medal")&&(n.medal=e.medal),null!=e.gender&&e.hasOwnProperty("gender")&&(n.gender=e.gender),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.nftData&&e.hasOwnProperty("nftData")&&(n.nftData=d.pb.NftData.toObject(e.nftData,t)),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.Player=function(){function e(e){if(this.planes=[],this.planePositions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.playerId="",e.prototype.name="",e.prototype.avatar="",e.prototype.seatIndex=0,e.prototype.state=0,e.prototype.teamId=0,e.prototype.isAI=0,e.prototype.appId="",e.prototype.nftData=null,e.prototype.gender="",e.prototype.uniqueId="",e.prototype.planes=c.emptyArray,e.prototype.isForbidden=!1,e.prototype.planePositions=c.emptyArray,e.prototype.rerollCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.uid&&Object.hasOwnProperty.call(e,"uid")&&t.uint32(8).int64(e.uid),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(18).string(e.playerId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(34).string(e.avatar),null!=e.seatIndex&&Object.hasOwnProperty.call(e,"seatIndex")&&t.uint32(40).int32(e.seatIndex),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(48).uint32(e.state),null!=e.teamId&&Object.hasOwnProperty.call(e,"teamId")&&t.uint32(56).int32(e.teamId),null!=e.isAI&&Object.hasOwnProperty.call(e,"isAI")&&t.uint32(64).int32(e.isAI),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(74).string(e.appId),null!=e.nftData&&Object.hasOwnProperty.call(e,"nftData")&&d.pb.NftData.encode(e.nftData,t.uint32(82).fork()).ldelim(),null!=e.gender&&Object.hasOwnProperty.call(e,"gender")&&t.uint32(90).string(e.gender),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(98).string(e.uniqueId),null!=e.planes&&e.planes.length)for(var n=0;n<e.planes.length;++n)t.uint32(800).uint32(e.planes[n]);if(null!=e.isForbidden&&Object.hasOwnProperty.call(e,"isForbidden")&&t.uint32(808).bool(e.isForbidden),null!=e.planePositions&&e.planePositions.length)for(n=0;n<e.planePositions.length;++n)t.uint32(816).uint32(e.planePositions[n]);return null!=e.rerollCount&&Object.hasOwnProperty.call(e,"rerollCount")&&t.uint32(824).int32(e.rerollCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.Player;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.uid=e.int64();break;case 2:r.playerId=e.string();break;case 3:r.name=e.string();break;case 4:r.avatar=e.string();break;case 5:r.seatIndex=e.int32();break;case 6:r.state=e.uint32();break;case 7:r.teamId=e.int32();break;case 8:r.isAI=e.int32();break;case 9:r.appId=e.string();break;case 10:r.nftData=d.pb.NftData.decode(e,e.uint32());break;case 11:r.gender=e.string();break;case 12:r.uniqueId=e.string();break;case 100:if(r.planes&&r.planes.length||(r.planes=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)r.planes.push(e.uint32());else r.planes.push(e.uint32());break;case 101:r.isForbidden=e.bool();break;case 102:if(r.planePositions&&r.planePositions.length||(r.planePositions=[]),2==(7&i))for(o=e.uint32()+e.pos;e.pos<o;)r.planePositions.push(e.uint32());else r.planePositions.push(e.uint32());break;case 103:r.rerollCount=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uid&&e.hasOwnProperty("uid")&&!(c.isInteger(e.uid)||e.uid&&c.isInteger(e.uid.low)&&c.isInteger(e.uid.high)))return"uid: integer|Long expected";if(null!=e.playerId&&e.hasOwnProperty("playerId")&&!c.isString(e.playerId))return"playerId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.avatar&&e.hasOwnProperty("avatar")&&!c.isString(e.avatar))return"avatar: string expected";if(null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&!c.isInteger(e.seatIndex))return"seatIndex: integer expected";if(null!=e.state&&e.hasOwnProperty("state")&&!c.isInteger(e.state))return"state: integer expected";if(null!=e.teamId&&e.hasOwnProperty("teamId")&&!c.isInteger(e.teamId))return"teamId: integer expected";if(null!=e.isAI&&e.hasOwnProperty("isAI")&&!c.isInteger(e.isAI))return"isAI: integer expected";if(null!=e.appId&&e.hasOwnProperty("appId")&&!c.isString(e.appId))return"appId: string expected";if(null!=e.nftData&&e.hasOwnProperty("nftData")){var t=d.pb.NftData.verify(e.nftData);if(t)return"nftData."+t}if(null!=e.gender&&e.hasOwnProperty("gender")&&!c.isString(e.gender))return"gender: string expected";if(null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!c.isString(e.uniqueId))return"uniqueId: string expected";if(null!=e.planes&&e.hasOwnProperty("planes")){if(!Array.isArray(e.planes))return"planes: array expected";for(var n=0;n<e.planes.length;++n)if(!c.isInteger(e.planes[n]))return"planes: integer[] expected"}if(null!=e.isForbidden&&e.hasOwnProperty("isForbidden")&&"boolean"!=typeof e.isForbidden)return"isForbidden: boolean expected";if(null!=e.planePositions&&e.hasOwnProperty("planePositions")){if(!Array.isArray(e.planePositions))return"planePositions: array expected";for(n=0;n<e.planePositions.length;++n)if(!c.isInteger(e.planePositions[n]))return"planePositions: integer[] expected"}return null!=e.rerollCount&&e.hasOwnProperty("rerollCount")&&!c.isInteger(e.rerollCount)?"rerollCount: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.Player)return e;var t=new d.pb.Player;if(null!=e.uid&&(c.Long?(t.uid=c.Long.fromValue(e.uid)).unsigned=!1:"string"==typeof e.uid?t.uid=parseInt(e.uid,10):"number"==typeof e.uid?t.uid=e.uid:"object"==typeof e.uid&&(t.uid=new c.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.name&&(t.name=String(e.name)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.seatIndex&&(t.seatIndex=0|e.seatIndex),null!=e.state&&(t.state=e.state>>>0),null!=e.teamId&&(t.teamId=0|e.teamId),null!=e.isAI&&(t.isAI=0|e.isAI),null!=e.appId&&(t.appId=String(e.appId)),null!=e.nftData){if("object"!=typeof e.nftData)throw TypeError(".pb.Player.nftData: object expected");t.nftData=d.pb.NftData.fromObject(e.nftData)}if(null!=e.gender&&(t.gender=String(e.gender)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),e.planes){if(!Array.isArray(e.planes))throw TypeError(".pb.Player.planes: array expected");t.planes=[];for(var n=0;n<e.planes.length;++n)t.planes[n]=e.planes[n]>>>0}if(null!=e.isForbidden&&(t.isForbidden=Boolean(e.isForbidden)),e.planePositions){if(!Array.isArray(e.planePositions))throw TypeError(".pb.Player.planePositions: array expected");for(t.planePositions=[],n=0;n<e.planePositions.length;++n)t.planePositions[n]=e.planePositions[n]>>>0}return null!=e.rerollCount&&(t.rerollCount=0|e.rerollCount),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.planes=[],n.planePositions=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.uid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.uid=t.longs===String?"0":0;n.playerId="",n.name="",n.avatar="",n.seatIndex=0,n.state=0,n.teamId=0,n.isAI=0,n.appId="",n.nftData=null,n.gender="",n.uniqueId="",n.isForbidden=!1,n.rerollCount=0}if(null!=e.uid&&e.hasOwnProperty("uid")&&("number"==typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?c.Long.prototype.toString.call(e.uid):t.longs===Number?new c.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.seatIndex&&e.hasOwnProperty("seatIndex")&&(n.seatIndex=e.seatIndex),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.teamId&&e.hasOwnProperty("teamId")&&(n.teamId=e.teamId),null!=e.isAI&&e.hasOwnProperty("isAI")&&(n.isAI=e.isAI),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.nftData&&e.hasOwnProperty("nftData")&&(n.nftData=d.pb.NftData.toObject(e.nftData,t)),null!=e.gender&&e.hasOwnProperty("gender")&&(n.gender=e.gender),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),e.planes&&e.planes.length){n.planes=[];for(var i=0;i<e.planes.length;++i)n.planes[i]=e.planes[i]}if(null!=e.isForbidden&&e.hasOwnProperty("isForbidden")&&(n.isForbidden=e.isForbidden),e.planePositions&&e.planePositions.length)for(n.planePositions=[],i=0;i<e.planePositions.length;++i)n.planePositions[i]=e.planePositions[i];return null!=e.rerollCount&&e.hasOwnProperty("rerollCount")&&(n.rerollCount=e.rerollCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.Item=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.position=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.itemId&&Object.hasOwnProperty.call(e,"itemId")&&t.uint32(8).uint32(e.itemId),null!=e.position&&Object.hasOwnProperty.call(e,"position")&&t.uint32(16).uint32(e.position),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.Item;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.itemId=e.uint32();break;case 2:r.position=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.itemId&&e.hasOwnProperty("itemId")&&!c.isInteger(e.itemId)?"itemId: integer expected":null!=e.position&&e.hasOwnProperty("position")&&!c.isInteger(e.position)?"position: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.Item)return e;var t=new d.pb.Item;return null!=e.itemId&&(t.itemId=e.itemId>>>0),null!=e.position&&(t.position=e.position>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.itemId=0,n.position=0),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.position&&e.hasOwnProperty("position")&&(n.position=e.position),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.Game=function(){function e(e){if(this.players=[],this.params=[],this.points=[],this.items=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.players=c.emptyArray,e.prototype.state=0,e.prototype.captain="",e.prototype.language="",e.prototype.mode=0,e.prototype.params=c.emptyArray,e.prototype.captainAppId="",e.prototype.captainUniqueId="",e.prototype.playerIndex=0,e.prototype.timeout=0,e.prototype.dice=0,e.prototype.points=c.emptyArray,e.prototype.items=c.emptyArray,e.prototype.seq=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.players&&e.players.length)for(var n=0;n<e.players.length;++n)d.pb.Player.encode(e.players[n],t.uint32(10).fork()).ldelim();if(null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(16).uint32(e.state),null!=e.captain&&Object.hasOwnProperty.call(e,"captain")&&t.uint32(26).string(e.captain),null!=e.language&&Object.hasOwnProperty.call(e,"language")&&t.uint32(34).string(e.language),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(40).uint32(e.mode),null!=e.params&&e.params.length)for(n=0;n<e.params.length;++n)t.uint32(48).int32(e.params[n]);if(null!=e.captainAppId&&Object.hasOwnProperty.call(e,"captainAppId")&&t.uint32(58).string(e.captainAppId),null!=e.captainUniqueId&&Object.hasOwnProperty.call(e,"captainUniqueId")&&t.uint32(66).string(e.captainUniqueId),null!=e.playerIndex&&Object.hasOwnProperty.call(e,"playerIndex")&&t.uint32(800).int32(e.playerIndex),null!=e.timeout&&Object.hasOwnProperty.call(e,"timeout")&&t.uint32(808).uint32(e.timeout),null!=e.dice&&Object.hasOwnProperty.call(e,"dice")&&t.uint32(816).uint32(e.dice),null!=e.points&&e.points.length)for(n=0;n<e.points.length;++n)t.uint32(824).uint32(e.points[n]);if(null!=e.items&&e.items.length)for(n=0;n<e.items.length;++n)d.pb.Item.encode(e.items[n],t.uint32(834).fork()).ldelim();return null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(840).int32(e.seq),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.Game;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.players&&r.players.length||(r.players=[]),r.players.push(d.pb.Player.decode(e,e.uint32()));break;case 2:r.state=e.uint32();break;case 3:r.captain=e.string();break;case 4:r.language=e.string();break;case 5:r.mode=e.uint32();break;case 6:if(r.params&&r.params.length||(r.params=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)r.params.push(e.int32());else r.params.push(e.int32());break;case 7:r.captainAppId=e.string();break;case 8:r.captainUniqueId=e.string();break;case 100:r.playerIndex=e.int32();break;case 101:r.timeout=e.uint32();break;case 102:r.dice=e.uint32();break;case 103:if(r.points&&r.points.length||(r.points=[]),2==(7&i))for(o=e.uint32()+e.pos;e.pos<o;)r.points.push(e.uint32());else r.points.push(e.uint32());break;case 104:r.items&&r.items.length||(r.items=[]),r.items.push(d.pb.Item.decode(e,e.uint32()));break;case 105:r.seq=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.players&&e.hasOwnProperty("players")){if(!Array.isArray(e.players))return"players: array expected";for(var t=0;t<e.players.length;++t)if(n=d.pb.Player.verify(e.players[t]))return"players."+n}if(null!=e.state&&e.hasOwnProperty("state")&&!c.isInteger(e.state))return"state: integer expected";if(null!=e.captain&&e.hasOwnProperty("captain")&&!c.isString(e.captain))return"captain: string expected";if(null!=e.language&&e.hasOwnProperty("language")&&!c.isString(e.language))return"language: string expected";if(null!=e.mode&&e.hasOwnProperty("mode")&&!c.isInteger(e.mode))return"mode: integer expected";if(null!=e.params&&e.hasOwnProperty("params")){if(!Array.isArray(e.params))return"params: array expected";for(t=0;t<e.params.length;++t)if(!c.isInteger(e.params[t]))return"params: integer[] expected"}if(null!=e.captainAppId&&e.hasOwnProperty("captainAppId")&&!c.isString(e.captainAppId))return"captainAppId: string expected";if(null!=e.captainUniqueId&&e.hasOwnProperty("captainUniqueId")&&!c.isString(e.captainUniqueId))return"captainUniqueId: string expected";if(null!=e.playerIndex&&e.hasOwnProperty("playerIndex")&&!c.isInteger(e.playerIndex))return"playerIndex: integer expected";if(null!=e.timeout&&e.hasOwnProperty("timeout")&&!c.isInteger(e.timeout))return"timeout: integer expected";if(null!=e.dice&&e.hasOwnProperty("dice")&&!c.isInteger(e.dice))return"dice: integer expected";if(null!=e.points&&e.hasOwnProperty("points")){if(!Array.isArray(e.points))return"points: array expected";for(t=0;t<e.points.length;++t)if(!c.isInteger(e.points[t]))return"points: integer[] expected"}if(null!=e.items&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(t=0;t<e.items.length;++t){var n;if(n=d.pb.Item.verify(e.items[t]))return"items."+n}}return null!=e.seq&&e.hasOwnProperty("seq")&&!c.isInteger(e.seq)?"seq: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.Game)return e;var t=new d.pb.Game;if(e.players){if(!Array.isArray(e.players))throw TypeError(".pb.Game.players: array expected");t.players=[];for(var n=0;n<e.players.length;++n){if("object"!=typeof e.players[n])throw TypeError(".pb.Game.players: object expected");t.players[n]=d.pb.Player.fromObject(e.players[n])}}if(null!=e.state&&(t.state=e.state>>>0),null!=e.captain&&(t.captain=String(e.captain)),null!=e.language&&(t.language=String(e.language)),null!=e.mode&&(t.mode=e.mode>>>0),e.params){if(!Array.isArray(e.params))throw TypeError(".pb.Game.params: array expected");for(t.params=[],n=0;n<e.params.length;++n)t.params[n]=0|e.params[n]}if(null!=e.captainAppId&&(t.captainAppId=String(e.captainAppId)),null!=e.captainUniqueId&&(t.captainUniqueId=String(e.captainUniqueId)),null!=e.playerIndex&&(t.playerIndex=0|e.playerIndex),null!=e.timeout&&(t.timeout=e.timeout>>>0),null!=e.dice&&(t.dice=e.dice>>>0),e.points){if(!Array.isArray(e.points))throw TypeError(".pb.Game.points: array expected");for(t.points=[],n=0;n<e.points.length;++n)t.points[n]=e.points[n]>>>0}if(e.items){if(!Array.isArray(e.items))throw TypeError(".pb.Game.items: array expected");for(t.items=[],n=0;n<e.items.length;++n){if("object"!=typeof e.items[n])throw TypeError(".pb.Game.items: object expected");t.items[n]=d.pb.Item.fromObject(e.items[n])}}return null!=e.seq&&(t.seq=0|e.seq),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.players=[],n.params=[],n.points=[],n.items=[]),t.defaults&&(n.state=0,n.captain="",n.language="",n.mode=0,n.captainAppId="",n.captainUniqueId="",n.playerIndex=0,n.timeout=0,n.dice=0,n.seq=0),e.players&&e.players.length){n.players=[];for(var r=0;r<e.players.length;++r)n.players[r]=d.pb.Player.toObject(e.players[r],t)}if(null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.captain&&e.hasOwnProperty("captain")&&(n.captain=e.captain),null!=e.language&&e.hasOwnProperty("language")&&(n.language=e.language),null!=e.mode&&e.hasOwnProperty("mode")&&(n.mode=e.mode),e.params&&e.params.length)for(n.params=[],r=0;r<e.params.length;++r)n.params[r]=e.params[r];if(null!=e.captainAppId&&e.hasOwnProperty("captainAppId")&&(n.captainAppId=e.captainAppId),null!=e.captainUniqueId&&e.hasOwnProperty("captainUniqueId")&&(n.captainUniqueId=e.captainUniqueId),null!=e.playerIndex&&e.hasOwnProperty("playerIndex")&&(n.playerIndex=e.playerIndex),null!=e.timeout&&e.hasOwnProperty("timeout")&&(n.timeout=e.timeout),null!=e.dice&&e.hasOwnProperty("dice")&&(n.dice=e.dice),e.points&&e.points.length)for(n.points=[],r=0;r<e.points.length;++r)n.points[r]=e.points[r];if(e.items&&e.items.length)for(n.items=[],r=0;r<e.items.length;++r)n.items[r]=d.pb.Item.toObject(e.items[r],t);return null!=e.seq&&e.hasOwnProperty("seq")&&(n.seq=e.seq),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnPlayerLogin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account=null,e.prototype.game=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&d.pb.Account.encode(e.account,t.uint32(10).fork()).ldelim(),null!=e.game&&Object.hasOwnProperty.call(e,"game")&&d.pb.Game.encode(e.game,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnPlayerLogin;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.account=d.pb.Account.decode(e,e.uint32());break;case 2:r.game=d.pb.Game.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.account&&e.hasOwnProperty("account")&&(t=d.pb.Account.verify(e.account))?"account."+t:null!=e.game&&e.hasOwnProperty("game")&&(t=d.pb.Game.verify(e.game))?"game."+t:null;var t},e.fromObject=function(e){if(e instanceof d.pb.OnPlayerLogin)return e;var t=new d.pb.OnPlayerLogin;if(null!=e.account){if("object"!=typeof e.account)throw TypeError(".pb.OnPlayerLogin.account: object expected");t.account=d.pb.Account.fromObject(e.account)}if(null!=e.game){if("object"!=typeof e.game)throw TypeError(".pb.OnPlayerLogin.game: object expected");t.game=d.pb.Game.fromObject(e.game)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.account=null,n.game=null),null!=e.account&&e.hasOwnProperty("account")&&(n.account=d.pb.Account.toObject(e.account,t)),null!=e.game&&e.hasOwnProperty("game")&&(n.game=d.pb.Game.toObject(e.game,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnGameReady=function(){function e(e){if(this.players=[],this.items=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.players=c.emptyArray,e.prototype.items=c.emptyArray,e.prototype.roundId="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.players&&e.players.length)for(var n=0;n<e.players.length;++n)d.pb.Player.encode(e.players[n],t.uint32(10).fork()).ldelim();if(null!=e.items&&e.items.length)for(n=0;n<e.items.length;++n)d.pb.Item.encode(e.items[n],t.uint32(18).fork()).ldelim();return null!=e.roundId&&Object.hasOwnProperty.call(e,"roundId")&&t.uint32(26).string(e.roundId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnGameReady;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.players&&r.players.length||(r.players=[]),r.players.push(d.pb.Player.decode(e,e.uint32()));break;case 2:r.items&&r.items.length||(r.items=[]),r.items.push(d.pb.Item.decode(e,e.uint32()));break;case 3:r.roundId=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.players&&e.hasOwnProperty("players")){if(!Array.isArray(e.players))return"players: array expected";for(var t=0;t<e.players.length;++t)if(n=d.pb.Player.verify(e.players[t]))return"players."+n}if(null!=e.items&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(t=0;t<e.items.length;++t){var n;if(n=d.pb.Item.verify(e.items[t]))return"items."+n}}return null!=e.roundId&&e.hasOwnProperty("roundId")&&!c.isString(e.roundId)?"roundId: string expected":null},e.fromObject=function(e){if(e instanceof d.pb.OnGameReady)return e;var t=new d.pb.OnGameReady;if(e.players){if(!Array.isArray(e.players))throw TypeError(".pb.OnGameReady.players: array expected");t.players=[];for(var n=0;n<e.players.length;++n){if("object"!=typeof e.players[n])throw TypeError(".pb.OnGameReady.players: object expected");t.players[n]=d.pb.Player.fromObject(e.players[n])}}if(e.items){if(!Array.isArray(e.items))throw TypeError(".pb.OnGameReady.items: array expected");for(t.items=[],n=0;n<e.items.length;++n){if("object"!=typeof e.items[n])throw TypeError(".pb.OnGameReady.items: object expected");t.items[n]=d.pb.Item.fromObject(e.items[n])}}return null!=e.roundId&&(t.roundId=String(e.roundId)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.players=[],n.items=[]),t.defaults&&(n.roundId=""),e.players&&e.players.length){n.players=[];for(var r=0;r<e.players.length;++r)n.players[r]=d.pb.Player.toObject(e.players[r],t)}if(e.items&&e.items.length)for(n.items=[],r=0;r<e.items.length;++r)n.items[r]=d.pb.Item.toObject(e.items[r],t);return null!=e.roundId&&e.hasOwnProperty("roundId")&&(n.roundId=e.roundId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnGameStart=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnGameStart;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof d.pb.OnGameStart?e:new d.pb.OnGameStart},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.Result=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uid=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.playerId="",e.prototype.name="",e.prototype.avatar="",e.prototype.award=0,e.prototype.score=0,e.prototype.isEscaped=0,e.prototype.rank=0,e.prototype.isAI=0,e.prototype.isManaged=0,e.prototype.extras="",e.prototype.appId="",e.prototype.uniqueId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.uid&&Object.hasOwnProperty.call(e,"uid")&&t.uint32(8).int64(e.uid),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(18).string(e.playerId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(34).string(e.avatar),null!=e.award&&Object.hasOwnProperty.call(e,"award")&&t.uint32(40).int32(e.award),null!=e.score&&Object.hasOwnProperty.call(e,"score")&&t.uint32(48).int32(e.score),null!=e.isEscaped&&Object.hasOwnProperty.call(e,"isEscaped")&&t.uint32(56).uint32(e.isEscaped),null!=e.rank&&Object.hasOwnProperty.call(e,"rank")&&t.uint32(64).int32(e.rank),null!=e.isAI&&Object.hasOwnProperty.call(e,"isAI")&&t.uint32(72).int32(e.isAI),null!=e.isManaged&&Object.hasOwnProperty.call(e,"isManaged")&&t.uint32(80).int32(e.isManaged),null!=e.extras&&Object.hasOwnProperty.call(e,"extras")&&t.uint32(90).string(e.extras),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(98).string(e.appId),null!=e.uniqueId&&Object.hasOwnProperty.call(e,"uniqueId")&&t.uint32(114).string(e.uniqueId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.Result;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.uid=e.int64();break;case 2:r.playerId=e.string();break;case 3:r.name=e.string();break;case 4:r.avatar=e.string();break;case 5:r.award=e.int32();break;case 6:r.score=e.int32();break;case 7:r.isEscaped=e.uint32();break;case 8:r.rank=e.int32();break;case 9:r.isAI=e.int32();break;case 10:r.isManaged=e.int32();break;case 11:r.extras=e.string();break;case 12:r.appId=e.string();break;case 14:r.uniqueId=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uid&&e.hasOwnProperty("uid")&&!(c.isInteger(e.uid)||e.uid&&c.isInteger(e.uid.low)&&c.isInteger(e.uid.high))?"uid: integer|Long expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!c.isString(e.playerId)?"playerId: string expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null!=e.avatar&&e.hasOwnProperty("avatar")&&!c.isString(e.avatar)?"avatar: string expected":null!=e.award&&e.hasOwnProperty("award")&&!c.isInteger(e.award)?"award: integer expected":null!=e.score&&e.hasOwnProperty("score")&&!c.isInteger(e.score)?"score: integer expected":null!=e.isEscaped&&e.hasOwnProperty("isEscaped")&&!c.isInteger(e.isEscaped)?"isEscaped: integer expected":null!=e.rank&&e.hasOwnProperty("rank")&&!c.isInteger(e.rank)?"rank: integer expected":null!=e.isAI&&e.hasOwnProperty("isAI")&&!c.isInteger(e.isAI)?"isAI: integer expected":null!=e.isManaged&&e.hasOwnProperty("isManaged")&&!c.isInteger(e.isManaged)?"isManaged: integer expected":null!=e.extras&&e.hasOwnProperty("extras")&&!c.isString(e.extras)?"extras: string expected":null!=e.appId&&e.hasOwnProperty("appId")&&!c.isString(e.appId)?"appId: string expected":null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&!c.isString(e.uniqueId)?"uniqueId: string expected":null},e.fromObject=function(e){if(e instanceof d.pb.Result)return e;var t=new d.pb.Result;return null!=e.uid&&(c.Long?(t.uid=c.Long.fromValue(e.uid)).unsigned=!1:"string"==typeof e.uid?t.uid=parseInt(e.uid,10):"number"==typeof e.uid?t.uid=e.uid:"object"==typeof e.uid&&(t.uid=new c.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),null!=e.playerId&&(t.playerId=String(e.playerId)),null!=e.name&&(t.name=String(e.name)),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.award&&(t.award=0|e.award),null!=e.score&&(t.score=0|e.score),null!=e.isEscaped&&(t.isEscaped=e.isEscaped>>>0),null!=e.rank&&(t.rank=0|e.rank),null!=e.isAI&&(t.isAI=0|e.isAI),null!=e.isManaged&&(t.isManaged=0|e.isManaged),null!=e.extras&&(t.extras=String(e.extras)),null!=e.appId&&(t.appId=String(e.appId)),null!=e.uniqueId&&(t.uniqueId=String(e.uniqueId)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.uid=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.uid=t.longs===String?"0":0;n.playerId="",n.name="",n.avatar="",n.award=0,n.score=0,n.isEscaped=0,n.rank=0,n.isAI=0,n.isManaged=0,n.extras="",n.appId="",n.uniqueId=""}return null!=e.uid&&e.hasOwnProperty("uid")&&("number"==typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?c.Long.prototype.toString.call(e.uid):t.longs===Number?new c.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),null!=e.playerId&&e.hasOwnProperty("playerId")&&(n.playerId=e.playerId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.avatar&&e.hasOwnProperty("avatar")&&(n.avatar=e.avatar),null!=e.award&&e.hasOwnProperty("award")&&(n.award=e.award),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),null!=e.isEscaped&&e.hasOwnProperty("isEscaped")&&(n.isEscaped=e.isEscaped),null!=e.rank&&e.hasOwnProperty("rank")&&(n.rank=e.rank),null!=e.isAI&&e.hasOwnProperty("isAI")&&(n.isAI=e.isAI),null!=e.isManaged&&e.hasOwnProperty("isManaged")&&(n.isManaged=e.isManaged),null!=e.extras&&e.hasOwnProperty("extras")&&(n.extras=e.extras),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.uniqueId&&e.hasOwnProperty("uniqueId")&&(n.uniqueId=e.uniqueId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnGameFinish=function(){function e(e){if(this.results=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.results=c.emptyArray,e.prototype.reason=0,e.prototype.roundId="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.results&&e.results.length)for(var n=0;n<e.results.length;++n)d.pb.Result.encode(e.results[n],t.uint32(10).fork()).ldelim();return null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(16).uint32(e.reason),null!=e.roundId&&Object.hasOwnProperty.call(e,"roundId")&&t.uint32(26).string(e.roundId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnGameFinish;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.results&&r.results.length||(r.results=[]),r.results.push(d.pb.Result.decode(e,e.uint32()));break;case 2:r.reason=e.uint32();break;case 3:r.roundId=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.results&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var n=d.pb.Result.verify(e.results[t]);if(n)return"results."+n}}return null!=e.reason&&e.hasOwnProperty("reason")&&!c.isInteger(e.reason)?"reason: integer expected":null!=e.roundId&&e.hasOwnProperty("roundId")&&!c.isString(e.roundId)?"roundId: string expected":null},e.fromObject=function(e){if(e instanceof d.pb.OnGameFinish)return e;var t=new d.pb.OnGameFinish;if(e.results){if(!Array.isArray(e.results))throw TypeError(".pb.OnGameFinish.results: array expected");t.results=[];for(var n=0;n<e.results.length;++n){if("object"!=typeof e.results[n])throw TypeError(".pb.OnGameFinish.results: object expected");t.results[n]=d.pb.Result.fromObject(e.results[n])}}return null!=e.reason&&(t.reason=e.reason>>>0),null!=e.roundId&&(t.roundId=String(e.roundId)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.results=[]),t.defaults&&(n.reason=0,n.roundId=""),e.results&&e.results.length){n.results=[];for(var r=0;r<e.results.length;++r)n.results[r]=d.pb.Result.toObject(e.results[r],t)}return null!=e.reason&&e.hasOwnProperty("reason")&&(n.reason=e.reason),null!=e.roundId&&e.hasOwnProperty("roundId")&&(n.roundId=e.roundId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.SetTypeAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.planeNum=0,e.prototype.isItem=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.planeNum&&Object.hasOwnProperty.call(e,"planeNum")&&t.uint32(16).int32(e.planeNum),null!=e.isItem&&Object.hasOwnProperty.call(e,"isItem")&&t.uint32(24).int32(e.isItem),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.SetTypeAPI;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.planeNum=e.int32();break;case 3:r.isItem=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isInteger(e.type)?"type: integer expected":null!=e.planeNum&&e.hasOwnProperty("planeNum")&&!c.isInteger(e.planeNum)?"planeNum: integer expected":null!=e.isItem&&e.hasOwnProperty("isItem")&&!c.isInteger(e.isItem)?"isItem: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.SetTypeAPI)return e;var t=new d.pb.SetTypeAPI;return null!=e.type&&(t.type=0|e.type),null!=e.planeNum&&(t.planeNum=0|e.planeNum),null!=e.isItem&&(t.isItem=0|e.isItem),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.planeNum=0,n.isItem=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.planeNum&&e.hasOwnProperty("planeNum")&&(n.planeNum=e.planeNum),null!=e.isItem&&e.hasOwnProperty("isItem")&&(n.isItem=e.isItem),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.SetTypeReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.SetTypeReply;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!c.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.SetTypeReply)return e;var t=new d.pb.SetTypeReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnPlayerSetType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.planeNum=0,e.prototype.isItem=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.planeNum&&Object.hasOwnProperty.call(e,"planeNum")&&t.uint32(16).int32(e.planeNum),null!=e.isItem&&Object.hasOwnProperty.call(e,"isItem")&&t.uint32(24).int32(e.isItem),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnPlayerSetType;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.planeNum=e.int32();break;case 3:r.isItem=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isInteger(e.type)?"type: integer expected":null!=e.planeNum&&e.hasOwnProperty("planeNum")&&!c.isInteger(e.planeNum)?"planeNum: integer expected":null!=e.isItem&&e.hasOwnProperty("isItem")&&!c.isInteger(e.isItem)?"isItem: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.OnPlayerSetType)return e;var t=new d.pb.OnPlayerSetType;return null!=e.type&&(t.type=0|e.type),null!=e.planeNum&&(t.planeNum=0|e.planeNum),null!=e.isItem&&(t.isItem=0|e.isItem),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.planeNum=0,n.isItem=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.planeNum&&e.hasOwnProperty("planeNum")&&(n.planeNum=e.planeNum),null!=e.isItem&&e.hasOwnProperty("isItem")&&(n.isItem=e.isItem),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.ThrowDiceAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.point=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.point&&Object.hasOwnProperty.call(e,"point")&&t.uint32(8).uint32(e.point),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.ThrowDiceAPI;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.point=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.point&&e.hasOwnProperty("point")&&!c.isInteger(e.point)?"point: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.ThrowDiceAPI)return e;var t=new d.pb.ThrowDiceAPI;return null!=e.point&&(t.point=e.point>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.point=0),null!=e.point&&e.hasOwnProperty("point")&&(n.point=e.point),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.ThrowDiceReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.ThrowDiceReply;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!c.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.ThrowDiceReply)return e;var t=new d.pb.ThrowDiceReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnPlayerThrowDice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.point=0,e.prototype.dice=0,e.prototype.timeout=0,e.prototype.bomb=0,e.prototype.seq=0,e.prototype.isReroll=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.point&&Object.hasOwnProperty.call(e,"point")&&t.uint32(8).uint32(e.point),null!=e.dice&&Object.hasOwnProperty.call(e,"dice")&&t.uint32(16).uint32(e.dice),null!=e.timeout&&Object.hasOwnProperty.call(e,"timeout")&&t.uint32(24).uint32(e.timeout),null!=e.bomb&&Object.hasOwnProperty.call(e,"bomb")&&t.uint32(32).uint32(e.bomb),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(40).int32(e.seq),null!=e.isReroll&&Object.hasOwnProperty.call(e,"isReroll")&&t.uint32(48).bool(e.isReroll),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnPlayerThrowDice;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.point=e.uint32();break;case 2:r.dice=e.uint32();break;case 3:r.timeout=e.uint32();break;case 4:r.bomb=e.uint32();break;case 5:r.seq=e.int32();break;case 6:r.isReroll=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.point&&e.hasOwnProperty("point")&&!c.isInteger(e.point)?"point: integer expected":null!=e.dice&&e.hasOwnProperty("dice")&&!c.isInteger(e.dice)?"dice: integer expected":null!=e.timeout&&e.hasOwnProperty("timeout")&&!c.isInteger(e.timeout)?"timeout: integer expected":null!=e.bomb&&e.hasOwnProperty("bomb")&&!c.isInteger(e.bomb)?"bomb: integer expected":null!=e.seq&&e.hasOwnProperty("seq")&&!c.isInteger(e.seq)?"seq: integer expected":null!=e.isReroll&&e.hasOwnProperty("isReroll")&&"boolean"!=typeof e.isReroll?"isReroll: boolean expected":null},e.fromObject=function(e){if(e instanceof d.pb.OnPlayerThrowDice)return e;var t=new d.pb.OnPlayerThrowDice;return null!=e.point&&(t.point=e.point>>>0),null!=e.dice&&(t.dice=e.dice>>>0),null!=e.timeout&&(t.timeout=e.timeout>>>0),null!=e.bomb&&(t.bomb=e.bomb>>>0),null!=e.seq&&(t.seq=0|e.seq),null!=e.isReroll&&(t.isReroll=Boolean(e.isReroll)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.point=0,n.dice=0,n.timeout=0,n.bomb=0,n.seq=0,n.isReroll=!1),null!=e.point&&e.hasOwnProperty("point")&&(n.point=e.point),null!=e.dice&&e.hasOwnProperty("dice")&&(n.dice=e.dice),null!=e.timeout&&e.hasOwnProperty("timeout")&&(n.timeout=e.timeout),null!=e.bomb&&e.hasOwnProperty("bomb")&&(n.bomb=e.bomb),null!=e.seq&&e.hasOwnProperty("seq")&&(n.seq=e.seq),null!=e.isReroll&&e.hasOwnProperty("isReroll")&&(n.isReroll=e.isReroll),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.MoveAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.plane=0,e.prototype.point=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.plane&&Object.hasOwnProperty.call(e,"plane")&&t.uint32(8).uint32(e.plane),null!=e.point&&Object.hasOwnProperty.call(e,"point")&&t.uint32(16).uint32(e.point),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.MoveAPI;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.plane=e.uint32();break;case 2:r.point=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.plane&&e.hasOwnProperty("plane")&&!c.isInteger(e.plane)?"plane: integer expected":null!=e.point&&e.hasOwnProperty("point")&&!c.isInteger(e.point)?"point: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.MoveAPI)return e;var t=new d.pb.MoveAPI;return null!=e.plane&&(t.plane=e.plane>>>0),null!=e.point&&(t.point=e.point>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.plane=0,n.point=0),null!=e.plane&&e.hasOwnProperty("plane")&&(n.plane=e.plane),null!=e.point&&e.hasOwnProperty("point")&&(n.point=e.point),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.MoveReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.MoveReply;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!c.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.MoveReply)return e;var t=new d.pb.MoveReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnPlayerMove=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.plane=0,e.prototype.point=0,e.prototype.position=0,e.prototype.timeout=0,e.prototype.type=0,e.prototype.destination=0,e.prototype.dice=0,e.prototype.targetId="",e.prototype.targetPlane=0,e.prototype.targetAppId="",e.prototype.targetUniqueId="",e.prototype.seq=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.plane&&Object.hasOwnProperty.call(e,"plane")&&t.uint32(8).uint32(e.plane),null!=e.point&&Object.hasOwnProperty.call(e,"point")&&t.uint32(16).uint32(e.point),null!=e.position&&Object.hasOwnProperty.call(e,"position")&&t.uint32(24).uint32(e.position),null!=e.timeout&&Object.hasOwnProperty.call(e,"timeout")&&t.uint32(32).uint32(e.timeout),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).uint32(e.type),null!=e.destination&&Object.hasOwnProperty.call(e,"destination")&&t.uint32(48).uint32(e.destination),null!=e.dice&&Object.hasOwnProperty.call(e,"dice")&&t.uint32(56).uint32(e.dice),null!=e.targetId&&Object.hasOwnProperty.call(e,"targetId")&&t.uint32(66).string(e.targetId),null!=e.targetPlane&&Object.hasOwnProperty.call(e,"targetPlane")&&t.uint32(72).uint32(e.targetPlane),null!=e.targetAppId&&Object.hasOwnProperty.call(e,"targetAppId")&&t.uint32(82).string(e.targetAppId),null!=e.targetUniqueId&&Object.hasOwnProperty.call(e,"targetUniqueId")&&t.uint32(90).string(e.targetUniqueId),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(96).int32(e.seq),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnPlayerMove;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.plane=e.uint32();break;case 2:r.point=e.uint32();break;case 3:r.position=e.uint32();break;case 4:r.timeout=e.uint32();break;case 5:r.type=e.uint32();break;case 6:r.destination=e.uint32();break;case 7:r.dice=e.uint32();break;case 8:r.targetId=e.string();break;case 9:r.targetPlane=e.uint32();break;case 10:r.targetAppId=e.string();break;case 11:r.targetUniqueId=e.string();break;case 12:r.seq=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.plane&&e.hasOwnProperty("plane")&&!c.isInteger(e.plane)?"plane: integer expected":null!=e.point&&e.hasOwnProperty("point")&&!c.isInteger(e.point)?"point: integer expected":null!=e.position&&e.hasOwnProperty("position")&&!c.isInteger(e.position)?"position: integer expected":null!=e.timeout&&e.hasOwnProperty("timeout")&&!c.isInteger(e.timeout)?"timeout: integer expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isInteger(e.type)?"type: integer expected":null!=e.destination&&e.hasOwnProperty("destination")&&!c.isInteger(e.destination)?"destination: integer expected":null!=e.dice&&e.hasOwnProperty("dice")&&!c.isInteger(e.dice)?"dice: integer expected":null!=e.targetId&&e.hasOwnProperty("targetId")&&!c.isString(e.targetId)?"targetId: string expected":null!=e.targetPlane&&e.hasOwnProperty("targetPlane")&&!c.isInteger(e.targetPlane)?"targetPlane: integer expected":null!=e.targetAppId&&e.hasOwnProperty("targetAppId")&&!c.isString(e.targetAppId)?"targetAppId: string expected":null!=e.targetUniqueId&&e.hasOwnProperty("targetUniqueId")&&!c.isString(e.targetUniqueId)?"targetUniqueId: string expected":null!=e.seq&&e.hasOwnProperty("seq")&&!c.isInteger(e.seq)?"seq: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.OnPlayerMove)return e;var t=new d.pb.OnPlayerMove;return null!=e.plane&&(t.plane=e.plane>>>0),null!=e.point&&(t.point=e.point>>>0),null!=e.position&&(t.position=e.position>>>0),null!=e.timeout&&(t.timeout=e.timeout>>>0),null!=e.type&&(t.type=e.type>>>0),null!=e.destination&&(t.destination=e.destination>>>0),null!=e.dice&&(t.dice=e.dice>>>0),null!=e.targetId&&(t.targetId=String(e.targetId)),null!=e.targetPlane&&(t.targetPlane=e.targetPlane>>>0),null!=e.targetAppId&&(t.targetAppId=String(e.targetAppId)),null!=e.targetUniqueId&&(t.targetUniqueId=String(e.targetUniqueId)),null!=e.seq&&(t.seq=0|e.seq),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.plane=0,n.point=0,n.position=0,n.timeout=0,n.type=0,n.destination=0,n.dice=0,n.targetId="",n.targetPlane=0,n.targetAppId="",n.targetUniqueId="",n.seq=0),null!=e.plane&&e.hasOwnProperty("plane")&&(n.plane=e.plane),null!=e.point&&e.hasOwnProperty("point")&&(n.point=e.point),null!=e.position&&e.hasOwnProperty("position")&&(n.position=e.position),null!=e.timeout&&e.hasOwnProperty("timeout")&&(n.timeout=e.timeout),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.destination&&e.hasOwnProperty("destination")&&(n.destination=e.destination),null!=e.dice&&e.hasOwnProperty("dice")&&(n.dice=e.dice),null!=e.targetId&&e.hasOwnProperty("targetId")&&(n.targetId=e.targetId),null!=e.targetPlane&&e.hasOwnProperty("targetPlane")&&(n.targetPlane=e.targetPlane),null!=e.targetAppId&&e.hasOwnProperty("targetAppId")&&(n.targetAppId=e.targetAppId),null!=e.targetUniqueId&&e.hasOwnProperty("targetUniqueId")&&(n.targetUniqueId=e.targetUniqueId),null!=e.seq&&e.hasOwnProperty("seq")&&(n.seq=e.seq),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.RerollAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.isReroll=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.isReroll&&Object.hasOwnProperty.call(e,"isReroll")&&t.uint32(8).bool(e.isReroll),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.RerollAPI;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.isReroll=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.isReroll&&e.hasOwnProperty("isReroll")&&"boolean"!=typeof e.isReroll?"isReroll: boolean expected":null},e.fromObject=function(e){if(e instanceof d.pb.RerollAPI)return e;var t=new d.pb.RerollAPI;return null!=e.isReroll&&(t.isReroll=Boolean(e.isReroll)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.isReroll=!1),null!=e.isReroll&&e.hasOwnProperty("isReroll")&&(n.isReroll=e.isReroll),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.RerollReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.RerollReply;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!c.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.RerollReply)return e;var t=new d.pb.RerollReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnRoundStart=function(){function e(e){if(this.items=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerIndex=0,e.prototype.timeout=0,e.prototype.dice=0,e.prototype.items=c.emptyArray,e.prototype.bomb=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.playerIndex&&Object.hasOwnProperty.call(e,"playerIndex")&&t.uint32(8).int32(e.playerIndex),null!=e.timeout&&Object.hasOwnProperty.call(e,"timeout")&&t.uint32(16).uint32(e.timeout),null!=e.dice&&Object.hasOwnProperty.call(e,"dice")&&t.uint32(24).uint32(e.dice),null!=e.items&&e.items.length)for(var n=0;n<e.items.length;++n)d.pb.Item.encode(e.items[n],t.uint32(34).fork()).ldelim();return null!=e.bomb&&Object.hasOwnProperty.call(e,"bomb")&&t.uint32(40).uint32(e.bomb),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnRoundStart;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.playerIndex=e.int32();break;case 2:r.timeout=e.uint32();break;case 3:r.dice=e.uint32();break;case 4:r.items&&r.items.length||(r.items=[]),r.items.push(d.pb.Item.decode(e,e.uint32()));break;case 5:r.bomb=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.playerIndex&&e.hasOwnProperty("playerIndex")&&!c.isInteger(e.playerIndex))return"playerIndex: integer expected";if(null!=e.timeout&&e.hasOwnProperty("timeout")&&!c.isInteger(e.timeout))return"timeout: integer expected";if(null!=e.dice&&e.hasOwnProperty("dice")&&!c.isInteger(e.dice))return"dice: integer expected";if(null!=e.items&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var n=d.pb.Item.verify(e.items[t]);if(n)return"items."+n}}return null!=e.bomb&&e.hasOwnProperty("bomb")&&!c.isInteger(e.bomb)?"bomb: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.OnRoundStart)return e;var t=new d.pb.OnRoundStart;if(null!=e.playerIndex&&(t.playerIndex=0|e.playerIndex),null!=e.timeout&&(t.timeout=e.timeout>>>0),null!=e.dice&&(t.dice=e.dice>>>0),e.items){if(!Array.isArray(e.items))throw TypeError(".pb.OnRoundStart.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if("object"!=typeof e.items[n])throw TypeError(".pb.OnRoundStart.items: object expected");t.items[n]=d.pb.Item.fromObject(e.items[n])}}return null!=e.bomb&&(t.bomb=e.bomb>>>0),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[]),t.defaults&&(n.playerIndex=0,n.timeout=0,n.dice=0,n.bomb=0),null!=e.playerIndex&&e.hasOwnProperty("playerIndex")&&(n.playerIndex=e.playerIndex),null!=e.timeout&&e.hasOwnProperty("timeout")&&(n.timeout=e.timeout),null!=e.dice&&e.hasOwnProperty("dice")&&(n.dice=e.dice),e.items&&e.items.length){n.items=[];for(var r=0;r<e.items.length;++r)n.items[r]=d.pb.Item.toObject(e.items[r],t)}return null!=e.bomb&&e.hasOwnProperty("bomb")&&(n.bomb=e.bomb),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.AddItemAPI=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.position=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.itemId&&Object.hasOwnProperty.call(e,"itemId")&&t.uint32(8).uint32(e.itemId),null!=e.position&&Object.hasOwnProperty.call(e,"position")&&t.uint32(16).uint32(e.position),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.AddItemAPI;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.itemId=e.uint32();break;case 2:r.position=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.itemId&&e.hasOwnProperty("itemId")&&!c.isInteger(e.itemId)?"itemId: integer expected":null!=e.position&&e.hasOwnProperty("position")&&!c.isInteger(e.position)?"position: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.AddItemAPI)return e;var t=new d.pb.AddItemAPI;return null!=e.itemId&&(t.itemId=e.itemId>>>0),null!=e.position&&(t.position=e.position>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.itemId=0,n.position=0),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.position&&e.hasOwnProperty("position")&&(n.position=e.position),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.AddItemReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.resultCode&&Object.hasOwnProperty.call(e,"resultCode")&&t.uint32(8).uint32(e.resultCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.AddItemReply;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.resultCode=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resultCode&&e.hasOwnProperty("resultCode")&&!c.isInteger(e.resultCode)?"resultCode: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.AddItemReply)return e;var t=new d.pb.AddItemReply;return null!=e.resultCode&&(t.resultCode=e.resultCode>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultCode=0),null!=e.resultCode&&e.hasOwnProperty("resultCode")&&(n.resultCode=e.resultCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.OnPlayerAddItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.position=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.itemId&&Object.hasOwnProperty.call(e,"itemId")&&t.uint32(8).uint32(e.itemId),null!=e.position&&Object.hasOwnProperty.call(e,"position")&&t.uint32(16).uint32(e.position),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.OnPlayerAddItem;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.itemId=e.uint32();break;case 2:r.position=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.itemId&&e.hasOwnProperty("itemId")&&!c.isInteger(e.itemId)?"itemId: integer expected":null!=e.position&&e.hasOwnProperty("position")&&!c.isInteger(e.position)?"position: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.OnPlayerAddItem)return e;var t=new d.pb.OnPlayerAddItem;return null!=e.itemId&&(t.itemId=e.itemId>>>0),null!=e.position&&(t.position=e.position>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.itemId=0,n.position=0),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.position&&e.hasOwnProperty("position")&&(n.position=e.position),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.NftData=function(){function e(e){if(this.nftPayloads=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nftPayloads=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.nftPayloads&&e.nftPayloads.length)for(var n=0;n<e.nftPayloads.length;++n)d.pb.NftPayload.encode(e.nftPayloads[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.NftData;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.nftPayloads&&r.nftPayloads.length||(r.nftPayloads=[]),r.nftPayloads.push(d.pb.NftPayload.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.nftPayloads&&e.hasOwnProperty("nftPayloads")){if(!Array.isArray(e.nftPayloads))return"nftPayloads: array expected";for(var t=0;t<e.nftPayloads.length;++t){var n=d.pb.NftPayload.verify(e.nftPayloads[t]);if(n)return"nftPayloads."+n}}return null},e.fromObject=function(e){if(e instanceof d.pb.NftData)return e;var t=new d.pb.NftData;if(e.nftPayloads){if(!Array.isArray(e.nftPayloads))throw TypeError(".pb.NftData.nftPayloads: array expected");t.nftPayloads=[];for(var n=0;n<e.nftPayloads.length;++n){if("object"!=typeof e.nftPayloads[n])throw TypeError(".pb.NftData.nftPayloads: object expected");t.nftPayloads[n]=d.pb.NftPayload.fromObject(e.nftPayloads[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.nftPayloads=[]),e.nftPayloads&&e.nftPayloads.length){n.nftPayloads=[];for(var r=0;r<e.nftPayloads.length;++r)n.nftPayloads[r]=d.pb.NftPayload.toObject(e.nftPayloads[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l.NftPayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.richMediaType="",e.prototype.RichMediaUrl="",e.prototype.ContractAddress="",e.prototype.NftToken="",e.prototype.ModelType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.richMediaType&&Object.hasOwnProperty.call(e,"richMediaType")&&t.uint32(10).string(e.richMediaType),null!=e.RichMediaUrl&&Object.hasOwnProperty.call(e,"RichMediaUrl")&&t.uint32(18).string(e.RichMediaUrl),null!=e.ContractAddress&&Object.hasOwnProperty.call(e,"ContractAddress")&&t.uint32(26).string(e.ContractAddress),null!=e.NftToken&&Object.hasOwnProperty.call(e,"NftToken")&&t.uint32(34).string(e.NftToken),null!=e.ModelType&&Object.hasOwnProperty.call(e,"ModelType")&&t.uint32(40).int32(e.ModelType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new d.pb.NftPayload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.richMediaType=e.string();break;case 2:r.RichMediaUrl=e.string();break;case 3:r.ContractAddress=e.string();break;case 4:r.NftToken=e.string();break;case 5:r.ModelType=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.richMediaType&&e.hasOwnProperty("richMediaType")&&!c.isString(e.richMediaType)?"richMediaType: string expected":null!=e.RichMediaUrl&&e.hasOwnProperty("RichMediaUrl")&&!c.isString(e.RichMediaUrl)?"RichMediaUrl: string expected":null!=e.ContractAddress&&e.hasOwnProperty("ContractAddress")&&!c.isString(e.ContractAddress)?"ContractAddress: string expected":null!=e.NftToken&&e.hasOwnProperty("NftToken")&&!c.isString(e.NftToken)?"NftToken: string expected":null!=e.ModelType&&e.hasOwnProperty("ModelType")&&!c.isInteger(e.ModelType)?"ModelType: integer expected":null},e.fromObject=function(e){if(e instanceof d.pb.NftPayload)return e;var t=new d.pb.NftPayload;return null!=e.richMediaType&&(t.richMediaType=String(e.richMediaType)),null!=e.RichMediaUrl&&(t.RichMediaUrl=String(e.RichMediaUrl)),null!=e.ContractAddress&&(t.ContractAddress=String(e.ContractAddress)),null!=e.NftToken&&(t.NftToken=String(e.NftToken)),null!=e.ModelType&&(t.ModelType=0|e.ModelType),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.richMediaType="",n.RichMediaUrl="",n.ContractAddress="",n.NftToken="",n.ModelType=0),null!=e.richMediaType&&e.hasOwnProperty("richMediaType")&&(n.richMediaType=e.richMediaType),null!=e.RichMediaUrl&&e.hasOwnProperty("RichMediaUrl")&&(n.RichMediaUrl=e.RichMediaUrl),null!=e.ContractAddress&&e.hasOwnProperty("ContractAddress")&&(n.ContractAddress=e.ContractAddress),null!=e.NftToken&&e.hasOwnProperty("NftToken")&&(n.NftToken=e.NftToken),null!=e.ModelType&&e.hasOwnProperty("ModelType")&&(n.ModelType=e.ModelType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),l),i.exports=d,e("default",i.exports)}));e("__cjsMetaURL",t.meta.url)}}}));

System.register("chunks:///_virtual/TestGraphic.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,o,i,a,c,s,u,l,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator},function(e){a=e.cclegacy,c=e._decorator,s=e.Node,u=e.Component,l=e.Graphics,p=e.Vec3,f=e.tween}],execute:function(){var h,g,m,w,v,x,d;a._RF.push({},"ec3f08ZmrZBqquxIWa3/z7x","TestGraphic",void 0);var y=c.ccclass,b=c.property;e("TestGraphic",(h=y("TestGraphic"),g=b(s),m=b(s),h((x=n((v=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,r(o(n),"graphicNode",x,o(n)),r(o(n),"plane",d,o(n)),n}t(n,e);var a=n.prototype;return a.start=function(){var e=i(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("test graphics ======================"),this.graphicNode.getComponent(l).lineWidth=30,[new p(100,100,0),new p(200,100,0),new p(200.222,200,0),new p(300,500,0),new p(500,600,0)],console.log("test graphics ====================== 0"),n=Math.pow(2,64),console.log("a type == ",typeof n),console.log("a == ",n),console.log("aaa == ",Math.pow(2,64));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.aaa=function(){var e=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){console.log("222"),e(!0)}),1e3)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.magnetEffect=function(){var e=i(regeneratorRuntime.mark((function e(n,t,r){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<r.length)){e.next=9;break}return i=r.slice(o,r.length),console.log("newPaths === ",i),e.next=6,this.move(n,r[o],t,i).catch((function(e){console.log("log e == ",e)}));case 6:o++,e.next=1;break;case 9:this.clearLine(t);case 10:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),a.move=function(){var e=i(regeneratorRuntime.mark((function e(n,t,r,o){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){f(n).to(.3,{position:t},{onUpdate:function(e,t){console.log("paths 00 === ",o);var a=o.slice(0);a.unshift(n.getPosition()),console.log("xxxxxxxxxx == ",e.getPosition()),console.log("paths1 == ",a),i.drawLine(r,a)},onComplete:function(){i.drawLine(r,o)}}).call((function(){e(!0)})).start()})));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r,o){return e.apply(this,arguments)}}(),a.drawLine=function(e,n){e.clear();for(var t=0;t<n.length;t++)0==t?e.moveTo(n[t].x,n[t].y):e.lineTo(n[t].x,n[t].y);console.log("drawLine----------------------"),e.stroke()},a.clearLine=function(e){e.clear(),console.log("clearLine---------------------")},n}(u)).prototype,"graphicNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(v.prototype,"plane",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=v))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"f04beYErnBJI5kkQKpWu1PA","Singleton",void 0);n("default",function(){function n(){}return n.getIns=function(){return this.instance||(this.instance=new this),this.instance},n.destroyIns=function(){this.instance=null},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Const.ts","./Singleton.ts","./EventDispatcher.ts","./sdk.ts","./Env.ts","./FrameWork.ts"],(function(n){"use strict";var e,t,o,s,u,i,a,c,m,r,l,d,p,S,h,_,g,f;return{setters:[function(n){e=n.inheritsLoose,t=n.defineProperty,o=n.assertThisInitialized,s=n.asyncToGenerator},function(n){u=n.cclegacy,i=n._decorator,a=n.js,c=n.resources,m=n.Node,r=n.AudioSource,l=n.director},function(n){d=n.Const,p=n.EnvType},function(n){S=n.default},function(n){h=n.EventDispatcher},function(n){_=n.sdk},function(n){g=n.default},function(n){f=n.FrameWork}],execute:function(){var M;u._RF.push({},"f5391blf/pLfps2O1cecMqx","AudioMgr",void 0);var v=i.ccclass;i.property,n("AudioMgr",v("AudioMgr")(M=function(n){function u(){for(var e,s=arguments.length,u=new Array(s),i=0;i<s;i++)u[i]=arguments[i];return e=n.call.apply(n,[this].concat(u))||this,t(o(e),"musicVolume",1),t(o(e),"soundVolume",1),t(o(e),"baseSoundVolume",1),t(o(e),"baseMusicVolume",1),t(o(e),"music",null),t(o(e),"oldMusicName",null),t(o(e),"sounds",a.createMap()),t(o(e),"soundMap",{}),t(o(e),"soundList",null),e}e(u,n);var i=u.prototype;return i.init=function(){var n=s(regeneratorRuntime.mark((function n(e,t){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t&&t.dynamic_config&&t.dynamic_config.resource_domain&&e.forEach((function(n){n.url=t.dynamic_config.resource_domain+"/game/"+(f.loadJsonURL||f.loginSuffixURL)+"/sounds/"+n.name+"."+n.type})),this.soundList=e,o={list:this.soundList},_.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound_list,o),this.generalSoundMap(t),console.log("soundList>>>>>>>>>>>>>>>>>>>>>>>>>",e),h.getIns().on(d.Event.Common.CHANGE_MUSIC_STATE,this.onChangeMusic,this),h.getIns().on(d.Event.Common.CHANGE_SOUND_STATE,this.onChangeSound,this),h.getIns().on(d.Event.Common.APP_COMMON_GAME_SOUND_VOLUME,this.appCommonGameSoundVolum,this),this.soundVolume=1,this.musicVolume=1,this.baseSoundVolume=1,this.baseMusicVolume=1,this.isOpenSound()?this.openSound():this.hideSound(),this.isOpenMusic()?this.openMusic():this.hideMusic(),console.log("UserData.getIns().gameConfig.gameSoundVolume === ",_.getGameSoundVolume()),this.setMusicVolume(_.getGameSoundVolume()/100),this.setSoundVolume(_.getGameSoundVolume()/100);case 18:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),i.generalSoundMap=function(n){var e=this;n&&n.dynamic_config&&n.dynamic_config.resource_domain?this.soundList.forEach((function(n){e.soundMap[n.name]=n.url})):this.soundList.forEach((function(n){var t=n.url.replace("https://","https://"+d.EnvPrefix[p[g.getIns().getType()]]);e.soundMap[n.name]=t})),console.log("generalSoundMap ================= "),console.log(JSON.stringify(this.soundMap))},i.onChangeMusic=function(n){this.saveMusicState(n)},i.onChangeSound=function(n){this.saveSoundState(n)},i.playMusic=function(){var n=s(regeneratorRuntime.mark((function n(e,t,o){var s,u,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o||this.getSoundName(e),1!=_.getGameSoundControl()){n.next=13;break}return s="声音文件路径错误",this.soundMap[s]&&(s=this.soundMap[s]),u="声音文件路径错误",this.soundMap[u]&&(u=this.soundMap[u]),_.notifyAppChangePlayerStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound,{isPlay:!1,name:this.oldMusicName,times:0,url:s,type:"mp3"}),_.notifyAppChangePlayerStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound,{isPlay:!0,name:u,times:0,url:u,type:"mp3"}),_.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound,{isPlay:!1,name:this.oldMusicName,times:0,url:s,type:"mp3"}),_.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound,{isPlay:!0,name:u,times:0,url:u,type:"mp3"}),this.oldMusicName=JSON.parse(JSON.stringify(u)),n.abrupt("return");case 13:c.load(e,(function(n,o){if(n)console.error("load sound "+e+" err ",n);else{if(!i.music){var s=new m;i.music=s.addComponent(r),l.getScene().addChild(s)}i.music.stop(),i.music.loop=t,i.music.clip=o,i.baseMusicVolume>0&&i.music.play(),i.music.volume=i.musicVolume}}));case 14:case"end":return n.stop()}}),n,this)})));return function(e,t,o){return n.apply(this,arguments)}}(),i.playSound=function(n,e,t){var o=this;void 0===e&&(e=!1);var s=t;if(s||(s=this.getSoundName(n)),1==_.getGameSoundControl()){var u="声音文件路径错误";return this.soundMap[s]&&(u=this.soundMap[s]),_.notifyAppChangePlayerStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound,{isPlay:!0,name:s,times:1,url:u,type:"mp3"}),void _.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound,{isPlay:!0,name:s,times:1,url:u,type:"mp3"})}c.load(n,(function(t,s){if(t)console.error("load sound "+n+" err ",t);else{var u=o.sounds[n];if(!u){var i=new m;u=i.addComponent(r),o.sounds[n]=u,l.getScene().addChild(i)}u.loop=e,u.volume=o.soundVolume,e?(u.clip=s,o.baseSoundVolume>0&&u.play()):(u.stop(),o.baseSoundVolume>0&&u.playOneShot(s))}}))},i.getSoundName=function(n){var e=n.lastIndexOf("/");return n.slice(e+1,n.length)},i.stopSound=function(n){var e=this.sounds[n];e&&e.stop()},i.hideMusic=function(){_.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_bg_music_state,{state:!1}),this.baseMusicVolume=0,this.music&&this.music.pause()},i.openMusic=function(){_.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_bg_music_state,{state:!0}),this.baseMusicVolume=1,this.music&&this.music.play()},i.hideSound=function(){for(var n in _.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound_state,{state:!1}),this.baseSoundVolume=0,this.sounds){this.sounds[n].stop()}},i.openSound=function(){_.notifyAppChangeGameStatus(d.Event.Sdk.MG2APP_GAME_STATUS_LIST.mg_common_game_sound_state,{state:!0}),this.baseSoundVolume=1},i.appCommonGameSoundVolum=function(n){this.setSoundVolume(n/100),this.setMusicVolume(n/100)},i.setSoundVolume=function(n){for(var e in this.soundVolume=n,this.sounds){this.sounds[e].volume=n}},i.setMusicVolume=function(n){this.music&&(this.music.volume=n),this.musicVolume=n},i.isOpenMusic=function(){var n=localStorage.getItem("local_cache_music_state");return console.log("music_state isOpenMusic == ",n),null!=n&&null!=n&&" "!=n&&""!=n||(n="1"),1==parseInt(n)},i.isOpenSound=function(){var n=localStorage.getItem("local_cache_sound_state");return console.log("sound_state isOpenSound == ",n),null!=n&&null!=n&&" "!=n&&""!=n||(n="1"),1==parseInt(n)},i.saveMusicState=function(n){n?this.openMusic():this.hideMusic();var e=n?1:0;localStorage.setItem("local_cache_music_state",e+"")},i.saveSoundState=function(n){n?this.openSound():this.hideSound();var e=n?1:0;localStorage.setItem("local_cache_sound_state",e+"")},u}(S))||M);u._RF.pop()}}}));

System.register("chunks:///_virtual/DragonEffectTest.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,c,o,a,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,a=e.Node,l=e.Toggle,u=e.Component}],execute:function(){var s,f,p,g,h,y,b;c._RF.push({},"fe49d3g1J9A6LUbqwik4K5G","DragonEffectTest",void 0);var d=o.ccclass,v=o.property;e("DragonEffectTest",(s=d("DragonEffectTest"),f=v(a),p=v(l),s((y=t((h=function(e){function t(){for(var t,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,n(i(t),"circle",y,i(t)),n(i(t),"check",b,i(t)),t}r(t,e);var c=t.prototype;return c.start=function(){},c.onClickCheck=function(){},t}(u)).prototype,"circle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(h.prototype,"check",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BaseCmd.ts","./ViewConst.ts","./Const.ts","./Singleton.ts","./Tip.ts","./PlatformMgr.ts","./EventDispatcher.ts","./ServerStructureData.ts","./Lang.ts","./Http.ts","./common_proto.mjs_cjs=&original=.js","./ProtoMgr.ts","./SocketMgr.ts","./NetMgr.ts","./RoomMgr.ts","./PlayerMgr.ts","./BaseSdk.ts","./EmptySdk.ts","./FSMSdk.ts","./sdk.ts","./ResMgr.ts","./UIMgr.ts","./BaseView.ts","./Env.ts","./Log.ts","./AudioMgr.ts","./CustomButton.ts","./Util.ts","./BaseLobbyCtrl.ts","./BaseLobbyModel.ts","./BaseCommon.ts","./LanguageCom.ts","./LobbyPlayerItem.ts","./LobbyPlayers.ts","./BaseLobbyView.ts","./StatisticsPingMgr.ts","./FpsMgr.ts","./FrameWork.ts","./AudioConst.ts","./GameCmd.ts","./UIConfig.ts","./GameConst.ts","./GameModel.ts","./LobbyConst.ts","./GameCommonMessage.ts","./GameUICustomConfig.ts","./GameCtrl.ts","./UIBase.ts","./LobbyModePnl.ts","./Cide.ts","./ThrowCidePnl.ts","./help.ts","./CommonEffectConfig.ts","./MVP.ts","./TurnAnimation.ts","./LoadingGameView.ts","./WidgetEx.ts","./LobbyOtherButtonCom.ts","./DragonEffectMgr.ts","./chess.ts","./Prop.ts","./RemotConfigEffect.ts","./Head.ts","./GamePlayerItem.ts","./GameView.ts","./Constants.ts","./MyAlert.ts","./RequestMaskView.ts","./GameInfo.ts","./BaseLobbyConst.ts","./UpdateConstants.ts","./LobbyModeSelect.ts","./LangMgr.ts","./LevelInfo.ts","./CacheMgr.ts","./UpdatePanel.ts","./HotUpdate.ts","./GameOver.ts","./LabelEx.ts","./loading.ts","./MD5.ts","./AutoLoadSprite.ts","./BaseLoginView.ts","./proto.mjs_cjs=&original=.js","./GameUtils.ts","./GameRoot.ts","./IconManager.ts","./HomeSeat.ts","./OtherButtonCom.ts","./Alert.ts","./MobileInfoView.ts","./checkerboard.ts","./setingAndHelp.ts","./GameOtherButtons.ts","./userInfo.ts","./TestGraphic.ts","./DragonEffectTest.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});